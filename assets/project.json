{"extensionStorage":{"SPmbpCST":{"loaded":true,"imgStorage":{}},"SP0zMenuMaker":{"menus":{"bp-map":{"items":[{"text":"BLUEPRINT","value":"BLUEPRINT"},{"text":"MAP","value":"MAP"}],"acceptReporters":false}}}},"targets":[{"isStage":true,"name":"Stage","variables":{"d|@:u;#VUQ:)scIMSRO.":["MAP X",0],"=g}-R~szxYi!2jD!Da+t":["MAP Y",0],"xwO9/sE*6/~([E59OA;!":["MAP SIZE",1],"pn4#^nEr498zHtuEDCqp":["MAP - SELECT X","160"],"I[NY_?Ojezs6{5QHF{i4":["MAP - SELECT Y","160"],"4l~Wn7LrJ7(J{%9wehep":["CAMERA X",0],"pX[/jIE_$ix%fheGYaYL":["CAMERA Y",0],"2fH9uf^)^0WhE[,Fofn=":["MAP BRIGHTNESS",0],"mHdm#bkM-wL!FNqK9d(c":["IN VIEWPORT?",false],"*?zWJy/75f0mzO$rPYE#":["DASHBOARD PAGE","View"],"YvtN%N%+tYOL=W2v.ZS[":["MAP OFFSET","165"],"UN?ZVQafE;S;1.}60fdy":["RESULT MESSAGE -",""],"Fc$mE^OXZyqOn4V+C!#q":["FULLSCREEN?","0"],"EWv5j@S~0CBH2l^LMJR)":["CURRENT BLUEPRINT JSON","{\"desc\":\"This is my new map!\",\"name\":\"My new Map\",\"map\":\"Dogville\",\"blueprint\":\"\",\"timestamp\":\"2025-07-25 14:37:45\"}"],"(`df=`+dfsF0VAhnB#2,":["SELECTED SLOT JSON",""],"k6rtZwOzy:p7j${Ce}!O":["SLOT INDEX","1"],"H]{?V--pdKLq##EluzqH":["CURRENT MAP","Dogville"],"@$kuADgYF{|NSR;?Uj8l":["HOVERED MAP","Dogville"],"nYY;h~fbGI85y=F{4LOv":["CURRENT VERSION","Beta"],"K)YJI2}fqvVAJ?=rt[u8":["- VERSION","Beta Test 1"],"-JB#}4UaW_lfdK$97t[s":["current text","0aaa"],"O4leA.^BaJIzoPCKl@7:":["IS ADMIN?","false"],"#svnRe?po1={ZjC]$(VL":["DELETE MODE","0"],"|,Ig$Ks^*EHS$(#gT=F.":["☁ unique logins",0,true],"-:d-v.yNw~:%3pw)y^9l":["METADATA EDIT MODE","0"]},"lists":{"MFG;NW2f2BoX-3V2nHhf":["CURRENT PEARL MAP",["10/10/red"]],"[jr-`lry:7j1m@BW66B`":["PEARL MAP BLUEPRINTS",["㞂…੠츌戅숀ꠂ삖倁ܰ嬂穠ᶄι耎Ȑ耍ࡄ宄ࢀⲡ➑藏턀ᄀ찁릠ͫⶣF눂롂ꀉ촑.̒Ÿ㐂٘ಠ造ȥƺ튲讥镶2렊쀖鷀瘟潌F\u0016砀昀๸ႀ㘐_ "]],"wjV7bgGgdeT~k]jbXJ~f":["CURRENT MAP METADATA",["My new Map","This is my new map!","Dogville","2025-07-25 14:37:45"]],"Qh:6uHNf!,AK!@*p)ti%":["PEARL FILTER",[]]},"broadcasts":{"kXpZosM,b9t$2+ucj=0S":"position body","yGyv?e1:j[4~uy/g=Efe":"open mapspace","nV,Eg]r6I|B?~x2tOV%T":"load mapspace HUD","seuk6.O|Am=JJat`7St0":"flush disposable GUI","=:IO3z?7KpDAm/Jy{3Zp":"create disposable GUI","C(z#7DjPnYo}Y4OW5N5D":"delete menu","!p4QU`0%aon,VrOvsNfH":"index","%a=ltqYnL$9^ES,#^GqR":"remove index","},X}:]GF[kH=$m2a{`Y1":"open load menu","wz*~2ndN#]DWn]f{xS][":"close load menu","IZT7{2wmyJ9}8!^cgxnq":"init map","=i%GP?]ds):v:2M^M8UP":"reload menu","h,47~@b?YYko8Ahmz3qj":"save map","CIcFN%36C~m@kmuOW1Cc":"exit mapspace","U73zwzF%}pH]@uFI8k/)":"open new menu","VoSDF)ek5|l4xI@%*3.O":"close new menu","+,XHYX,TQU[VJg7=^h;U":"import menu"},"blocks":{"B*":{"opcode":"SP0zMenuMaker___SP0zMenuMaker_TEMP_BLOCK","next":null,"parent":null,"inputs":{},"fields":{}},"B+":{"opcode":"SPmbpCST_$-,.___SPmbpCST_TEMP_BLOCK","next":null,"parent":null,"inputs":{},"fields":{}}},"comments":{"B,":{"blockId":null,"x":50,"y":50,"width":667,"height":332,"minimized":true,"text":"Configuration for https://turbowarp.org/\nYou can move, resize, and minimize this comment, but don't edit it by hand. This comment can be deleted to remove the stored settings.\n{\"runtimeOptions\":{\"maxClones\":Infinity,\"miscLimits\":false,\"fencing\":false},\"width\":720,\"height\":380} // _twconfig_"}},"currentCostume":0,"costumes":[{"name":"Black","bitmapResolution":1,"dataFormat":"svg","assetId":"e429fe4427e85a42bbe353a4eee4cc06","md5ext":"e429fe4427e85a42bbe353a4eee4cc06.svg","rotationCenterX":422.74999999999994,"rotationCenterY":231.74999999999997},{"name":"Title","bitmapResolution":1,"dataFormat":"svg","assetId":"e429fe4427e85a42bbe353a4eee4cc06","md5ext":"e429fe4427e85a42bbe353a4eee4cc06.svg","rotationCenterX":422.74999999999994,"rotationCenterY":231.74999999999997},{"name":"Load","bitmapResolution":1,"dataFormat":"svg","assetId":"aee73e63bffa74e3e314807b5558ea17","md5ext":"aee73e63bffa74e3e314807b5558ea17.svg","rotationCenterX":422.75,"rotationCenterY":231.75}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":null},{"isStage":false,"name":" ","variables":{},"lists":{"MY5DQJD{tzCGe}D~p0*r":["ACCESS KEYS",[]]},"broadcasts":{},"blocks":{},"comments":{},"currentCostume":0,"costumes":[{"name":" ","bitmapResolution":1,"dataFormat":"svg","assetId":"3339a2953a3bf62bb80e54ff575dbced","md5ext":"3339a2953a3bf62bb80e54ff575dbced.svg","rotationCenterX":0,"rotationCenterY":0}],"sounds":[],"volume":100,"layerOrder":5,"visible":false,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"pearle brain","variables":{"DOF$IX.ws$:SS.U{FRxN":["clone type",0],"}oZwF]6NwY8VU(PS1:%+":["rel x","0"],"KDa0v=nuyBoOV)DWMhtK":["rel y","0"],")5-L_9VWa4-[2VWaal;j":["idx","10"],"VGDu?;4M+:%V$J5j9Pdc":["idy","10"],"Wpl75|aItJ}r+5#4y?t^":["pearl color","red"],"p/0=*C#`qWrKW#+$q_@+":["cam x accel",-1.5e-323],"tOP/IMuM/GdaLxof7*:%":["cam y accel",-1.5e-323],"miP@}g@)c!x-Hv*p,dP:":["cam clamp",0],"V/)O09Puzi7Fb%UN^z($":["ID","Y"],"eS~V0O@msHVZZ#jgv!})":["quickimport","10/10/red"],"#GxPC|RRH=FjRxY%Nb?$":["quickdelete",0],"8CfEIjxe56S`u=2#92E+":["load dir","1"]},"lists":{"pJYin=ozFkh^I_5jcMgj":["legit numbers",["-","1","2","3","4","5","6","7","8","9","0"]],"Z,8q[h^R_vya6E:nxmrk":["legit dividers",[",","/",".","\\",":","_","#","*"," "]]},"broadcasts":{},"blocks":{"fa":{"opcode":"procedures_definition","next":"bE","parent":null,"inputs":{"custom_block":[1,"fb"]},"fields":{},"topLevel":true},"fb":{"opcode":"procedures_prototype","next":null,"parent":"fa","inputs":{"U-RyeiK;5a,aPo0;4+cr":[1,"pM"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pearl-parse CComp %s","argumentids":"[\"U-RyeiK;5a,aPo0;4+cr\"]","argumentnames":"[\"CComp\"]","argumentdefaults":"[\"\"]","warp":"true"}},"pM":{"opcode":"argument_reporter_string_number","next":null,"parent":"fb","inputs":{},"fields":{"VALUE":["CComp",null]},"shadow":true},"bE":{"opcode":"SPtempVars_setVar","next":"fc","parent":"fa","inputs":{"NAME":[1,[10,"local CComp"]],"VALUE":[3,"pN",[10,""]]},"fields":{"TYPE":["sprite",null]}},"pN":{"opcode":"argument_reporter_string_number","next":null,"parent":"bE","inputs":{},"fields":{"VALUE":["CComp",null]}},"fc":{"opcode":"SPtempVars_setVar","next":"fd","parent":"bE","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[1,[10,""]]},"fields":{"TYPE":["sprite",null]}},"fd":{"opcode":"SPtempVars_setVar","next":"w","parent":"fc","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"w":{"opcode":"control_if","next":"x","parent":"fd","inputs":{"CONDITION":[2,"fe"],"SUBSTACK":[2,"pO"]},"fields":{}},"fe":{"opcode":"operator_not","next":null,"parent":"w","inputs":{"OPERAND":[2,"pP"]},"fields":{}},"pP":{"opcode":"procedures_call","next":null,"parent":"fe","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","warp":"true","return":"2"}},"pO":{"opcode":"procedures_return","next":null,"parent":"w","inputs":{"VALUE":[1,[10,"valueerror"]]},"fields":{}},"x":{"opcode":"control_repeat_until","next":"y","parent":"w","inputs":{"CONDITION":[2,"pQ"],"SUBSTACK":[2,"pR"]},"fields":{}},"pQ":{"opcode":"procedures_call","next":null,"parent":"x","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","warp":"true","return":"2"}},"pR":{"opcode":"SPtempVars_changeVar","next":null,"parent":"x","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"y":{"opcode":"control_repeat_until","next":"bF","parent":"x","inputs":{"CONDITION":[2,"ff"],"SUBSTACK":[2,"bG"]},"fields":{}},"ff":{"opcode":"operator_not","next":null,"parent":"y","inputs":{"OPERAND":[2,"pS"]},"fields":{}},"pS":{"opcode":"procedures_call","next":null,"parent":"ff","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","warp":"true","return":"2"}},"bG":{"opcode":"SPtempVars_setVar","next":"pT","parent":"y","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[3,"bH",[10,""]]},"fields":{"TYPE":["sprite",null]}},"bH":{"opcode":"operator_join","next":null,"parent":"bG","inputs":{"STRING1":[3,"pU",[10,"apple "]],"STRING2":[3,"bI",[10,"banana"]]},"fields":{}},"pU":{"opcode":"SPtempVars_getVar","next":null,"parent":"bH","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"bI":{"opcode":"operator_letter_of","next":null,"parent":"bH","inputs":{"LETTER":[3,"pV",[6,"1"]],"STRING":[3,"pW",[10,"apple"]]},"fields":{}},"pV":{"opcode":"SPtempVars_getVar","next":null,"parent":"bI","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"pW":{"opcode":"SPtempVars_getVar","next":null,"parent":"bI","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"pT":{"opcode":"SPtempVars_changeVar","next":null,"parent":"bG","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"bF":{"opcode":"SPtempVars_setVar","next":"z","parent":"y","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[3,"fg",[10,""]]},"fields":{"TYPE":["sprite",null]}},"fg":{"opcode":"operator_join","next":null,"parent":"bF","inputs":{"STRING1":[3,"pX",[10,"apple "]],"STRING2":[1,[10,"/"]]},"fields":{}},"pX":{"opcode":"SPtempVars_getVar","next":null,"parent":"fg","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"z":{"opcode":"control_repeat_until","next":"A","parent":"bF","inputs":{"CONDITION":[2,"pY"],"SUBSTACK":[2,"B"]},"fields":{}},"pY":{"opcode":"procedures_call","next":null,"parent":"z","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","warp":"true","return":"2"}},"B":{"opcode":"control_if","next":"pZ","parent":"z","inputs":{"CONDITION":[2,"fh"],"SUBSTACK":[2,"p!"]},"fields":{}},"fh":{"opcode":"operator_not","next":null,"parent":"B","inputs":{"OPERAND":[2,"p#"]},"fields":{}},"p#":{"opcode":"procedures_call","next":null,"parent":"fh","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit divider","argumentids":"[]","warp":"true","return":"2"}},"p!":{"opcode":"procedures_return","next":null,"parent":"B","inputs":{"VALUE":[1,[10,"diverror"]]},"fields":{}},"pZ":{"opcode":"SPtempVars_changeVar","next":null,"parent":"B","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"A":{"opcode":"control_repeat_until","next":"bJ","parent":"z","inputs":{"CONDITION":[2,"fi"],"SUBSTACK":[2,"bK"]},"fields":{}},"fi":{"opcode":"operator_not","next":null,"parent":"A","inputs":{"OPERAND":[2,"p%"]},"fields":{}},"p%":{"opcode":"procedures_call","next":null,"parent":"fi","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","warp":"true","return":"2"}},"bK":{"opcode":"SPtempVars_setVar","next":"p(","parent":"A","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[3,"bL",[10,""]]},"fields":{"TYPE":["sprite",null]}},"bL":{"opcode":"operator_join","next":null,"parent":"bK","inputs":{"STRING1":[3,"p)",[10,"apple "]],"STRING2":[3,"bM",[10,"banana"]]},"fields":{}},"p)":{"opcode":"SPtempVars_getVar","next":null,"parent":"bL","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"bM":{"opcode":"operator_letter_of","next":null,"parent":"bL","inputs":{"LETTER":[3,"p*",[6,"1"]],"STRING":[3,"p+",[10,"apple"]]},"fields":{}},"p*":{"opcode":"SPtempVars_getVar","next":null,"parent":"bM","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"p+":{"opcode":"SPtempVars_getVar","next":null,"parent":"bM","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"p(":{"opcode":"SPtempVars_changeVar","next":null,"parent":"bK","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"bJ":{"opcode":"SPtempVars_setVar","next":"C","parent":"A","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[3,"fj",[10,""]]},"fields":{"TYPE":["sprite",null]}},"fj":{"opcode":"operator_join","next":null,"parent":"bJ","inputs":{"STRING1":[3,"p,",[10,"apple "]],"STRING2":[1,[10,"/"]]},"fields":{}},"p,":{"opcode":"SPtempVars_getVar","next":null,"parent":"fj","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"C":{"opcode":"control_repeat_until","next":"fk","parent":"bJ","inputs":{"CONDITION":[2,"fl"],"SUBSTACK":[2,"p-"]},"fields":{}},"fl":{"opcode":"operator_not","next":null,"parent":"C","inputs":{"OPERAND":[2,"p."]},"fields":{}},"p.":{"opcode":"procedures_call","next":null,"parent":"fl","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is legit divider","argumentids":"[]","warp":"true","return":"2"}},"p-":{"opcode":"SPtempVars_changeVar","next":null,"parent":"C","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"fk":{"opcode":"SPtempVars_setVar","next":"D","parent":"C","inputs":{"NAME":[1,[10,"pearlTEMP"]],"VALUE":[1,[10,""]]},"fields":{"TYPE":["sprite",null]}},"D":{"opcode":"control_repeat_until","next":"bN","parent":"fk","inputs":{"CONDITION":[2,"bO"],"SUBSTACK":[2,"bP"]},"fields":{}},"bO":{"opcode":"operator_equals","next":null,"parent":"D","inputs":{"OPERAND1":[3,"p/",[10,""]],"OPERAND2":[3,"fm",[10,"50"]]},"fields":{}},"p/":{"opcode":"SPtempVars_getVar","next":null,"parent":"bO","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"fm":{"opcode":"operator_add","next":null,"parent":"bO","inputs":{"NUM1":[3,"fn",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"fn":{"opcode":"operator_length","next":null,"parent":"fm","inputs":{"STRING":[3,"p:",[10,"apple"]]},"fields":{}},"p:":{"opcode":"argument_reporter_string_number","next":null,"parent":"fn","inputs":{},"fields":{"VALUE":["CComp",null]}},"bP":{"opcode":"SPtempVars_setVar","next":"p;","parent":"D","inputs":{"NAME":[1,[10,"pearlTEMP"]],"VALUE":[3,"bQ",[10,""]]},"fields":{"TYPE":["sprite",null]}},"bQ":{"opcode":"operator_join","next":null,"parent":"bP","inputs":{"STRING1":[3,"p=",[10,"apple "]],"STRING2":[3,"bR",[10,"banana"]]},"fields":{}},"p=":{"opcode":"SPtempVars_getVar","next":null,"parent":"bQ","inputs":{"NAME":[1,[10,"pearlTEMP"]]},"fields":{"TYPE":["sprite",null]}},"bR":{"opcode":"operator_letter_of","next":null,"parent":"bQ","inputs":{"LETTER":[3,"p?",[6,"1"]],"STRING":[3,"p@",[10,"apple"]]},"fields":{}},"p?":{"opcode":"SPtempVars_getVar","next":null,"parent":"bR","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"p@":{"opcode":"SPtempVars_getVar","next":null,"parent":"bR","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"p;":{"opcode":"SPtempVars_changeVar","next":null,"parent":"bP","inputs":{"NAME":[1,[10,"parse i"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"bN":{"opcode":"procedures_call","next":"E","parent":"D","inputs":{"d~g_6JJCBf!CD7+dKrz@":[3,"p[",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"evaluate %s","argumentids":"[\"d~g_6JJCBf!CD7+dKrz@\"]","warp":"true"}},"p[":{"opcode":"SPtempVars_getVar","next":null,"parent":"bN","inputs":{"NAME":[1,[10,"pearlTEMP"]]},"fields":{"TYPE":["sprite",null]}},"E":{"opcode":"control_if","next":"bS","parent":"bN","inputs":{"CONDITION":[2,"fo"],"SUBSTACK":[2,"p]"]},"fields":{}},"fo":{"opcode":"operator_equals","next":null,"parent":"E","inputs":{"OPERAND1":[3,"p^",[10,""]],"OPERAND2":[1,[10,"error"]]},"fields":{}},"p^":{"opcode":"SPtempVars_getVar","next":null,"parent":"fo","inputs":{"NAME":[1,[10,"pearlTEMP"]]},"fields":{"TYPE":["sprite",null]}},"p]":{"opcode":"procedures_return","next":null,"parent":"E","inputs":{"VALUE":[1,[10,"pearlerror"]]},"fields":{}},"bS":{"opcode":"SPtempVars_setVar","next":"fp","parent":"E","inputs":{"NAME":[1,[10,"parsed CComp"]],"VALUE":[3,"bT",[10,""]]},"fields":{"TYPE":["sprite",null]}},"bT":{"opcode":"operator_join","next":null,"parent":"bS","inputs":{"STRING1":[3,"p_",[10,"apple "]],"STRING2":[3,"p`",[10,"banana"]]},"fields":{}},"p_":{"opcode":"SPtempVars_getVar","next":null,"parent":"bT","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"p`":{"opcode":"SPtempVars_getVar","next":null,"parent":"bT","inputs":{"NAME":[1,[10,"pearlTEMP"]]},"fields":{"TYPE":["sprite",null]}},"fp":{"opcode":"SPtempVars_deleteVar","next":"fq","parent":"bS","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"fq":{"opcode":"SPtempVars_deleteVar","next":"bU","parent":"fp","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"bU":{"opcode":"SPtempVars_setVar","next":"fr","parent":"fq","inputs":{"NAME":[1,[10,"result"]],"VALUE":[3,"p{",[10,"0"]]},"fields":{"TYPE":["sprite",null]}},"p{":{"opcode":"SPtempVars_getVar","next":null,"parent":"bU","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"fr":{"opcode":"SPtempVars_deleteVar","next":"fs","parent":"bU","inputs":{"NAME":[1,[10,"parsed CComp"]]},"fields":{"TYPE":["sprite",null]}},"fs":{"opcode":"procedures_return","next":null,"parent":"fr","inputs":{"VALUE":[3,"p|",[10,""]]},"fields":{}},"p|":{"opcode":"SPtempVars_getVar","next":null,"parent":"fs","inputs":{"NAME":[1,[10,"result"]]},"fields":{"TYPE":["sprite",null]}},"ft":{"opcode":"procedures_definition","next":"fu","parent":null,"inputs":{"custom_block":[1,"p}"]},"fields":{},"topLevel":true},"p}":{"opcode":"procedures_prototype","next":null,"parent":"ft","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"is legit","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"fu":{"opcode":"procedures_return","next":null,"parent":"ft","inputs":{"VALUE":[3,"fv",[10,""]]},"fields":{}},"fv":{"opcode":"data_listcontainsitem","next":null,"parent":"fu","inputs":{"ITEM":[3,"bV",[10,"thing"]]},"fields":{"LIST":["legit numbers","pJYin=ozFkh^I_5jcMgj"]}},"bV":{"opcode":"operator_letter_of","next":null,"parent":"fv","inputs":{"LETTER":[3,"p~",[6,"1"]],"STRING":[3,"qa",[10,"apple"]]},"fields":{}},"p~":{"opcode":"SPtempVars_getVar","next":null,"parent":"bV","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"qa":{"opcode":"SPtempVars_getVar","next":null,"parent":"bV","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"fw":{"opcode":"procedures_definition","next":"fx","parent":null,"inputs":{"custom_block":[1,"qb"]},"fields":{},"topLevel":true},"qb":{"opcode":"procedures_prototype","next":null,"parent":"fw","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"is legit divider","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"fx":{"opcode":"procedures_return","next":null,"parent":"fw","inputs":{"VALUE":[3,"fy",[10,""]]},"fields":{}},"fy":{"opcode":"data_listcontainsitem","next":null,"parent":"fx","inputs":{"ITEM":[3,"bW",[10,"thing"]]},"fields":{"LIST":["legit dividers","Z,8q[h^R_vya6E:nxmrk"]}},"bW":{"opcode":"operator_letter_of","next":null,"parent":"fy","inputs":{"LETTER":[3,"qc",[6,"1"]],"STRING":[3,"qd",[10,"apple"]]},"fields":{}},"qc":{"opcode":"SPtempVars_getVar","next":null,"parent":"bW","inputs":{"NAME":[1,[10,"parse i"]]},"fields":{"TYPE":["sprite",null]}},"qd":{"opcode":"SPtempVars_getVar","next":null,"parent":"bW","inputs":{"NAME":[1,[10,"local CComp"]]},"fields":{"TYPE":["sprite",null]}},"fz":{"opcode":"procedures_definition","next":"F","parent":null,"inputs":{"custom_block":[1,"G"]},"fields":{},"topLevel":true},"G":{"opcode":"procedures_prototype","next":null,"parent":"fz","inputs":{"2OwR|ouAmD|K,[K$l7AY":[1,"qe"],"C[]y.ADKMBA:*KU8I5jX":[1,"qf"],"hMtNqmg8HT4}WnfrcdBf":[1,"qg"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Convert %s %s to %s","argumentids":"[\"2OwR|ouAmD|K,[K$l7AY\",\"C[]y.ADKMBA:*KU8I5jX\",\"hMtNqmg8HT4}WnfrcdBf\"]","argumentnames":"[\"1\",\"item\",\"2\"]","argumentdefaults":"[\"\",\"\",\"\",\"\"]","warp":"true"}},"qe":{"opcode":"argument_reporter_string_number","next":null,"parent":"G","inputs":{},"fields":{"VALUE":["1",null]},"shadow":true},"qf":{"opcode":"argument_reporter_string_number","next":null,"parent":"G","inputs":{},"fields":{"VALUE":["item",null]},"shadow":true},"qg":{"opcode":"argument_reporter_string_number","next":null,"parent":"G","inputs":{},"fields":{"VALUE":["2",null]},"shadow":true},"F":{"opcode":"control_if","next":"H","parent":"fz","inputs":{"CONDITION":[2,"bX"],"SUBSTACK":[2,"qh"]},"fields":{}},"bX":{"opcode":"operator_or","next":null,"parent":"F","inputs":{"OPERAND1":[2,"bY"],"OPERAND2":[2,"fA"]},"fields":{}},"bY":{"opcode":"operator_equals","next":null,"parent":"bX","inputs":{"OPERAND1":[3,"qi",[10,""]],"OPERAND2":[3,"qj",[10,"50"]]},"fields":{}},"qi":{"opcode":"argument_reporter_string_number","next":null,"parent":"bY","inputs":{},"fields":{"VALUE":["1",null]}},"qj":{"opcode":"argument_reporter_string_number","next":null,"parent":"bY","inputs":{},"fields":{"VALUE":["2",null]}},"fA":{"opcode":"operator_equals","next":null,"parent":"bX","inputs":{"OPERAND1":[3,"qk",[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"qk":{"opcode":"argument_reporter_string_number","next":null,"parent":"fA","inputs":{},"fields":{"VALUE":["item",null]}},"qh":{"opcode":"control_stop","next":null,"parent":"F","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"H":{"opcode":"control_if_else","next":null,"parent":"F","inputs":{"CONDITION":[2,"fB"],"SUBSTACK":[2,"bZ"],"SUBSTACK2":[2,"b!"]},"fields":{}},"fB":{"opcode":"operator_equals","next":null,"parent":"H","inputs":{"OPERAND1":[3,"ql",[10,""]],"OPERAND2":[1,[10,"BLUEPRINT"]]},"fields":{}},"ql":{"opcode":"argument_reporter_string_number","next":null,"parent":"fB","inputs":{},"fields":{"VALUE":["1",null]}},"bZ":{"opcode":"SPtempVars_setVar","next":"b#","parent":"H","inputs":{"NAME":[1,[10,"decode"]],"VALUE":[3,"b%",[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"b%":{"opcode":"shovellzcompress_decompress","next":null,"parent":"bZ","inputs":{"TEXT":[3,"qm",[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"qn"]},"fields":{}},"qm":{"opcode":"argument_reporter_string_number","next":null,"parent":"b%","inputs":{},"fields":{"VALUE":["item",null]}},"qn":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"b%","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"b#":{"opcode":"SPtempVars_setVar","next":"fC","parent":"bZ","inputs":{"NAME":[1,[10,"item"]],"VALUE":[3,"fD",[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"fD":{"opcode":"SPjson_convert","next":null,"parent":"b#","inputs":{"OBJ":[1,[10,""]],"TYPE":[1,"qo"]},"fields":{}},"qo":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"fD","inputs":{},"fields":{"CONVERTS":["array",null]},"shadow":true},"fC":{"opcode":"SPtempVars_setVar","next":"I","parent":"b#","inputs":{"NAME":[1,[10,"itemI"]],"VALUE":[1,[10,"0"]]},"fields":{"TYPE":["sprite",null]}},"I":{"opcode":"control_repeat","next":"fE","parent":"fC","inputs":{"TIMES":[3,"fF",[6,"10"]],"SUBSTACK":[2,"fG"]},"fields":{}},"fF":{"opcode":"strings_count","next":null,"parent":"I","inputs":{"SUBSTRING":[1,[10,"%"]],"STRING":[3,"qp",[10,""]]},"fields":{}},"qp":{"opcode":"SPtempVars_getVar","next":null,"parent":"fF","inputs":{"NAME":[1,[10,"decode"]]},"fields":{"TYPE":["sprite",null]}},"fG":{"opcode":"SPtempVars_changeVar","next":"fH","parent":"I","inputs":{"NAME":[1,[10,"itemI"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"fH":{"opcode":"SPtempVars_setVar","next":null,"parent":"fG","inputs":{"NAME":[1,[10,"item"]],"VALUE":[3,"b(",[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"b(":{"opcode":"SPjson_arrAdd","next":null,"parent":"fH","inputs":{"ITEM":[3,"b)",[10,"thing"]],"ARR":[3,"qq",[10,"[]"]]},"fields":{}},"b)":{"opcode":"strings_split","next":null,"parent":"b(","inputs":{"ITEM":[3,"qr",[4,"3"]],"STRING":[3,"qs",[10,"apple"]],"SPLIT":[1,[10,"%"]]},"fields":{}},"qr":{"opcode":"SPtempVars_getVar","next":null,"parent":"b)","inputs":{"NAME":[1,[10,"itemI"]]},"fields":{"TYPE":["sprite",null]}},"qs":{"opcode":"SPtempVars_getVar","next":null,"parent":"b)","inputs":{"NAME":[1,[10,"decode"]]},"fields":{"TYPE":["sprite",null]}},"qq":{"opcode":"SPtempVars_getVar","next":null,"parent":"b(","inputs":{"NAME":[1,[10,"item"]]},"fields":{"TYPE":["sprite",null]}},"fE":{"opcode":"procedures_return","next":null,"parent":"I","inputs":{"VALUE":[3,"b*",[10,""]]},"fields":{}},"b*":{"opcode":"SPjson_convert","next":null,"parent":"fE","inputs":{"OBJ":[3,"qt",[10,"{}"]],"TYPE":[1,"qu"]},"fields":{}},"qt":{"opcode":"SPtempVars_getVar","next":null,"parent":"b*","inputs":{"NAME":[1,[10,"item"]]},"fields":{"TYPE":["sprite",null]}},"qu":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"b*","inputs":{},"fields":{"CONVERTS":["string",null]},"shadow":true},"b!":{"opcode":"control_if_else","next":null,"parent":"H","inputs":{"CONDITION":[2,"fI"],"SUBSTACK":[2,"b+"]},"fields":{}},"fI":{"opcode":"operator_equals","next":null,"parent":"b!","inputs":{"OPERAND1":[3,"qv",[10,""]],"OPERAND2":[1,[10,"MAP"]]},"fields":{}},"qv":{"opcode":"argument_reporter_string_number","next":null,"parent":"fI","inputs":{},"fields":{"VALUE":["1",null]}},"b+":{"opcode":"SPtempVars_setVar","next":"fJ","parent":"b!","inputs":{"NAME":[1,[10,"list"]],"VALUE":[3,"qw",[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"qw":{"opcode":"argument_reporter_string_number","next":null,"parent":"b+","inputs":{},"fields":{"VALUE":["item",null]}},"fJ":{"opcode":"SPtempVars_setVar","next":"fK","parent":"b+","inputs":{"NAME":[1,[10,"encode"]],"VALUE":[1,[10,""]]},"fields":{"TYPE":["sprite",null]}},"fK":{"opcode":"SPtempVars_setVar","next":"J","parent":"fJ","inputs":{"NAME":[1,[10,"itemI"]],"VALUE":[1,[10,"0"]]},"fields":{"TYPE":["sprite",null]}},"J":{"opcode":"control_repeat","next":"fL","parent":"fK","inputs":{"TIMES":[3,"fM",[6,"10"]],"SUBSTACK":[2,"fN"]},"fields":{}},"fM":{"opcode":"SPjson_arrLength","next":null,"parent":"J","inputs":{"ARR":[3,"qx",[10,"[\"a\", \"b\", \"c\"]"]]},"fields":{}},"qx":{"opcode":"SPtempVars_getVar","next":null,"parent":"fM","inputs":{"NAME":[1,[10,"list"]]},"fields":{"TYPE":["sprite",null]}},"fN":{"opcode":"SPtempVars_changeVar","next":"fO","parent":"J","inputs":{"NAME":[1,[10,"itemI"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"fO":{"opcode":"SPtempVars_setVar","next":null,"parent":"fN","inputs":{"NAME":[1,[10,"encode"]],"VALUE":[3,"b,",[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"b,":{"opcode":"operator_join","next":null,"parent":"fO","inputs":{"STRING1":[3,"qy",[10,"apple "]],"STRING2":[3,"fP",[10,"banana"]]},"fields":{}},"qy":{"opcode":"SPtempVars_getVar","next":null,"parent":"b,","inputs":{"NAME":[1,[10,"encode"]]},"fields":{"TYPE":["sprite",null]}},"fP":{"opcode":"operator_join","next":null,"parent":"b,","inputs":{"STRING1":[3,"b-",[10,"apple "]],"STRING2":[1,[10,"%"]]},"fields":{}},"b-":{"opcode":"SPjson_arrGet","next":null,"parent":"fP","inputs":{"IND":[3,"qz",[4,"1"]],"ARR":[3,"qA",[10,"[\"a\", \"b\", \"c\"]"]]},"fields":{}},"qz":{"opcode":"SPtempVars_getVar","next":null,"parent":"b-","inputs":{"NAME":[1,[10,"itemI"]]},"fields":{"TYPE":["sprite",null]}},"qA":{"opcode":"SPtempVars_getVar","next":null,"parent":"b-","inputs":{"NAME":[1,[10,"list"]]},"fields":{"TYPE":["sprite",null]}},"fL":{"opcode":"procedures_return","next":null,"parent":"J","inputs":{"VALUE":[3,"b.",[10,""]]},"fields":{}},"b.":{"opcode":"shovellzcompress_compress","next":null,"parent":"fL","inputs":{"TEXT":[3,"qB",[10,"Hello world!"]],"TYPE":[1,"qC"]},"fields":{}},"qB":{"opcode":"SPtempVars_getVar","next":null,"parent":"b.","inputs":{"NAME":[1,[10,"encode"]]},"fields":{"TYPE":["sprite",null]}},"qC":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"b.","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"fQ":{"opcode":"procedures_definition","next":"fR","parent":null,"inputs":{"custom_block":[1,"fS"]},"fields":{},"topLevel":true},"fS":{"opcode":"procedures_prototype","next":null,"parent":"fQ","inputs":{"d~g_6JJCBf!CD7+dKrz@":[1,"qD"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"evaluate %s","argumentids":"[\"d~g_6JJCBf!CD7+dKrz@\"]","argumentnames":"[\"pearlTEMP\"]","argumentdefaults":"[\"\"]","warp":"true"}},"qD":{"opcode":"argument_reporter_string_number","next":null,"parent":"fS","inputs":{},"fields":{"VALUE":["pearlTEMP",null]},"shadow":true},"fR":{"opcode":"SPtempVars_setVar","next":"K","parent":"fQ","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"error"]]},"fields":{"TYPE":["sprite",null]}},"K":{"opcode":"control_if","next":"L","parent":"fR","inputs":{"CONDITION":[2,"fT"],"SUBSTACK":[2,"qE"]},"fields":{}},"fT":{"opcode":"operator_equals","next":null,"parent":"K","inputs":{"OPERAND1":[3,"fU",[10,""]],"OPERAND2":[1,[10,"r"]]},"fields":{}},"fU":{"opcode":"operator_letter_of","next":null,"parent":"fT","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qF",[10,"apple"]]},"fields":{}},"qF":{"opcode":"argument_reporter_string_number","next":null,"parent":"fU","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qE":{"opcode":"SPtempVars_setVar","next":null,"parent":"K","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"red"]]},"fields":{"TYPE":["sprite",null]}},"L":{"opcode":"control_if","next":"M","parent":"K","inputs":{"CONDITION":[2,"fV"],"SUBSTACK":[2,"qG"]},"fields":{}},"fV":{"opcode":"operator_equals","next":null,"parent":"L","inputs":{"OPERAND1":[3,"fW",[10,""]],"OPERAND2":[1,[10,"g"]]},"fields":{}},"fW":{"opcode":"operator_letter_of","next":null,"parent":"fV","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qH",[10,"apple"]]},"fields":{}},"qH":{"opcode":"argument_reporter_string_number","next":null,"parent":"fW","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qG":{"opcode":"SPtempVars_setVar","next":null,"parent":"L","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"green"]]},"fields":{"TYPE":["sprite",null]}},"M":{"opcode":"control_if","next":"N","parent":"L","inputs":{"CONDITION":[2,"fX"],"SUBSTACK":[2,"qI"]},"fields":{}},"fX":{"opcode":"operator_equals","next":null,"parent":"M","inputs":{"OPERAND1":[3,"fY",[10,""]],"OPERAND2":[1,[10,"w"]]},"fields":{}},"fY":{"opcode":"operator_letter_of","next":null,"parent":"fX","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qJ",[10,"apple"]]},"fields":{}},"qJ":{"opcode":"argument_reporter_string_number","next":null,"parent":"fY","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qI":{"opcode":"SPtempVars_setVar","next":null,"parent":"M","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"white"]]},"fields":{"TYPE":["sprite",null]}},"N":{"opcode":"control_if","next":"O","parent":"M","inputs":{"CONDITION":[2,"fZ"],"SUBSTACK":[2,"qK"]},"fields":{}},"fZ":{"opcode":"operator_equals","next":null,"parent":"N","inputs":{"OPERAND1":[3,"f!",[10,""]],"OPERAND2":[1,[10,"m"]]},"fields":{}},"f!":{"opcode":"operator_letter_of","next":null,"parent":"fZ","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qL",[10,"apple"]]},"fields":{}},"qL":{"opcode":"argument_reporter_string_number","next":null,"parent":"f!","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qK":{"opcode":"SPtempVars_setVar","next":null,"parent":"N","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"magenta"]]},"fields":{"TYPE":["sprite",null]}},"O":{"opcode":"control_if","next":"P","parent":"N","inputs":{"CONDITION":[2,"f#"],"SUBSTACK":[2,"qM"]},"fields":{}},"f#":{"opcode":"operator_equals","next":null,"parent":"O","inputs":{"OPERAND1":[3,"f%",[10,""]],"OPERAND2":[1,[10,"y"]]},"fields":{}},"f%":{"opcode":"operator_letter_of","next":null,"parent":"f#","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qN",[10,"apple"]]},"fields":{}},"qN":{"opcode":"argument_reporter_string_number","next":null,"parent":"f%","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qM":{"opcode":"SPtempVars_setVar","next":null,"parent":"O","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"yellow"]]},"fields":{"TYPE":["sprite",null]}},"P":{"opcode":"control_if","next":"Q","parent":"O","inputs":{"CONDITION":[2,"f("],"SUBSTACK":[2,"qO"]},"fields":{}},"f(":{"opcode":"operator_equals","next":null,"parent":"P","inputs":{"OPERAND1":[3,"f)",[10,""]],"OPERAND2":[1,[10,"c"]]},"fields":{}},"f)":{"opcode":"operator_letter_of","next":null,"parent":"f(","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qP",[10,"apple"]]},"fields":{}},"qP":{"opcode":"argument_reporter_string_number","next":null,"parent":"f)","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qO":{"opcode":"SPtempVars_setVar","next":null,"parent":"P","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"cyan"]]},"fields":{"TYPE":["sprite",null]}},"Q":{"opcode":"control_if","next":"R","parent":"P","inputs":{"CONDITION":[2,"f*"],"SUBSTACK":[2,"S"]},"fields":{}},"f*":{"opcode":"operator_equals","next":null,"parent":"Q","inputs":{"OPERAND1":[3,"f+",[10,""]],"OPERAND2":[1,[10,"b"]]},"fields":{}},"f+":{"opcode":"operator_letter_of","next":null,"parent":"f*","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"qQ",[10,"apple"]]},"fields":{}},"qQ":{"opcode":"argument_reporter_string_number","next":null,"parent":"f+","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"S":{"opcode":"control_if_else","next":null,"parent":"Q","inputs":{"CONDITION":[2,"b/"],"SUBSTACK":[2,"qR"],"SUBSTACK2":[2,"qS"]},"fields":{}},"b/":{"opcode":"operator_gt","next":null,"parent":"S","inputs":{"OPERAND1":[3,"b:",[10,""]],"OPERAND2":[3,"b;",[10,"50"]]},"fields":{}},"b:":{"opcode":"textcomparison_calculateSimilarityScore","next":null,"parent":"b/","inputs":{"text1":[3,"b=",[10,"Hello"]],"text2":[3,"f,",[10,"Helo"]]},"fields":{}},"b=":{"opcode":"strings_toCase","next":null,"parent":"b:","inputs":{"STRING":[3,"qT",[10,"apple"]],"TEXTCASE":[1,"qU"]},"fields":{}},"qT":{"opcode":"argument_reporter_string_number","next":null,"parent":"b=","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qU":{"opcode":"strings_menu_textCase","next":null,"parent":"b=","inputs":{},"fields":{"textCase":["lowercase",null]},"shadow":true},"f,":{"opcode":"strings_toCase","next":null,"parent":"b:","inputs":{"STRING":[1,[10,"blue"]],"TEXTCASE":[1,"qV"]},"fields":{}},"qV":{"opcode":"strings_menu_textCase","next":null,"parent":"f,","inputs":{},"fields":{"textCase":["lowercase",null]},"shadow":true},"b;":{"opcode":"textcomparison_calculateSimilarityScore","next":null,"parent":"b/","inputs":{"text1":[3,"b?",[10,"Hello"]],"text2":[3,"f-",[10,"Helo"]]},"fields":{}},"b?":{"opcode":"strings_toCase","next":null,"parent":"b;","inputs":{"STRING":[3,"qW",[10,"apple"]],"TEXTCASE":[1,"qX"]},"fields":{}},"qW":{"opcode":"argument_reporter_string_number","next":null,"parent":"b?","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qX":{"opcode":"strings_menu_textCase","next":null,"parent":"b?","inputs":{},"fields":{"textCase":["lowercase",null]},"shadow":true},"f-":{"opcode":"strings_toCase","next":null,"parent":"b;","inputs":{"STRING":[1,[10,"black"]],"TEXTCASE":[1,"qY"]},"fields":{}},"qY":{"opcode":"strings_menu_textCase","next":null,"parent":"f-","inputs":{},"fields":{"textCase":["lowercase",null]},"shadow":true},"qR":{"opcode":"SPtempVars_setVar","next":null,"parent":"S","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"blue"]]},"fields":{"TYPE":["sprite",null]}},"qS":{"opcode":"SPtempVars_setVar","next":null,"parent":"S","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"black"]]},"fields":{"TYPE":["sprite",null]}},"R":{"opcode":"control_if","next":"b@","parent":"Q","inputs":{"CONDITION":[2,"f."],"SUBSTACK":[2,"qZ"]},"fields":{}},"f.":{"opcode":"operator_equals","next":null,"parent":"R","inputs":{"OPERAND1":[3,"f/",[10,""]],"OPERAND2":[1,[10,"z"]]},"fields":{}},"f/":{"opcode":"operator_letter_of","next":null,"parent":"f.","inputs":{"LETTER":[1,[6,"1"]],"STRING":[3,"q!",[10,"apple"]]},"fields":{}},"q!":{"opcode":"argument_reporter_string_number","next":null,"parent":"f/","inputs":{},"fields":{"VALUE":["pearlTEMP",null]}},"qZ":{"opcode":"SPtempVars_setVar","next":null,"parent":"R","inputs":{"NAME":[1,[10,"temp"]],"VALUE":[1,[10,"black"]]},"fields":{"TYPE":["sprite",null]}},"b@":{"opcode":"SPtempVars_setVar","next":"q#","parent":"R","inputs":{"NAME":[1,[10,"pearlTEMP"]],"VALUE":[3,"q%",[10,"0"]]},"fields":{"TYPE":["sprite",null]}},"q%":{"opcode":"SPtempVars_getVar","next":null,"parent":"b@","inputs":{"NAME":[1,[10,"temp"]]},"fields":{"TYPE":["sprite",null]}},"q#":{"opcode":"SPtempVars_deleteVar","next":null,"parent":"b@","inputs":{"NAME":[1,[10,"temp"]]},"fields":{"TYPE":["sprite",null]}},"q(":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"f:","parent":null,"inputs":{"INPUTB":[1,[10,"1"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"f:":{"opcode":"looks_goforwardbackwardlayers","next":"f;","parent":"q(","inputs":{"NUM":[1,[7,"1"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"f;":{"opcode":"control_forever","next":null,"parent":"f:","inputs":{"SUBSTACK":[2,"f="]},"fields":{}},"f=":{"opcode":"data_setvariableto","next":"b[","parent":"f;","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["rel x","}oZwF]6NwY8VU(PS1:%+"]}},"b[":{"opcode":"looks_switchcostumeto","next":"T","parent":"f=","inputs":{"COSTUME":[1,"q)"]},"fields":{}},"q)":{"opcode":"looks_costume","next":null,"parent":"b[","inputs":{},"fields":{"COSTUME":["grid - semithin",null]},"shadow":true},"T":{"opcode":"control_if_else","next":null,"parent":"b[","inputs":{"CONDITION":[2,"q*"],"SUBSTACK":[2,"q+"],"SUBSTACK2":[2,"q,"]},"fields":{}},"q*":{"opcode":"operator_equals","next":null,"parent":"T","inputs":{"OPERAND1":[3,[12,"CURRENT MAP","H]{?V--pdKLq##EluzqH"],[10,""]],"OPERAND2":[1,[10,"None"]]},"fields":{}},"q+":{"opcode":"looks_seteffectto","next":null,"parent":"T","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"q,":{"opcode":"looks_seteffectto","next":null,"parent":"T","inputs":{"VALUE":[3,[12,"MAP BRIGHTNESS","2fH9uf^)^0WhE[,Fofn="],[4,"100"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"q-":{"opcode":"event_whenbroadcastreceived","next":"b]","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["position body","kXpZosM,b9t$2+ucj=0S"]},"topLevel":true},"b]":{"opcode":"control_if","next":null,"parent":"q-","inputs":{"CONDITION":[2,"b^"],"SUBSTACK":[2,"a"]},"fields":{}},"b^":{"opcode":"operator_or","next":null,"parent":"b]","inputs":{"OPERAND1":[2,"f?"],"OPERAND2":[2,"b_"]},"fields":{}},"f?":{"opcode":"operator_not","next":null,"parent":"b^","inputs":{"OPERAND":[2,"q."]},"fields":{}},"q.":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"f?","inputs":{},"fields":{}},"b_":{"opcode":"operator_or","next":null,"parent":"b^","inputs":{"OPERAND1":[2,"q/"],"OPERAND2":[2,"b`"]},"fields":{}},"q/":{"opcode":"operator_equals","next":null,"parent":"b_","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"b`":{"opcode":"operator_or","next":null,"parent":"b_","inputs":{"OPERAND1":[2,"q:"],"OPERAND2":[2,"b{"]},"fields":{}},"q:":{"opcode":"operator_equals","next":null,"parent":"b`","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"b{":{"opcode":"operator_or","next":null,"parent":"b`","inputs":{"OPERAND1":[2,"q;"],"OPERAND2":[2,"b|"]},"fields":{}},"q;":{"opcode":"operator_equals","next":null,"parent":"b{","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"b|":{"opcode":"operator_or","next":null,"parent":"b{","inputs":{"OPERAND1":[2,"q="],"OPERAND2":[2,"b}"]},"fields":{}},"q=":{"opcode":"operator_equals","next":null,"parent":"b|","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"4"]]},"fields":{}},"b}":{"opcode":"operator_or","next":null,"parent":"b|","inputs":{"OPERAND1":[2,"q?"],"OPERAND2":[2,"b~"]},"fields":{}},"q?":{"opcode":"operator_equals","next":null,"parent":"b}","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"5"]]},"fields":{}},"b~":{"opcode":"operator_or","next":null,"parent":"b}","inputs":{"OPERAND1":[2,"q@"],"OPERAND2":[2,"f@"]},"fields":{}},"q@":{"opcode":"operator_equals","next":null,"parent":"b~","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"x"]]},"fields":{}},"f@":{"opcode":"operator_or","next":null,"parent":"b~","inputs":{"OPERAND1":[2,"q["]},"fields":{}},"q[":{"opcode":"operator_equals","next":null,"parent":"f@","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"watermark"]]},"fields":{}},"a":{"opcode":"control_if_else","next":"ca","parent":"b]","inputs":{"CONDITION":[2,"q]"],"SUBSTACK":[2,"f["],"SUBSTACK2":[2,"f]"]},"fields":{}},"q]":{"opcode":"operator_equals","next":null,"parent":"a","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"f[":{"opcode":"looks_setsizeto","next":null,"parent":"a","inputs":{"SIZE":[3,"f^",[4,"100"]]},"fields":{}},"f^":{"opcode":"operator_add","next":null,"parent":"f[","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"f_",[4,""]]},"fields":{}},"f_":{"opcode":"operator_multiply","next":null,"parent":"f^","inputs":{"NUM1":[3,"q^",[4,""]],"NUM2":[1,[4,"50"]]},"fields":{}},"q^":{"opcode":"operator_subtract","next":null,"parent":"f_","inputs":{"NUM1":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"f]":{"opcode":"looks_setsizeto","next":null,"parent":"a","inputs":{"SIZE":[3,"q_",[4,"100"]]},"fields":{}},"q_":{"opcode":"operator_multiply","next":null,"parent":"f]","inputs":{"NUM1":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]],"NUM2":[1,[4,"100"]]},"fields":{}},"ca":{"opcode":"motion_gotoxy","next":null,"parent":"a","inputs":{"X":[3,"f`",[4,"0"]],"Y":[3,"f{",[4,"0"]]},"fields":{}},"f`":{"opcode":"operator_add","next":null,"parent":"ca","inputs":{"NUM1":[3,"f|",[4,""]],"NUM2":[3,[12,"MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["],[4,"165"]]},"fields":{}},"f|":{"opcode":"operator_multiply","next":null,"parent":"f`","inputs":{"NUM1":[3,"q`",[4,""]],"NUM2":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]]},"fields":{}},"q`":{"opcode":"operator_subtract","next":null,"parent":"f|","inputs":{"NUM1":[3,[12,"MAP X","d|@:u;#VUQ:)scIMSRO."],[4,""]],"NUM2":[3,[12,"rel x","}oZwF]6NwY8VU(PS1:%+"],[4,""]]},"fields":{}},"f{":{"opcode":"operator_multiply","next":null,"parent":"ca","inputs":{"NUM1":[3,"q{",[4,""]],"NUM2":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]]},"fields":{}},"q{":{"opcode":"operator_subtract","next":null,"parent":"f{","inputs":{"NUM1":[3,[12,"MAP Y","=g}-R~szxYi!2jD!Da+t"],[4,""]],"NUM2":[3,[12,"rel y","KDa0v=nuyBoOV)DWMhtK"],[4,""]]},"fields":{}},"q|":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"f}","parent":null,"inputs":{"INPUTB":[1,[10,"2"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"f}":{"opcode":"looks_goforwardbackwardlayers","next":"f~","parent":"q|","inputs":{"NUM":[1,[7,"1"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"f~":{"opcode":"control_forever","next":null,"parent":"f}","inputs":{"SUBSTACK":[2,"cb"]},"fields":{}},"cb":{"opcode":"data_setvariableto","next":"cc","parent":"f~","inputs":{"VALUE":[3,"ga",[10,"0"]]},"fields":{"VARIABLE":["rel x","}oZwF]6NwY8VU(PS1:%+"]}},"ga":{"opcode":"operator_multiply","next":null,"parent":"cb","inputs":{"NUM1":[3,"q}",[4,""]],"NUM2":[1,[4,"80"]]},"fields":{}},"q}":{"opcode":"operator_subtract","next":null,"parent":"ga","inputs":{"NUM1":[3,[12,"idx",")5-L_9VWa4-[2VWaal;j"],[4,""]],"NUM2":[1,[4,"2.5"]]},"fields":{}},"cc":{"opcode":"data_setvariableto","next":"cd","parent":"cb","inputs":{"VALUE":[3,"gb",[10,"0"]]},"fields":{"VARIABLE":["rel y","KDa0v=nuyBoOV)DWMhtK"]}},"gb":{"opcode":"operator_multiply","next":null,"parent":"cc","inputs":{"NUM1":[3,"q~",[4,""]],"NUM2":[1,[4,"-80"]]},"fields":{}},"q~":{"opcode":"operator_subtract","next":null,"parent":"gb","inputs":{"NUM1":[3,[12,"idy","VGDu?;4M+:%V$J5j9Pdc"],[4,""]],"NUM2":[1,[4,"1.5"]]},"fields":{}},"cd":{"opcode":"looks_switchcostumeto","next":"ra","parent":"cc","inputs":{"COSTUME":[1,"rb"]},"fields":{}},"rb":{"opcode":"looks_costume","next":null,"parent":"cd","inputs":{},"fields":{"COSTUME":["ref sector",null]},"shadow":true},"ra":{"opcode":"looks_seteffectto","next":null,"parent":"cd","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"gc":{"opcode":"procedures_definition","next":"gd","parent":null,"inputs":{"custom_block":[1,"rc"]},"fields":{},"topLevel":true},"rc":{"opcode":"procedures_prototype","next":null,"parent":"gc","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"create clones","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"gd":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"ge","parent":"gc","inputs":{"INPUTB":[1,[10,"mapsaved"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"ge":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"gf","parent":"gd","inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"gf":{"opcode":"data_setvariableto","next":"ce","parent":"ge","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["idy","VGDu?;4M+:%V$J5j9Pdc"]}},"ce":{"opcode":"control_repeat","next":"gg","parent":"gf","inputs":{"TIMES":[1,[6,"4"]],"SUBSTACK":[2,"gh"]},"fields":{}},"gh":{"opcode":"data_setvariableto","next":"cf","parent":"ce","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["idx",")5-L_9VWa4-[2VWaal;j"]}},"cf":{"opcode":"control_repeat","next":"rd","parent":"gh","inputs":{"TIMES":[1,[6,"4"]],"SUBSTACK":[2,"gi"]},"fields":{}},"gi":{"opcode":"data_changevariableby","next":"re","parent":"cf","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["idx",")5-L_9VWa4-[2VWaal;j"]}},"re":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"gi","inputs":{"INPUTB":[1,[10,"2"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"rd":{"opcode":"data_changevariableby","next":null,"parent":"cf","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["idy","VGDu?;4M+:%V$J5j9Pdc"]}},"gg":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"gj","parent":"ce","inputs":{"INPUTB":[1,[10,"1"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"gj":{"opcode":"data_setvariableto","next":"gk","parent":"gg","inputs":{"VALUE":[1,[10,"X"]]},"fields":{"VARIABLE":["ID","V/)O09Puzi7Fb%UN^z($"]}},"gk":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"gl","parent":"gj","inputs":{"INPUTB":[1,[10,"5"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"gl":{"opcode":"data_setvariableto","next":"gm","parent":"gk","inputs":{"VALUE":[1,[10,"Y"]]},"fields":{"VARIABLE":["ID","V/)O09Puzi7Fb%UN^z($"]}},"gm":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"U","parent":"gl","inputs":{"INPUTB":[1,[10,"5"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"U":{"opcode":"control_if","next":"rf","parent":"gm","inputs":{"CONDITION":[2,"gn"],"SUBSTACK":[2,"go"]},"fields":{}},"gn":{"opcode":"operator_not","next":null,"parent":"U","inputs":{"OPERAND":[2,"rg"]},"fields":{}},"rg":{"opcode":"operator_equals","next":null,"parent":"gn","inputs":{"OPERAND1":[3,[12,"IS ADMIN?","O4leA.^BaJIzoPCKl@7:"],[10,""]],"OPERAND2":[1,[10,"true"]]},"fields":{}},"go":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"rh","parent":"U","inputs":{"INPUTB":[1,[10,"watermark"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"rh":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"go","inputs":{"INPUTB":[1,[10,"watermark"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"rf":{"opcode":"procedures_call","next":null,"parent":"U","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"load map","argumentids":"[]","warp":"true"}},"gp":{"opcode":"procedures_definition","next":"cg","parent":null,"inputs":{"custom_block":[1,"V"]},"fields":{},"topLevel":true},"V":{"opcode":"procedures_prototype","next":null,"parent":"gp","inputs":{"b?s/;54$*Ozn[Pa%1GyG":[1,"ri"],"m8{*sErc/^DKZ_|/e:X@":[1,"rj"],"^F/ofK6/+|[0xq({Pu|H":[1,"rk"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"draw pearl at [ %s %s ] color %s","argumentids":"[\"b?s/;54$*Ozn[Pa%1GyG\",\"m8{*sErc/^DKZ_|/e:X@\",\"^F/ofK6/+|[0xq({Pu|H\"]","argumentnames":"[\"x\",\"y\",\"color\"]","argumentdefaults":"[\"\",\"\",\"\"]","warp":"true"}},"ri":{"opcode":"argument_reporter_string_number","next":null,"parent":"V","inputs":{},"fields":{"VALUE":["x",null]},"shadow":true},"rj":{"opcode":"argument_reporter_string_number","next":null,"parent":"V","inputs":{},"fields":{"VALUE":["y",null]},"shadow":true},"rk":{"opcode":"argument_reporter_string_number","next":null,"parent":"V","inputs":{},"fields":{"VALUE":["color",null]},"shadow":true},"cg":{"opcode":"data_setvariableto","next":"ch","parent":"gp","inputs":{"VALUE":[3,"rl",[10,"0"]]},"fields":{"VARIABLE":["idx",")5-L_9VWa4-[2VWaal;j"]}},"rl":{"opcode":"argument_reporter_string_number","next":null,"parent":"cg","inputs":{},"fields":{"VALUE":["x",null]}},"ch":{"opcode":"data_setvariableto","next":"ci","parent":"cg","inputs":{"VALUE":[3,"rm",[10,"0"]]},"fields":{"VARIABLE":["idy","VGDu?;4M+:%V$J5j9Pdc"]}},"rm":{"opcode":"argument_reporter_string_number","next":null,"parent":"ch","inputs":{},"fields":{"VALUE":["y",null]}},"ci":{"opcode":"data_setvariableto","next":"rn","parent":"ch","inputs":{"VALUE":[3,"ro",[10,"0"]]},"fields":{"VARIABLE":["pearl color","Wpl75|aItJ}r+5#4y?t^"]}},"ro":{"opcode":"argument_reporter_string_number","next":null,"parent":"ci","inputs":{},"fields":{"VALUE":["color",null]}},"rn":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"ci","inputs":{"INPUTB":[1,[10,"3"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]}},"rp":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"gq","parent":null,"inputs":{"INPUTB":[1,[10,"3"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"gq":{"opcode":"looks_goforwardbackwardlayers","next":"gr","parent":"rp","inputs":{"NUM":[1,[7,"25"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"gr":{"opcode":"control_forever","next":null,"parent":"gq","inputs":{"SUBSTACK":[2,"gs"]},"fields":{}},"gs":{"opcode":"data_setvariableto","next":"cj","parent":"gr","inputs":{"VALUE":[3,[12,"idx",")5-L_9VWa4-[2VWaal;j"],[10,"0"]]},"fields":{"VARIABLE":["rel x","}oZwF]6NwY8VU(PS1:%+"]}},"cj":{"opcode":"data_setvariableto","next":"ck","parent":"gs","inputs":{"VALUE":[3,"rq",[10,"0"]]},"fields":{"VARIABLE":["rel y","KDa0v=nuyBoOV)DWMhtK"]}},"rq":{"opcode":"operator_subtract","next":null,"parent":"cj","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"idy","VGDu?;4M+:%V$J5j9Pdc"],[4,""]]},"fields":{}},"ck":{"opcode":"looks_switchcostumeto","next":"W","parent":"cj","inputs":{"COSTUME":[3,[12,"pearl color","Wpl75|aItJ}r+5#4y?t^"],"rr"]},"fields":{}},"rr":{"opcode":"looks_costume","next":null,"parent":"ck","inputs":{},"fields":{"COSTUME":["ref sector",null]},"shadow":true},"W":{"opcode":"control_if_else","next":null,"parent":"ck","inputs":{"CONDITION":[2,"gt"],"SUBSTACK":[2,"X"],"SUBSTACK2":[2,"rs"]},"fields":{}},"gt":{"opcode":"operator_gt","next":null,"parent":"W","inputs":{"OPERAND1":[3,"rt",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"rt":{"opcode":"data_lengthoflist","next":null,"parent":"gt","inputs":{},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"X":{"opcode":"control_if_else","next":null,"parent":"W","inputs":{"CONDITION":[2,"ru"],"SUBSTACK":[2,"rv"],"SUBSTACK2":[2,"rw"]},"fields":{}},"ru":{"opcode":"data_listcontainsitem","next":null,"parent":"X","inputs":{"ITEM":[3,[12,"pearl color","Wpl75|aItJ}r+5#4y?t^"],[10,"thing"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"rv":{"opcode":"looks_show","next":null,"parent":"X","inputs":{},"fields":{}},"rw":{"opcode":"looks_hide","next":null,"parent":"X","inputs":{},"fields":{}},"rs":{"opcode":"looks_show","next":null,"parent":"W","inputs":{},"fields":{}},"gu":{"opcode":"procedures_definition","next":"cl","parent":null,"inputs":{"custom_block":[1,"rx"]},"fields":{},"topLevel":true},"rx":{"opcode":"procedures_prototype","next":null,"parent":"gu","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"do camera","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"cl":{"opcode":"data_changevariableby","next":"cm","parent":"gu","inputs":{"VALUE":[3,"gv",[4,"1"]]},"fields":{"VARIABLE":["cam x accel","p/0=*C#`qWrKW#+$q_@+"]}},"gv":{"opcode":"operator_multiply","next":null,"parent":"cl","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[3,"cn",[4,""]]},"fields":{}},"cn":{"opcode":"operator_subtract","next":null,"parent":"gv","inputs":{"NUM1":[3,"gw",[4,""]],"NUM2":[3,"gx",[4,""]]},"fields":{}},"gw":{"opcode":"sensing_keypressed","next":null,"parent":"cn","inputs":{"KEY_OPTION":[1,"ry"]},"fields":{}},"ry":{"opcode":"sensing_keyoptions","next":null,"parent":"gw","inputs":{},"fields":{"KEY_OPTION":["d",null]},"shadow":true},"gx":{"opcode":"sensing_keypressed","next":null,"parent":"cn","inputs":{"KEY_OPTION":[1,"rz"]},"fields":{}},"rz":{"opcode":"sensing_keyoptions","next":null,"parent":"gx","inputs":{},"fields":{"KEY_OPTION":["a",null]},"shadow":true},"cm":{"opcode":"data_changevariableby","next":"co","parent":"cl","inputs":{"VALUE":[3,"gy",[4,"1"]]},"fields":{"VARIABLE":["cam y accel","tOP/IMuM/GdaLxof7*:%"]}},"gy":{"opcode":"operator_multiply","next":null,"parent":"cm","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[3,"cp",[4,""]]},"fields":{}},"cp":{"opcode":"operator_subtract","next":null,"parent":"gy","inputs":{"NUM1":[3,"gz",[4,""]],"NUM2":[3,"gA",[4,""]]},"fields":{}},"gz":{"opcode":"sensing_keypressed","next":null,"parent":"cp","inputs":{"KEY_OPTION":[1,"rA"]},"fields":{}},"rA":{"opcode":"sensing_keyoptions","next":null,"parent":"gz","inputs":{},"fields":{"KEY_OPTION":["w",null]},"shadow":true},"gA":{"opcode":"sensing_keypressed","next":null,"parent":"cp","inputs":{"KEY_OPTION":[1,"rB"]},"fields":{}},"rB":{"opcode":"sensing_keyoptions","next":null,"parent":"gA","inputs":{},"fields":{"KEY_OPTION":["s",null]},"shadow":true},"co":{"opcode":"data_setvariableto","next":"cq","parent":"cm","inputs":{"VALUE":[3,"rC",[10,"1"]]},"fields":{"VARIABLE":["cam x accel","p/0=*C#`qWrKW#+$q_@+"]}},"rC":{"opcode":"operator_multiply","next":null,"parent":"co","inputs":{"NUM1":[3,[12,"cam x accel","p/0=*C#`qWrKW#+$q_@+"],[4,""]],"NUM2":[1,[4,"0.86"]]},"fields":{}},"cq":{"opcode":"data_setvariableto","next":"gB","parent":"co","inputs":{"VALUE":[3,"rD",[10,"1"]]},"fields":{"VARIABLE":["cam y accel","tOP/IMuM/GdaLxof7*:%"]}},"rD":{"opcode":"operator_multiply","next":null,"parent":"cq","inputs":{"NUM1":[3,[12,"cam y accel","tOP/IMuM/GdaLxof7*:%"],[4,""]],"NUM2":[1,[4,"0.86"]]},"fields":{}},"gB":{"opcode":"data_changevariableby","next":"gC","parent":"cq","inputs":{"VALUE":[3,[12,"cam x accel","p/0=*C#`qWrKW#+$q_@+"],[4,"1"]]},"fields":{"VARIABLE":["CAMERA X","4l~Wn7LrJ7(J{%9wehep"]}},"gC":{"opcode":"data_changevariableby","next":"cr","parent":"gB","inputs":{"VALUE":[3,[12,"cam y accel","tOP/IMuM/GdaLxof7*:%"],[4,"1"]]},"fields":{"VARIABLE":["CAMERA Y","pX[/jIE_$ix%fheGYaYL"]}},"cr":{"opcode":"data_setvariableto","next":"cs","parent":"gC","inputs":{"VALUE":[3,"gD",[10,"160"]]},"fields":{"VARIABLE":["cam clamp","miP@}g@)c!x-Hv*p,dP:"]}},"gD":{"opcode":"truefantommath_clamp_block","next":null,"parent":"cr","inputs":{"A":[3,"gE",[4,""]],"B":[1,[4,"0"]],"C":[1,[4,"160"]]},"fields":{}},"gE":{"opcode":"operator_multiply","next":null,"parent":"gD","inputs":{"NUM1":[3,"rE",[4,""]],"NUM2":[1,[4,"160"]]},"fields":{}},"rE":{"opcode":"operator_subtract","next":null,"parent":"gE","inputs":{"NUM1":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,"2"]],"NUM2":[1,[4,"1"]]},"fields":{}},"cs":{"opcode":"data_setvariableto","next":"gF","parent":"cr","inputs":{"VALUE":[3,"gG",[10,"0"]]},"fields":{"VARIABLE":["CAMERA X","4l~Wn7LrJ7(J{%9wehep"]}},"gG":{"opcode":"truefantommath_clamp_block","next":null,"parent":"cs","inputs":{"A":[3,[12,"CAMERA X","4l~Wn7LrJ7(J{%9wehep"],[4,""]],"B":[3,"rF",[4,"-160"]],"C":[3,[12,"cam clamp","miP@}g@)c!x-Hv*p,dP:"],[4,"160"]]},"fields":{}},"rF":{"opcode":"operator_subtract","next":null,"parent":"gG","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"cam clamp","miP@}g@)c!x-Hv*p,dP:"],[4,""]]},"fields":{}},"gF":{"opcode":"data_setvariableto","next":null,"parent":"cs","inputs":{"VALUE":[3,"gH",[10,"0"]]},"fields":{"VARIABLE":["CAMERA Y","pX[/jIE_$ix%fheGYaYL"]}},"gH":{"opcode":"truefantommath_clamp_block","next":null,"parent":"gF","inputs":{"A":[3,[12,"CAMERA Y","pX[/jIE_$ix%fheGYaYL"],[4,""]],"B":[3,"rG",[4,"-160"]],"C":[3,[12,"cam clamp","miP@}g@)c!x-Hv*p,dP:"],[4,"160"]]},"fields":{}},"rG":{"opcode":"operator_subtract","next":null,"parent":"gH","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"cam clamp","miP@}g@)c!x-Hv*p,dP:"],[4,""]]},"fields":{}},"rH":{"opcode":"event_whenbroadcastreceived","next":"gI","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["init map","IZT7{2wmyJ9}8!^cgxnq"]},"topLevel":true},"gI":{"opcode":"data_deletealloflist","next":"gJ","parent":"rH","inputs":{},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"gJ":{"opcode":"data_setvariableto","next":"gK","parent":"gI","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["DELETE MODE","#svnRe?po1={ZjC]$(VL"]}},"gK":{"opcode":"data_setvariableto","next":"gL","parent":"gJ","inputs":{"VALUE":[1,[10,""]]},"fields":{"VARIABLE":["RESULT MESSAGE -","UN?ZVQafE;S;1.}60fdy"]}},"gL":{"opcode":"data_setvariableto","next":"gM","parent":"gK","inputs":{"VALUE":[1,[10,"165"]]},"fields":{"VARIABLE":["MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["]}},"gM":{"opcode":"looks_show","next":"gN","parent":"gL","inputs":{},"fields":{}},"gN":{"opcode":"looks_gotofrontback","next":"gO","parent":"gM","inputs":{},"fields":{"FRONT_BACK":["back",null]}},"gO":{"opcode":"data_setvariableto","next":"ct","parent":"gN","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["MAP SIZE","xwO9/sE*6/~([E59OA;!"]}},"ct":{"opcode":"procedures_call","next":"gP","parent":"gO","inputs":{"I{qAXCC~$ZznLtjTPq4C":[3,"rI",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"LOAD blueprint from JSON %s","argumentids":"[\"I{qAXCC~$ZznLtjTPq4C\"]","warp":"true"}},"rI":{"opcode":"data_itemoflist","next":null,"parent":"ct","inputs":{"INDEX":[3,[12,"SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"],[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"gP":{"opcode":"control_forever","next":null,"parent":"ct","inputs":{"SUBSTACK":[2,"Y"]},"fields":{}},"Y":{"opcode":"looks_switchcostumeto","next":"gQ","parent":"gP","inputs":{"COSTUME":[3,"rJ","rK"]},"fields":{}},"rJ":{"opcode":"operator_join","next":null,"parent":"Y","inputs":{"STRING1":[1,[10,"MAP "]],"STRING2":[3,[12,"CURRENT MAP","H]{?V--pdKLq##EluzqH"],[10,"banana"]]},"fields":{}},"rK":{"opcode":"looks_costume","next":null,"parent":"Y","inputs":{},"fields":{"COSTUME":["MAP Dogville",null]},"shadow":true},"gQ":{"opcode":"procedures_call","next":"cu","parent":"Y","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"do camera","argumentids":"[]","warp":"true"}},"cu":{"opcode":"data_setvariableto","next":"cv","parent":"gQ","inputs":{"VALUE":[3,"gR",[10,"0"]]},"fields":{"VARIABLE":["MAP - SELECT X","pn4#^nEr498zHtuEDCqp"]}},"gR":{"opcode":"truefantommath_clamp_block","next":null,"parent":"cu","inputs":{"A":[3,"gS",[4,""]],"B":[1,[4,"-160"]],"C":[1,[4,"160"]]},"fields":{}},"gS":{"opcode":"operator_subtract","next":null,"parent":"gR","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,"gT",[4,""]]},"fields":{}},"gT":{"opcode":"operator_divide","next":null,"parent":"gS","inputs":{"NUM1":[3,"cw",[4,""]],"NUM2":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]]},"fields":{}},"cw":{"opcode":"operator_subtract","next":null,"parent":"gT","inputs":{"NUM1":[3,"rL",[4,""]],"NUM2":[3,"rM",[4,""]]},"fields":{}},"rL":{"opcode":"sensing_mousex","next":null,"parent":"cw","inputs":{},"fields":{}},"rM":{"opcode":"motion_xposition","next":null,"parent":"cw","inputs":{},"fields":{}},"cv":{"opcode":"data_setvariableto","next":"cx","parent":"cu","inputs":{"VALUE":[3,"gU",[10,"0"]]},"fields":{"VARIABLE":["MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"]}},"gU":{"opcode":"truefantommath_clamp_block","next":null,"parent":"cv","inputs":{"A":[3,"gV",[4,""]],"B":[1,[4,"-160"]],"C":[1,[4,"160"]]},"fields":{}},"gV":{"opcode":"operator_divide","next":null,"parent":"gU","inputs":{"NUM1":[3,"cy",[4,""]],"NUM2":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]]},"fields":{}},"cy":{"opcode":"operator_subtract","next":null,"parent":"gV","inputs":{"NUM1":[3,"rN",[4,""]],"NUM2":[3,"rO",[4,""]]},"fields":{}},"rN":{"opcode":"sensing_mousey","next":null,"parent":"cy","inputs":{},"fields":{}},"rO":{"opcode":"motion_yposition","next":null,"parent":"cy","inputs":{},"fields":{}},"cx":{"opcode":"data_setvariableto","next":"cz","parent":"cv","inputs":{"VALUE":[3,"rP",[10,"0"]]},"fields":{"VARIABLE":["MAP X","d|@:u;#VUQ:)scIMSRO."]}},"rP":{"opcode":"operator_subtract","next":null,"parent":"cx","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"CAMERA X","4l~Wn7LrJ7(J{%9wehep"],[4,""]]},"fields":{}},"cz":{"opcode":"data_setvariableto","next":"cA","parent":"cx","inputs":{"VALUE":[3,"rQ",[10,"0"]]},"fields":{"VARIABLE":["MAP Y","=g}-R~szxYi!2jD!Da+t"]}},"rQ":{"opcode":"operator_subtract","next":null,"parent":"cz","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"CAMERA Y","pX[/jIE_$ix%fheGYaYL"],[4,""]]},"fields":{}},"cA":{"opcode":"looks_seteffectto","next":"rR","parent":"cz","inputs":{"VALUE":[3,"rS",[4,"100"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"rS":{"opcode":"operator_subtract","next":null,"parent":"cA","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"MAP BRIGHTNESS","2fH9uf^)^0WhE[,Fofn="],[4,""]]},"fields":{}},"rR":{"opcode":"event_broadcast","next":null,"parent":"cA","inputs":{"BROADCAST_INPUT":[1,[11,"position body","kXpZosM,b9t$2+ucj=0S"]]},"fields":{}},"rT":{"opcode":"event_whenflagclicked","next":"rU","parent":null,"inputs":{},"fields":{},"topLevel":true},"rU":{"opcode":"looks_hide","next":null,"parent":"rT","inputs":{},"fields":{}},"gW":{"opcode":"procedures_definition","next":"gX","parent":null,"inputs":{"custom_block":[1,"rV"]},"fields":{},"topLevel":true},"rV":{"opcode":"procedures_prototype","next":null,"parent":"gW","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"load map","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"gX":{"opcode":"SPtempVars_setVar","next":"Z","parent":"gW","inputs":{"NAME":[1,[10,"mapI"]],"VALUE":[1,[10,"0"]]},"fields":{"TYPE":["sprite",null]}},"Z":{"opcode":"control_repeat","next":"rW","parent":"gX","inputs":{"TIMES":[3,"rX",[6,"10"]],"SUBSTACK":[2,"gY"]},"fields":{}},"rX":{"opcode":"data_lengthoflist","next":null,"parent":"Z","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"gY":{"opcode":"SPtempVars_changeVar","next":"!","parent":"Z","inputs":{"NAME":[1,[10,"mapI"]],"VALUE":[1,[10,"1"]]},"fields":{"TYPE":["sprite",null]}},"!":{"opcode":"control_if","next":"#","parent":"gY","inputs":{"CONDITION":[2,"cB"],"SUBSTACK":[2,"rY"]},"fields":{}},"cB":{"opcode":"operator_gt","next":null,"parent":"!","inputs":{"OPERAND1":[3,"rZ",[10,""]],"OPERAND2":[3,"r!",[10,"50"]]},"fields":{}},"rZ":{"opcode":"SPtempVars_getVar","next":null,"parent":"cB","inputs":{"NAME":[1,[10,"mapI"]]},"fields":{"TYPE":["thread",null]}},"r!":{"opcode":"data_lengthoflist","next":null,"parent":"cB","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"rY":{"opcode":"control_stop","next":null,"parent":"!","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"#":{"opcode":"procedures_call","next":null,"parent":"!","inputs":{"b?s/;54$*Ozn[Pa%1GyG":[3,"gZ",[10,""]],"m8{*sErc/^DKZ_|/e:X@":[3,"g!",[10,""]],"^F/ofK6/+|[0xq({Pu|H":[3,"g#",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"draw pearl at [ %s %s ] color %s","argumentids":"[\"b?s/;54$*Ozn[Pa%1GyG\",\"m8{*sErc/^DKZ_|/e:X@\",\"^F/ofK6/+|[0xq({Pu|H\"]","warp":"true"}},"gZ":{"opcode":"strings_split","next":null,"parent":"#","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"g%",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"g%":{"opcode":"data_itemoflist","next":null,"parent":"gZ","inputs":{"INDEX":[3,"r#",[7,"1"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"r#":{"opcode":"SPtempVars_getVar","next":null,"parent":"g%","inputs":{"NAME":[1,[10,"mapI"]]},"fields":{"TYPE":["sprite",null]}},"g!":{"opcode":"strings_split","next":null,"parent":"#","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,"g(",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"g(":{"opcode":"data_itemoflist","next":null,"parent":"g!","inputs":{"INDEX":[3,"r%",[7,"1"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"r%":{"opcode":"SPtempVars_getVar","next":null,"parent":"g(","inputs":{"NAME":[1,[10,"mapI"]]},"fields":{"TYPE":["sprite",null]}},"g#":{"opcode":"strings_split","next":null,"parent":"#","inputs":{"ITEM":[1,[4,"3"]],"STRING":[3,"g)",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"g)":{"opcode":"data_itemoflist","next":null,"parent":"g#","inputs":{"INDEX":[3,"r(",[7,"1"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"r(":{"opcode":"SPtempVars_getVar","next":null,"parent":"g)","inputs":{"NAME":[1,[10,"mapI"]]},"fields":{"TYPE":["sprite",null]}},"rW":{"opcode":"SPtempVars_deleteVar","next":null,"parent":"Z","inputs":{"NAME":[1,[10,"mapI"]]},"fields":{"TYPE":["sprite",null]}},"B,":{"opcode":"data_setvariableto","next":null,"parent":null,"inputs":{"VALUE":[1,[10,"100"]]},"fields":{"VARIABLE":["MAP BRIGHTNESS","2fH9uf^)^0WhE[,Fofn="]},"topLevel":true},"r)":{"opcode":"event_whenbroadcastreceived","next":"g*","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["init map","IZT7{2wmyJ9}8!^cgxnq"]},"topLevel":true},"g*":{"opcode":"data_setvariableto","next":"g+","parent":"r)","inputs":{"VALUE":[1,[10,"Start"]]},"fields":{"VARIABLE":["DASHBOARD PAGE","*?zWJy/75f0mzO$rPYE#"]}},"g+":{"opcode":"control_wait","next":"r*","parent":"g*","inputs":{"DURATION":[1,[5,"0.03"]]},"fields":{}},"r*":{"opcode":"event_broadcast","next":null,"parent":"g+","inputs":{"BROADCAST_INPUT":[1,[11,"load mapspace HUD","nV,Eg]r6I|B?~x2tOV%T"]]},"fields":{}},"r+":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"g,","parent":null,"inputs":{"INPUTB":[1,[10,"5"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"g,":{"opcode":"looks_goforwardbackwardlayers","next":"g-","parent":"r+","inputs":{"NUM":[1,[7,"1"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"g-":{"opcode":"control_forever","next":null,"parent":"g,","inputs":{"SUBSTACK":[2,"b"]},"fields":{}},"b":{"opcode":"control_if_else","next":"%","parent":"g-","inputs":{"CONDITION":[2,"r,"],"SUBSTACK":[2,"g."],"SUBSTACK2":[2,"g/"]},"fields":{}},"r,":{"opcode":"operator_equals","next":null,"parent":"b","inputs":{"OPERAND1":[3,[12,"ID","V/)O09Puzi7Fb%UN^z($"],[10,""]],"OPERAND2":[1,[10,"X"]]},"fields":{}},"g.":{"opcode":"data_setvariableto","next":"g:","parent":"b","inputs":{"VALUE":[3,[12,"MAP - SELECT X","pn4#^nEr498zHtuEDCqp"],[10,"0"]]},"fields":{"VARIABLE":["rel x","}oZwF]6NwY8VU(PS1:%+"]}},"g:":{"opcode":"data_setvariableto","next":"g;","parent":"g.","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["rel y","KDa0v=nuyBoOV)DWMhtK"]}},"g;":{"opcode":"motion_pointindirection","next":"(","parent":"g:","inputs":{"DIRECTION":[1,[8,"0"]]},"fields":{}},"(":{"opcode":"control_if_else","next":null,"parent":"g;","inputs":{"CONDITION":[2,"g="],"SUBSTACK":[2,"r-"],"SUBSTACK2":[2,"r."]},"fields":{}},"g=":{"opcode":"operator_equals","next":null,"parent":"(","inputs":{"OPERAND1":[3,"r/",[10,""]],"OPERAND2":[1,[10,"160"]]},"fields":{}},"r/":{"opcode":"operator_mathop","next":null,"parent":"g=","inputs":{"NUM":[3,[12,"MAP - SELECT X","pn4#^nEr498zHtuEDCqp"],[4,""]]},"fields":{"OPERATOR":["abs",null]}},"r-":{"opcode":"looks_hide","next":null,"parent":"(","inputs":{},"fields":{}},"r.":{"opcode":"looks_show","next":null,"parent":"(","inputs":{},"fields":{}},"g/":{"opcode":"data_setvariableto","next":"cC","parent":"b","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["rel x","}oZwF]6NwY8VU(PS1:%+"]}},"cC":{"opcode":"data_setvariableto","next":"g?","parent":"g/","inputs":{"VALUE":[3,"r:",[10,"0"]]},"fields":{"VARIABLE":["rel y","KDa0v=nuyBoOV)DWMhtK"]}},"r:":{"opcode":"operator_subtract","next":null,"parent":"cC","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"],[4,""]]},"fields":{}},"g?":{"opcode":"motion_pointindirection","next":")","parent":"cC","inputs":{"DIRECTION":[1,[8,"90"]]},"fields":{}},")":{"opcode":"control_if_else","next":null,"parent":"g?","inputs":{"CONDITION":[2,"g@"],"SUBSTACK":[2,"r;"],"SUBSTACK2":[2,"r="]},"fields":{}},"g@":{"opcode":"operator_equals","next":null,"parent":")","inputs":{"OPERAND1":[3,"r?",[10,""]],"OPERAND2":[1,[10,"160"]]},"fields":{}},"r?":{"opcode":"operator_mathop","next":null,"parent":"g@","inputs":{"NUM":[3,[12,"MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"],[4,""]]},"fields":{"OPERATOR":["abs",null]}},"r;":{"opcode":"looks_hide","next":null,"parent":")","inputs":{},"fields":{}},"r=":{"opcode":"looks_show","next":null,"parent":")","inputs":{},"fields":{}},"%":{"opcode":"control_if","next":"cD","parent":"b","inputs":{"CONDITION":[2,"g["],"SUBSTACK":[2,"r@"]},"fields":{}},"g[":{"opcode":"operator_not","next":null,"parent":"%","inputs":{"OPERAND":[2,"r["]},"fields":{}},"r[":{"opcode":"utilities_stringToBoolean","next":null,"parent":"g[","inputs":{"STRING":[3,[12,"IN VIEWPORT?","mHdm#bkM-wL!FNqK9d(c"],[10,"true"]]},"fields":{}},"r@":{"opcode":"looks_hide","next":null,"parent":"%","inputs":{},"fields":{}},"cD":{"opcode":"looks_switchcostumeto","next":"*","parent":"%","inputs":{"COSTUME":[1,"r]"]},"fields":{}},"r]":{"opcode":"looks_costume","next":null,"parent":"cD","inputs":{},"fields":{"COSTUME":["line - black",null]},"shadow":true},"*":{"opcode":"control_if_else","next":null,"parent":"cD","inputs":{"CONDITION":[2,"r^"],"SUBSTACK":[2,"r_"],"SUBSTACK2":[2,"g]"]},"fields":{}},"r^":{"opcode":"operator_equals","next":null,"parent":"*","inputs":{"OPERAND1":[3,[12,"CURRENT MAP","H]{?V--pdKLq##EluzqH"],[10,""]],"OPERAND2":[1,[10,"None"]]},"fields":{}},"r_":{"opcode":"looks_seteffectto","next":null,"parent":"*","inputs":{"VALUE":[1,[4,"50"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"g]":{"opcode":"looks_seteffectto","next":null,"parent":"*","inputs":{"VALUE":[3,"r`",[4,"100"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"r`":{"opcode":"operator_multiply","next":null,"parent":"g]","inputs":{"NUM1":[3,[12,"MAP BRIGHTNESS","2fH9uf^)^0WhE[,Fofn="],[4,""]],"NUM2":[1,[4,"0.5"]]},"fields":{}},"r{":{"opcode":"SPmessages_whenReceive1","next":"cE","parent":null,"inputs":{"MSG":[1,[10,"quickimport"]]},"fields":{},"topLevel":true},"cE":{"opcode":"control_if","next":null,"parent":"r{","inputs":{"CONDITION":[2,"g^"],"SUBSTACK":[2,"cF"]},"fields":{}},"g^":{"opcode":"operator_not","next":null,"parent":"cE","inputs":{"OPERAND":[2,"r|"]},"fields":{}},"r|":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"g^","inputs":{},"fields":{}},"cF":{"opcode":"data_setvariableto","next":"+","parent":"cE","inputs":{"VALUE":[3,"g_",[10,"0"]]},"fields":{"VARIABLE":["quickimport","eS~V0O@msHVZZ#jgv!})"]}},"g_":{"opcode":"procedures_call","next":null,"parent":"cF","inputs":{"U-RyeiK;5a,aPo0;4+cr":[3,"r}",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pearl-parse CComp %s","argumentids":"[\"U-RyeiK;5a,aPo0;4+cr\"]","warp":"true","return":"1"}},"r}":{"opcode":"SPmessages_receivedData","next":null,"parent":"g_","inputs":{"MSG":[1,[10,"quickimport"]]},"fields":{}},"+":{"opcode":"control_if","next":",","parent":"cF","inputs":{"CONDITION":[2,"r~"],"SUBSTACK":[2,"g`"]},"fields":{}},"r~":{"opcode":"operator_equals","next":null,"parent":"+","inputs":{"OPERAND1":[3,[12,"quickimport","eS~V0O@msHVZZ#jgv!})"],[10,""]],"OPERAND2":[1,[10,"valueerror"]]},"fields":{}},"g`":{"opcode":"SPmessages_broadcastMsg","next":"sa","parent":"+","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"ValueError"]]},"fields":{"WAIT":["continue",null]}},"sa":{"opcode":"control_stop","next":null,"parent":"g`","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},",":{"opcode":"control_if","next":"-","parent":"+","inputs":{"CONDITION":[2,"sb"],"SUBSTACK":[2,"g{"]},"fields":{}},"sb":{"opcode":"operator_equals","next":null,"parent":",","inputs":{"OPERAND1":[3,[12,"quickimport","eS~V0O@msHVZZ#jgv!})"],[10,""]],"OPERAND2":[1,[10,"diverror"]]},"fields":{}},"g{":{"opcode":"SPmessages_broadcastMsg","next":"sc","parent":",","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"DivError"]]},"fields":{"WAIT":["continue",null]}},"sc":{"opcode":"control_stop","next":null,"parent":"g{","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"-":{"opcode":"control_if","next":"sd","parent":",","inputs":{"CONDITION":[2,"se"],"SUBSTACK":[2,"g|"]},"fields":{}},"se":{"opcode":"operator_equals","next":null,"parent":"-","inputs":{"OPERAND1":[3,[12,"quickimport","eS~V0O@msHVZZ#jgv!})"],[10,""]],"OPERAND2":[1,[10,"pearlerror"]]},"fields":{}},"g|":{"opcode":"SPmessages_broadcastMsg","next":"sf","parent":"-","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"PearlError"]]},"fields":{"WAIT":["continue",null]}},"sf":{"opcode":"control_stop","next":null,"parent":"g|","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"sd":{"opcode":"procedures_call","next":null,"parent":"-","inputs":{"E%D0X:wmSv}P?a`g?DEu":[3,[12,"quickimport","eS~V0O@msHVZZ#jgv!})"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Add Parsed Pearl info %s to current map","argumentids":"[\"E%D0X:wmSv}P?a`g?DEu\"]","warp":"true"}},"g}":{"opcode":"procedures_definition","next":".","parent":null,"inputs":{"custom_block":[1,"g~"]},"fields":{},"topLevel":true},"g~":{"opcode":"procedures_prototype","next":null,"parent":"g}","inputs":{"E%D0X:wmSv}P?a`g?DEu":[1,"sg"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Add Parsed Pearl info %s to current map","argumentids":"[\"E%D0X:wmSv}P?a`g?DEu\"]","argumentnames":"[\"info\"]","argumentdefaults":"[\"\"]","warp":"true"}},"sg":{"opcode":"argument_reporter_string_number","next":null,"parent":"g~","inputs":{},"fields":{"VALUE":["info",null]},"shadow":true},".":{"opcode":"control_if","next":"/","parent":"g}","inputs":{"CONDITION":[2,"cG"],"SUBSTACK":[2,"ha"]},"fields":{}},"cG":{"opcode":"operator_or","next":null,"parent":".","inputs":{"OPERAND1":[2,"hb"],"OPERAND2":[2,"hc"]},"fields":{}},"hb":{"opcode":"operator_gt","next":null,"parent":"cG","inputs":{"OPERAND1":[3,"hd",[10,""]],"OPERAND2":[1,[10,"160"]]},"fields":{}},"hd":{"opcode":"operator_mathop","next":null,"parent":"hb","inputs":{"NUM":[3,"he",[4,""]]},"fields":{"OPERATOR":["abs",null]}},"he":{"opcode":"strings_split","next":null,"parent":"hd","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"sh",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"sh":{"opcode":"argument_reporter_string_number","next":null,"parent":"he","inputs":{},"fields":{"VALUE":["info",null]}},"hc":{"opcode":"operator_gt","next":null,"parent":"cG","inputs":{"OPERAND1":[3,"hf",[10,""]],"OPERAND2":[1,[10,"160"]]},"fields":{}},"hf":{"opcode":"operator_mathop","next":null,"parent":"hc","inputs":{"NUM":[3,"hg",[4,""]]},"fields":{"OPERATOR":["abs",null]}},"hg":{"opcode":"strings_split","next":null,"parent":"hf","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,"si",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"si":{"opcode":"argument_reporter_string_number","next":null,"parent":"hg","inputs":{},"fields":{"VALUE":["info",null]}},"ha":{"opcode":"SPmessages_broadcastMsg","next":"sj","parent":".","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"BoundsError"]]},"fields":{"WAIT":["continue",null]}},"sj":{"opcode":"control_stop","next":null,"parent":"ha","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"/":{"opcode":"control_if_else","next":null,"parent":".","inputs":{"CONDITION":[2,"hh"],"SUBSTACK":[2,"hi"],"SUBSTACK2":[2,"sk"]},"fields":{}},"hh":{"opcode":"operator_not","next":null,"parent":"/","inputs":{"OPERAND":[2,"hj"]},"fields":{}},"hj":{"opcode":"data_listcontainsitem","next":null,"parent":"hh","inputs":{"ITEM":[3,"sl",[10,"thing"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"sl":{"opcode":"argument_reporter_string_number","next":null,"parent":"hj","inputs":{},"fields":{"VALUE":["info",null]}},"hi":{"opcode":"SPmessages_broadcastMsg","next":"cH","parent":"/","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"PlaceConfirm"]]},"fields":{"WAIT":["continue",null]}},"cH":{"opcode":"data_addtolist","next":"c","parent":"hi","inputs":{"ITEM":[3,"sm",[10,"thing"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"sm":{"opcode":"argument_reporter_string_number","next":null,"parent":"cH","inputs":{},"fields":{"VALUE":["info",null]}},"c":{"opcode":"procedures_call","next":"sn","parent":"cH","inputs":{"b?s/;54$*Ozn[Pa%1GyG":[3,"hk",[10,""]],"m8{*sErc/^DKZ_|/e:X@":[3,"hl",[10,""]],"^F/ofK6/+|[0xq({Pu|H":[3,"hm",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"draw pearl at [ %s %s ] color %s","argumentids":"[\"b?s/;54$*Ozn[Pa%1GyG\",\"m8{*sErc/^DKZ_|/e:X@\",\"^F/ofK6/+|[0xq({Pu|H\"]","warp":"true"}},"hk":{"opcode":"strings_split","next":null,"parent":"c","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"so",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"so":{"opcode":"argument_reporter_string_number","next":null,"parent":"hk","inputs":{},"fields":{"VALUE":["info",null]}},"hl":{"opcode":"strings_split","next":null,"parent":"c","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,"sp",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"sp":{"opcode":"argument_reporter_string_number","next":null,"parent":"hl","inputs":{},"fields":{"VALUE":["info",null]}},"hm":{"opcode":"strings_split","next":null,"parent":"c","inputs":{"ITEM":[1,[4,"3"]],"STRING":[3,"sq",[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"sq":{"opcode":"argument_reporter_string_number","next":null,"parent":"hm","inputs":{},"fields":{"VALUE":["info",null]}},"sn":{"opcode":"procedures_call","next":null,"parent":"c","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","warp":"true"}},"sk":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"/","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"DuplicateWarn"]]},"fields":{"WAIT":["continue",null]}},"sr":{"opcode":"procedures_call","next":null,"parent":null,"inputs":{"U-RyeiK;5a,aPo0;4+cr":[3,"cI",[10,"-55,3,b"]]},"fields":{},"topLevel":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pearl-parse CComp %s","argumentids":"[\"U-RyeiK;5a,aPo0;4+cr\"]","warp":"true","return":"1"}},"cI":{"opcode":"operator_join","next":null,"parent":"sr","inputs":{"STRING1":[3,"ss",[10,"apple "]],"STRING2":[3,"hn",[10,"banana"]]},"fields":{}},"ss":{"opcode":"operator_random","next":null,"parent":"cI","inputs":{"FROM":[1,[4,"-150"]],"TO":[1,[4,"150"]]},"fields":{}},"hn":{"opcode":"operator_join","next":null,"parent":"cI","inputs":{"STRING1":[1,[10,", "]],"STRING2":[3,"cJ",[10,"banana"]]},"fields":{}},"cJ":{"opcode":"operator_join","next":null,"parent":"hn","inputs":{"STRING1":[3,"st",[10,"apple "]],"STRING2":[3,"su",[10,"banana"]]},"fields":{}},"st":{"opcode":"operator_random","next":null,"parent":"cJ","inputs":{"FROM":[1,[4,"-150"]],"TO":[1,[4,"150"]]},"fields":{}},"su":{"opcode":"operator_join","next":null,"parent":"cJ","inputs":{"STRING1":[1,[10,","]],"STRING2":[1,[10,"y"]]},"fields":{}},"sv":{"opcode":"SPmessages_whenReceive1","next":"cK","parent":null,"inputs":{"MSG":[1,[10,"deletebyCCOMP"]]},"fields":{},"topLevel":true},"cK":{"opcode":"control_if","next":null,"parent":"sv","inputs":{"CONDITION":[2,"sw"],"SUBSTACK":[2,"cL"]},"fields":{}},"sw":{"opcode":"operator_equals","next":null,"parent":"cK","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"cL":{"opcode":"data_setvariableto","next":"cM","parent":"cK","inputs":{"VALUE":[3,"ho",[10,"0"]]},"fields":{"VARIABLE":["quickdelete","#GxPC|RRH=FjRxY%Nb?$"]}},"ho":{"opcode":"procedures_call","next":null,"parent":"cL","inputs":{"U-RyeiK;5a,aPo0;4+cr":[3,"sx",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pearl-parse CComp %s","argumentids":"[\"U-RyeiK;5a,aPo0;4+cr\"]","warp":"true","return":"1"}},"sx":{"opcode":"SPmessages_receivedData","next":null,"parent":"ho","inputs":{"MSG":[1,[10,"deletebyCCOMP"]]},"fields":{}},"cM":{"opcode":"control_if","next":null,"parent":"cL","inputs":{"CONDITION":[2,"cN"],"SUBSTACK":[2,"cO"]},"fields":{}},"cN":{"opcode":"operator_and","next":null,"parent":"cM","inputs":{"OPERAND1":[2,"hp"],"OPERAND2":[2,"cP"]},"fields":{}},"hp":{"opcode":"operator_equals","next":null,"parent":"cN","inputs":{"OPERAND1":[3,"sy",[10,""]],"OPERAND2":[3,[12,"idx",")5-L_9VWa4-[2VWaal;j"],[10,"50"]]},"fields":{}},"sy":{"opcode":"strings_split","next":null,"parent":"hp","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,[12,"quickdelete","#GxPC|RRH=FjRxY%Nb?$"],[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"cP":{"opcode":"operator_and","next":null,"parent":"cN","inputs":{"OPERAND1":[2,"hq"],"OPERAND2":[2,"hr"]},"fields":{}},"hq":{"opcode":"operator_equals","next":null,"parent":"cP","inputs":{"OPERAND1":[3,"sz",[10,""]],"OPERAND2":[3,[12,"idy","VGDu?;4M+:%V$J5j9Pdc"],[10,"50"]]},"fields":{}},"sz":{"opcode":"strings_split","next":null,"parent":"hq","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,[12,"quickdelete","#GxPC|RRH=FjRxY%Nb?$"],[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"hr":{"opcode":"operator_equals","next":null,"parent":"cP","inputs":{"OPERAND1":[3,"sA",[10,""]],"OPERAND2":[3,[12,"pearl color","Wpl75|aItJ}r+5#4y?t^"],[10,"50"]]},"fields":{}},"sA":{"opcode":"strings_split","next":null,"parent":"hr","inputs":{"ITEM":[1,[4,"3"]],"STRING":[3,[12,"quickdelete","#GxPC|RRH=FjRxY%Nb?$"],[10,"apple"]],"SPLIT":[1,[10,"/"]]},"fields":{}},"cO":{"opcode":"data_deleteoflist","next":"hs","parent":"cM","inputs":{"INDEX":[3,"sB",[7,"1"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"sB":{"opcode":"data_itemnumoflist","next":null,"parent":"cO","inputs":{"ITEM":[3,[12,"quickdelete","#GxPC|RRH=FjRxY%Nb?$"],[10,"thing"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"hs":{"opcode":"procedures_call","next":"sC","parent":"cO","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","warp":"true"}},"sC":{"opcode":"control_delete_this_clone","next":null,"parent":"hs","inputs":{},"fields":{}},"sD":{"opcode":"SPmessages_whenReceive1","next":":","parent":null,"inputs":{"MSG":[1,[10,"clearPEARLS"]]},"fields":{},"topLevel":true},":":{"opcode":"control_if","next":"cQ","parent":"sD","inputs":{"CONDITION":[2,"sE"],"SUBSTACK":[2,"sF"]},"fields":{}},"sE":{"opcode":"operator_equals","next":null,"parent":":","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"sF":{"opcode":"control_delete_this_clone","next":null,"parent":":","inputs":{},"fields":{}},"cQ":{"opcode":"control_if","next":null,"parent":":","inputs":{"CONDITION":[2,"ht"],"SUBSTACK":[2,"hu"]},"fields":{}},"ht":{"opcode":"operator_not","next":null,"parent":"cQ","inputs":{"OPERAND":[2,"sG"]},"fields":{}},"sG":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"ht","inputs":{},"fields":{}},"hu":{"opcode":"control_wait","next":"sH","parent":"cQ","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"sH":{"opcode":"procedures_call","next":null,"parent":"hu","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","warp":"true"}},"sI":{"opcode":"event_whenbroadcastreceived","next":";","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["delete menu","C(z#7DjPnYo}Y4OW5N5D"]},"topLevel":true},";":{"opcode":"control_if","next":"cR","parent":"sI","inputs":{"CONDITION":[2,"hv"],"SUBSTACK":[2,"hw"]},"fields":{}},"hv":{"opcode":"operator_not","next":null,"parent":";","inputs":{"OPERAND":[2,"sJ"]},"fields":{}},"sJ":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"hv","inputs":{},"fields":{}},"hw":{"opcode":"data_setvariableto","next":"=","parent":";","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["load dir","8CfEIjxe56S`u=2#92E+"]}},"=":{"opcode":"control_repeat_until","next":"sK","parent":"hw","inputs":{"CONDITION":[2,"hx"],"SUBSTACK":[2,"cS"]},"fields":{}},"hx":{"opcode":"operator_equals","next":null,"parent":"=","inputs":{"OPERAND1":[3,"sL",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"sL":{"opcode":"operator_round","next":null,"parent":"hx","inputs":{"NUM":[3,[12,"MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["],[4,""]]},"fields":{}},"cS":{"opcode":"data_changevariableby","next":"cT","parent":"=","inputs":{"VALUE":[3,"hy",[4,"1"]]},"fields":{"VARIABLE":["MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["]}},"hy":{"opcode":"operator_divide","next":null,"parent":"cS","inputs":{"NUM1":[3,"sM",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"sM":{"opcode":"operator_subtract","next":null,"parent":"hy","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,[12,"MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["],[4,""]]},"fields":{}},"cT":{"opcode":"control_if","next":null,"parent":"cS","inputs":{"CONDITION":[2,"sN"],"SUBSTACK":[2,"sO"]},"fields":{}},"sN":{"opcode":"operator_equals","next":null,"parent":"cT","inputs":{"OPERAND1":[3,[12,"load dir","8CfEIjxe56S`u=2#92E+"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"sO":{"opcode":"control_stop","next":null,"parent":"cT","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"sK":{"opcode":"data_setvariableto","next":null,"parent":"=","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["]}},"cR":{"opcode":"control_if","next":null,"parent":";","inputs":{"CONDITION":[2,"sP"],"SUBSTACK":[2,"hz"]},"fields":{}},"sP":{"opcode":"operator_equals","next":null,"parent":"cR","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"x"]]},"fields":{}},"hz":{"opcode":"control_repeat","next":null,"parent":"cR","inputs":{"TIMES":[1,[6,"10"]],"SUBSTACK":[2,"sQ"]},"fields":{}},"sQ":{"opcode":"looks_changeeffectby","next":null,"parent":"hz","inputs":{"CHANGE":[1,[4,"-7.5"]]},"fields":{"EFFECT":["GHOST",null]}},"sR":{"opcode":"event_whenbroadcastreceived","next":"?","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["load mapspace HUD","nV,Eg]r6I|B?~x2tOV%T"]},"topLevel":true},"?":{"opcode":"control_if","next":"cU","parent":"sR","inputs":{"CONDITION":[2,"hA"],"SUBSTACK":[2,"hB"]},"fields":{}},"hA":{"opcode":"operator_not","next":null,"parent":"?","inputs":{"OPERAND":[2,"sS"]},"fields":{}},"sS":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"hA","inputs":{},"fields":{}},"hB":{"opcode":"data_setvariableto","next":"@","parent":"?","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["load dir","8CfEIjxe56S`u=2#92E+"]}},"@":{"opcode":"control_repeat_until","next":"sT","parent":"hB","inputs":{"CONDITION":[2,"hC"],"SUBSTACK":[2,"cV"]},"fields":{}},"hC":{"opcode":"operator_equals","next":null,"parent":"@","inputs":{"OPERAND1":[3,"sU",[10,""]],"OPERAND2":[1,[10,"165"]]},"fields":{}},"sU":{"opcode":"operator_round","next":null,"parent":"hC","inputs":{"NUM":[3,[12,"MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["],[4,""]]},"fields":{}},"cV":{"opcode":"data_changevariableby","next":"cW","parent":"@","inputs":{"VALUE":[3,"hD",[4,"1"]]},"fields":{"VARIABLE":["MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["]}},"hD":{"opcode":"operator_divide","next":null,"parent":"cV","inputs":{"NUM1":[3,"sV",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"sV":{"opcode":"operator_subtract","next":null,"parent":"hD","inputs":{"NUM1":[1,[4,"165"]],"NUM2":[3,[12,"MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["],[4,""]]},"fields":{}},"cW":{"opcode":"control_if","next":null,"parent":"cV","inputs":{"CONDITION":[2,"sW"],"SUBSTACK":[2,"sX"]},"fields":{}},"sW":{"opcode":"operator_equals","next":null,"parent":"cW","inputs":{"OPERAND1":[3,[12,"load dir","8CfEIjxe56S`u=2#92E+"],[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"sX":{"opcode":"control_stop","next":null,"parent":"cW","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"sT":{"opcode":"data_setvariableto","next":null,"parent":"@","inputs":{"VALUE":[1,[10,"165"]]},"fields":{"VARIABLE":["MAP OFFSET","YvtN%N%+tYOL=W2v.ZS["]}},"cU":{"opcode":"control_if","next":null,"parent":"?","inputs":{"CONDITION":[2,"sY"],"SUBSTACK":[2,"hE"]},"fields":{}},"sY":{"opcode":"operator_equals","next":null,"parent":"cU","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"x"]]},"fields":{}},"hE":{"opcode":"control_repeat","next":null,"parent":"cU","inputs":{"TIMES":[1,[6,"10"]],"SUBSTACK":[2,"sZ"]},"fields":{}},"sZ":{"opcode":"looks_changeeffectby","next":null,"parent":"hE","inputs":{"CHANGE":[1,[4,"7.5"]]},"fields":{"EFFECT":["GHOST",null]}},"s!":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"hF","parent":null,"inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"hF":{"opcode":"looks_gotofrontback","next":"hG","parent":"s!","inputs":{},"fields":{"FRONT_BACK":["back",null]}},"hG":{"opcode":"looks_goforwardbackwardlayers","next":"hH","parent":"hF","inputs":{"NUM":[1,[7,"1"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"hH":{"opcode":"looks_seteffectto","next":"hI","parent":"hG","inputs":{"VALUE":[1,[4,"0"]]},"fields":{"EFFECT":["GHOST",null]}},"hI":{"opcode":"control_forever","next":null,"parent":"hH","inputs":{"SUBSTACK":[2,"hJ"]},"fields":{}},"hJ":{"opcode":"looks_switchcostumeto","next":null,"parent":"hI","inputs":{"COSTUME":[1,"s#"]},"fields":{}},"s#":{"opcode":"looks_costume","next":null,"parent":"hJ","inputs":{},"fields":{"COSTUME":["coords",null]},"shadow":true},"B-":{"opcode":"operator_subtract","next":null,"parent":null,"inputs":{"NUM1":[1,[4,""]],"NUM2":[1,[4,""]]},"fields":{},"topLevel":true},"s%":{"opcode":"shovellzcompress_decompress","next":null,"parent":null,"inputs":{"TEXT":[1,[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"s("]},"fields":{},"topLevel":true},"s(":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"s%","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"s)":{"opcode":"data_addtolist","next":null,"parent":null,"inputs":{"ITEM":[3,"s*",[10,"thing"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]},"topLevel":true},"s*":{"opcode":"procedures_call","next":null,"parent":"s)","inputs":{"O$?;T5MgG`;ZmW=nfiTg":[1,[10,"Capital"]],"B3G3.q:Y)B9*wA5r_-sx":[1,[10,"For Capital"]],"_;EE;0$gA{cX}4WPSfR!":[1,[10,"Capital"]],"guHriIn)9BIDcXN@Q!Ur":[1,[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Save a new map NAME %s DESC %s MAP %s BLUEPRINT %s","argumentids":"[\"O$?;T5MgG`;ZmW=nfiTg\",\"B3G3.q:Y)B9*wA5r_-sx\",\"_;EE;0$gA{cX}4WPSfR!\",\"guHriIn)9BIDcXN@Q!Ur\"]","warp":"true","return":"1"}},"hK":{"opcode":"procedures_definition","next":"hL","parent":null,"inputs":{"custom_block":[1,"d"]},"fields":{},"topLevel":true},"d":{"opcode":"procedures_prototype","next":null,"parent":"hK","inputs":{"O$?;T5MgG`;ZmW=nfiTg":[1,"s+"],"B3G3.q:Y)B9*wA5r_-sx":[1,"s,"],"_;EE;0$gA{cX}4WPSfR!":[1,"s-"],"guHriIn)9BIDcXN@Q!Ur":[1,"s."]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Save a new map NAME %s DESC %s MAP %s BLUEPRINT %s","argumentids":"[\"O$?;T5MgG`;ZmW=nfiTg\",\"B3G3.q:Y)B9*wA5r_-sx\",\"_;EE;0$gA{cX}4WPSfR!\",\"guHriIn)9BIDcXN@Q!Ur\"]","argumentnames":"[\"NAME\",\"DESC\",\"MAP\",\"blueprint\"]","argumentdefaults":"[\"\",\"\",\"\",\"\"]","warp":"true"}},"s+":{"opcode":"argument_reporter_string_number","next":null,"parent":"d","inputs":{},"fields":{"VALUE":["NAME",null]},"shadow":true},"s,":{"opcode":"argument_reporter_string_number","next":null,"parent":"d","inputs":{},"fields":{"VALUE":["DESC",null]},"shadow":true},"s-":{"opcode":"argument_reporter_string_number","next":null,"parent":"d","inputs":{},"fields":{"VALUE":["MAP",null]},"shadow":true},"s.":{"opcode":"argument_reporter_string_number","next":null,"parent":"d","inputs":{},"fields":{"VALUE":["blueprint",null]},"shadow":true},"hL":{"opcode":"procedures_return","next":null,"parent":"hK","inputs":{"VALUE":[3,"cX",[10,""]]},"fields":{}},"cX":{"opcode":"shovellzcompress_compress","next":null,"parent":"hL","inputs":{"TEXT":[3,"cY",[10,"Hello world!"]],"TYPE":[1,"s/"]},"fields":{}},"cY":{"opcode":"SPjson_convert","next":null,"parent":"cX","inputs":{"OBJ":[3,"cZ",[10,"{}"]],"TYPE":[1,"s:"]},"fields":{}},"cZ":{"opcode":"SPjson_setKey","next":null,"parent":"cY","inputs":{"KEY":[1,[10,"timestamp"]],"VAL":[3,"hM",[10,"value"]],"OBJ":[3,"c!",[10,"{}"]]},"fields":{}},"hM":{"opcode":"sipctime_TimestampToTime","next":null,"parent":"cZ","inputs":{"timestamp":[3,"s;",[4,"1591657163000"]]},"fields":{}},"s;":{"opcode":"sipctime_Timestamp","next":null,"parent":"hM","inputs":{},"fields":{}},"c!":{"opcode":"SPjson_setKey","next":null,"parent":"cZ","inputs":{"KEY":[1,[10,"blueprint"]],"VAL":[3,"s=",[10,"value"]],"OBJ":[3,"c#",[10,"{}"]]},"fields":{}},"s=":{"opcode":"argument_reporter_string_number","next":null,"parent":"c!","inputs":{},"fields":{"VALUE":["blueprint",null]}},"c#":{"opcode":"SPjson_setKey","next":null,"parent":"c!","inputs":{"KEY":[1,[10,"map"]],"VAL":[3,"s?",[10,"value"]],"OBJ":[3,"c%",[10,"{}"]]},"fields":{}},"s?":{"opcode":"argument_reporter_string_number","next":null,"parent":"c#","inputs":{},"fields":{"VALUE":["MAP",null]}},"c%":{"opcode":"SPjson_setKey","next":null,"parent":"c#","inputs":{"KEY":[1,[10,"name"]],"VAL":[3,"s@",[10,"value"]],"OBJ":[3,"hN",[10,"{}"]]},"fields":{}},"s@":{"opcode":"argument_reporter_string_number","next":null,"parent":"c%","inputs":{},"fields":{"VALUE":["NAME",null]}},"hN":{"opcode":"SPjson_setKey","next":null,"parent":"c%","inputs":{"KEY":[1,[10,"desc"]],"VAL":[3,"s[",[10,"value"]],"OBJ":[1,[10,"{}"]]},"fields":{}},"s[":{"opcode":"argument_reporter_string_number","next":null,"parent":"hN","inputs":{},"fields":{"VALUE":["DESC",null]}},"s:":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"cY","inputs":{},"fields":{"CONVERTS":["string",null]},"shadow":true},"s/":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"cX","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"hO":{"opcode":"procedures_definition","next":"c(","parent":null,"inputs":{"custom_block":[1,"hP"]},"fields":{},"topLevel":true},"hP":{"opcode":"procedures_prototype","next":null,"parent":"hO","inputs":{"I{qAXCC~$ZznLtjTPq4C":[1,"s]"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"LOAD blueprint from JSON %s","argumentids":"[\"I{qAXCC~$ZznLtjTPq4C\"]","argumentnames":"[\"json\"]","argumentdefaults":"[\"\"]","warp":"true"}},"s]":{"opcode":"argument_reporter_string_number","next":null,"parent":"hP","inputs":{},"fields":{"VALUE":["json",null]},"shadow":true},"c(":{"opcode":"data_setvariableto","next":"hQ","parent":"hO","inputs":{"VALUE":[3,"c)",[10,"0"]]},"fields":{"VARIABLE":["CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"]}},"c)":{"opcode":"SPjson_convert","next":null,"parent":"c(","inputs":{"OBJ":[3,"c*",[10,"{}"]],"TYPE":[1,"s^"]},"fields":{}},"c*":{"opcode":"shovellzcompress_decompress","next":null,"parent":"c)","inputs":{"TEXT":[3,"s_",[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"s`"]},"fields":{}},"s_":{"opcode":"argument_reporter_string_number","next":null,"parent":"c*","inputs":{},"fields":{"VALUE":["json",null]}},"s`":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"c*","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"s^":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"c)","inputs":{},"fields":{"CONVERTS":["JSON",null]},"shadow":true},"hQ":{"opcode":"data_deletealloflist","next":"[","parent":"c(","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"[":{"opcode":"lmsData_setListArray","next":"hR","parent":"hQ","inputs":{"LIST":[1,"s{"],"ARRAY":[3,"]",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"s{":{"opcode":"lmsData_menu_lists","next":null,"parent":"[","inputs":{},"fields":{"lists":["CURRENT PEARL MAP",null]},"shadow":true},"]":{"opcode":"procedures_call","next":null,"parent":"[","inputs":{"2OwR|ouAmD|K,[K$l7AY":[1,"s|"],"C[]y.ADKMBA:*KU8I5jX":[3,"s}",[10,"3,5,b"]],"hMtNqmg8HT4}WnfrcdBf":[1,"s~"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Convert %s %s to %s","argumentids":"[\"2OwR|ouAmD|K,[K$l7AY\",\"C[]y.ADKMBA:*KU8I5jX\",\"hMtNqmg8HT4}WnfrcdBf\"]","warp":"true","return":"1"}},"s|":{"opcode":"SP0zMenuMaker_menu_bp-map","next":null,"parent":"]","inputs":{},"fields":{"bp-map":["BLUEPRINT",null]},"shadow":true},"s}":{"opcode":"SPjson_getKey","next":null,"parent":"]","inputs":{"KEY":[1,[10,"blueprint"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"s~":{"opcode":"SP0zMenuMaker_menu_bp-map","next":null,"parent":"]","inputs":{},"fields":{"bp-map":["MAP",null]},"shadow":true},"hR":{"opcode":"data_deletealloflist","next":"c+","parent":"[","inputs":{},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"c+":{"opcode":"data_addtolist","next":"c,","parent":"hR","inputs":{"ITEM":[3,"ta",[10,"thing"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"ta":{"opcode":"SPjson_getKey","next":null,"parent":"c+","inputs":{"KEY":[1,[10,"name"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"c,":{"opcode":"data_addtolist","next":"c-","parent":"c+","inputs":{"ITEM":[3,"tb",[10,"thing"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"tb":{"opcode":"SPjson_getKey","next":null,"parent":"c,","inputs":{"KEY":[1,[10,"desc"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"c-":{"opcode":"data_addtolist","next":"c.","parent":"c,","inputs":{"ITEM":[3,"tc",[10,"thing"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"tc":{"opcode":"SPjson_getKey","next":null,"parent":"c-","inputs":{"KEY":[1,[10,"map"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"c.":{"opcode":"data_addtolist","next":"c/","parent":"c-","inputs":{"ITEM":[3,"td",[10,"thing"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"td":{"opcode":"SPjson_getKey","next":null,"parent":"c.","inputs":{"KEY":[1,[10,"timestamp"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"c/":{"opcode":"lmsclonesplus_deleteClonesInSprite","next":"hS","parent":"c.","inputs":{"INPUT":[1,"te"]},"fields":{}},"te":{"opcode":"lmsclonesplus_menu_spriteMenu","next":null,"parent":"c/","inputs":{},"fields":{"spriteMenu":["pearle brain",null]},"shadow":true},"hS":{"opcode":"procedures_call","next":"hT","parent":"c/","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"create clones","argumentids":"[]","warp":"true"}},"hT":{"opcode":"data_setvariableto","next":null,"parent":"hS","inputs":{"VALUE":[3,"tf",[10,"0"]]},"fields":{"VARIABLE":["CURRENT MAP","H]{?V--pdKLq##EluzqH"]}},"tf":{"opcode":"SPjson_getKey","next":null,"parent":"hT","inputs":{"KEY":[1,[10,"map"]],"OBJ":[3,[12,"CURRENT BLUEPRINT JSON","EWv5j@S~0CBH2l^LMJR)"],[10,"{\"map\":\"a\"}"]]},"fields":{}},"B.":{"opcode":"argument_reporter_string_number","next":null,"parent":null,"inputs":{},"fields":{"VALUE":["json",null]},"topLevel":true},"B/":{"opcode":"argument_reporter_string_number","next":null,"parent":null,"inputs":{},"fields":{"VALUE":["json",null]},"topLevel":true},"tg":{"opcode":"SPjson_convert","next":null,"parent":null,"inputs":{"OBJ":[1,[10,"{}"]],"TYPE":[1,"th"]},"fields":{},"topLevel":true},"th":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"tg","inputs":{},"fields":{"CONVERTS":["JSON",null]},"shadow":true},"B:":{"opcode":"SPjson_arrGet","next":null,"parent":null,"inputs":{"IND":[1,[4,"6"]],"ARR":[1,[10,"[\"a\", \"b\", \"c\"]"]]},"fields":{},"topLevel":true},"B;":{"opcode":"SPjson_arrValid","next":null,"parent":null,"inputs":{"ARR":[1,[10,""]]},"fields":{},"topLevel":true},"hU":{"opcode":"procedures_definition","next":"hV","parent":null,"inputs":{"custom_block":[1,"ti"]},"fields":{},"topLevel":true},"ti":{"opcode":"procedures_prototype","next":null,"parent":"hU","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"hV":{"opcode":"event_broadcast","next":"c:","parent":"hU","inputs":{"BROADCAST_INPUT":[1,[11,"save map","h,47~@b?YYko8Ahmz3qj"]]},"fields":{}},"c:":{"opcode":"data_replaceitemoflist","next":"tj","parent":"hV","inputs":{"INDEX":[3,[12,"SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"],[7,"1"]],"ITEM":[3,"e",[10,"thing"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"e":{"opcode":"procedures_call","next":null,"parent":"c:","inputs":{"O$?;T5MgG`;ZmW=nfiTg":[3,"tk",[10,"Dogville"]],"B3G3.q:Y)B9*wA5r_-sx":[3,"tl",[10,"For Dogville"]],"_;EE;0$gA{cX}4WPSfR!":[3,"tm",[10,"Dogville"]],"guHriIn)9BIDcXN@Q!Ur":[3,"^",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Save a new map NAME %s DESC %s MAP %s BLUEPRINT %s","argumentids":"[\"O$?;T5MgG`;ZmW=nfiTg\",\"B3G3.q:Y)B9*wA5r_-sx\",\"_;EE;0$gA{cX}4WPSfR!\",\"guHriIn)9BIDcXN@Q!Ur\"]","warp":"true","return":"1"}},"tk":{"opcode":"data_itemoflist","next":null,"parent":"e","inputs":{"INDEX":[1,[7,"1"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"tl":{"opcode":"data_itemoflist","next":null,"parent":"e","inputs":{"INDEX":[1,[7,"2"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"tm":{"opcode":"data_itemoflist","next":null,"parent":"e","inputs":{"INDEX":[1,[7,"3"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"^":{"opcode":"procedures_call","next":null,"parent":"e","inputs":{"2OwR|ouAmD|K,[K$l7AY":[1,"tn"],"C[]y.ADKMBA:*KU8I5jX":[3,"hW",[10,"[\"3/5/b\"]"]],"hMtNqmg8HT4}WnfrcdBf":[1,"to"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Convert %s %s to %s","argumentids":"[\"2OwR|ouAmD|K,[K$l7AY\",\"C[]y.ADKMBA:*KU8I5jX\",\"hMtNqmg8HT4}WnfrcdBf\"]","warp":"true","return":"1"}},"tn":{"opcode":"SP0zMenuMaker_menu_bp-map","next":null,"parent":"^","inputs":{},"fields":{"bp-map":["MAP",null]},"shadow":true},"hW":{"opcode":"lmsData_getListArray","next":null,"parent":"^","inputs":{"LIST":[1,"tp"]},"fields":{}},"tp":{"opcode":"lmsData_menu_lists","next":null,"parent":"hW","inputs":{},"fields":{"lists":["CURRENT PEARL MAP",null]},"shadow":true},"to":{"opcode":"SP0zMenuMaker_menu_bp-map","next":null,"parent":"^","inputs":{},"fields":{"bp-map":["BLUEPRINT",null]},"shadow":true},"tj":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"c:","inputs":{"MSG":[1,[10,"save blueprints"]],"DATA":[1,[10,""]]},"fields":{"WAIT":["continue",null]}},"B=":{"opcode":"SPjson_objValid","next":null,"parent":null,"inputs":{"OBJ":[1,[10,"{\"key\":\"value\"}"]]},"fields":{},"topLevel":true},"tq":{"opcode":"event_whenbroadcastreceived","next":"hX","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["open mapspace","yGyv?e1:j[4~uy/g=Efe"]},"topLevel":true},"hX":{"opcode":"control_wait","next":"tr","parent":"tq","inputs":{"DURATION":[1,[5,"1"]]},"fields":{}},"tr":{"opcode":"event_broadcast","next":null,"parent":"hX","inputs":{"BROADCAST_INPUT":[1,[11,"init map","IZT7{2wmyJ9}8!^cgxnq"]]},"fields":{}},"hY":{"opcode":"SPjson_convert","next":null,"parent":null,"inputs":{"OBJ":[3,"c;",[10,"{}"]],"TYPE":[1,"ts"]},"fields":{},"topLevel":true},"c;":{"opcode":"shovellzcompress_decompress","next":null,"parent":"hY","inputs":{"TEXT":[3,"tt",[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"tu"]},"fields":{}},"tt":{"opcode":"data_itemoflist","next":null,"parent":"c;","inputs":{"INDEX":[3,[12,"SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"],[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"tu":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"c;","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"ts":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"hY","inputs":{},"fields":{"CONVERTS":["JSON",null]},"shadow":true},"B?":{"opcode":"procedures_call","next":null,"parent":null,"inputs":{},"fields":{},"topLevel":true,"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","warp":"true"}},"tv":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"hZ","parent":null,"inputs":{"INPUTB":[1,[10,"mapsaved"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"hZ":{"opcode":"looks_seteffectto","next":"h!","parent":"tv","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"h!":{"opcode":"control_forever","next":null,"parent":"hZ","inputs":{"SUBSTACK":[2,"h#"]},"fields":{}},"h#":{"opcode":"looks_setsizeto","next":"h%","parent":"h!","inputs":{"SIZE":[1,[4,"100"]]},"fields":{}},"h%":{"opcode":"motion_gotoxy","next":"h(","parent":"h#","inputs":{"X":[1,[4,"311"]],"Y":[1,[4,"-180"]]},"fields":{}},"h(":{"opcode":"looks_gotofrontback","next":"h)","parent":"h%","inputs":{},"fields":{"FRONT_BACK":["front",null]}},"h)":{"opcode":"looks_switchcostumeto","next":null,"parent":"h(","inputs":{"COSTUME":[1,"tw"]},"fields":{}},"tw":{"opcode":"looks_costume","next":null,"parent":"h)","inputs":{},"fields":{"COSTUME":["saved",null]},"shadow":true},"tx":{"opcode":"event_whenbroadcastreceived","next":"c=","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["save map","h,47~@b?YYko8Ahmz3qj"]},"topLevel":true},"c=":{"opcode":"control_if","next":null,"parent":"tx","inputs":{"CONDITION":[2,"ty"],"SUBSTACK":[2,"h*"]},"fields":{}},"ty":{"opcode":"operator_equals","next":null,"parent":"c=","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"mapsaved"]]},"fields":{}},"h*":{"opcode":"looks_seteffectto","next":"c?","parent":"c=","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"c?":{"opcode":"control_repeat","next":"h+","parent":"h*","inputs":{"TIMES":[1,[6,"12"]],"SUBSTACK":[2,"tz"]},"fields":{}},"tz":{"opcode":"looks_changeeffectby","next":null,"parent":"c?","inputs":{"CHANGE":[1,[4,"-8"]]},"fields":{"EFFECT":["GHOST",null]}},"h+":{"opcode":"looks_seteffectto","next":"h,","parent":"c?","inputs":{"VALUE":[1,[4,"0"]]},"fields":{"EFFECT":["GHOST",null]}},"h,":{"opcode":"control_wait","next":"c@","parent":"h+","inputs":{"DURATION":[1,[5,"0.2"]]},"fields":{}},"c@":{"opcode":"control_repeat","next":"tA","parent":"h,","inputs":{"TIMES":[1,[6,"12"]],"SUBSTACK":[2,"tB"]},"fields":{}},"tB":{"opcode":"looks_changeeffectby","next":null,"parent":"c@","inputs":{"CHANGE":[1,[4,"8"]]},"fields":{"EFFECT":["GHOST",null]}},"tA":{"opcode":"looks_seteffectto","next":null,"parent":"c@","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"tC":{"opcode":"event_whenbroadcastreceived","next":"h-","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["exit mapspace","CIcFN%36C~m@kmuOW1Cc"]},"topLevel":true},"h-":{"opcode":"control_stop","next":"h.","parent":"tC","inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},"h.":{"opcode":"looks_hide","next":"_","parent":"h-","inputs":{},"fields":{}},"_":{"opcode":"control_if","next":"tD","parent":"h.","inputs":{"CONDITION":[2,"h/"],"SUBSTACK":[2,"h:"]},"fields":{}},"h/":{"opcode":"operator_not","next":null,"parent":"_","inputs":{"OPERAND":[2,"tE"]},"fields":{}},"tE":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"h/","inputs":{},"fields":{}},"h:":{"opcode":"procedures_call","next":"h;","parent":"_","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"save current map","argumentids":"[]","warp":"true"}},"h;":{"opcode":"control_wait","next":"tF","parent":"h:","inputs":{"DURATION":[1,[5,"0.2"]]},"fields":{}},"tF":{"opcode":"event_broadcast","next":null,"parent":"h;","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"tD":{"opcode":"control_delete_this_clone","next":null,"parent":"_","inputs":{},"fields":{}},"tG":{"opcode":"SPmessages_whenReceive1","next":"c[","parent":null,"inputs":{"MSG":[1,[10,"CreateMap"]]},"fields":{},"topLevel":true},"c[":{"opcode":"data_insertatlist","next":"h=","parent":"tG","inputs":{"ITEM":[3,"h?",[10,"thing"]],"INDEX":[1,[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"h?":{"opcode":"procedures_call","next":null,"parent":"c[","inputs":{"O$?;T5MgG`;ZmW=nfiTg":[1,[10,"My new Map"]],"B3G3.q:Y)B9*wA5r_-sx":[1,[10,"This is my new map!"]],"_;EE;0$gA{cX}4WPSfR!":[3,"tH",[10,"Dogville"]],"guHriIn)9BIDcXN@Q!Ur":[1,[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"Save a new map NAME %s DESC %s MAP %s BLUEPRINT %s","argumentids":"[\"O$?;T5MgG`;ZmW=nfiTg\",\"B3G3.q:Y)B9*wA5r_-sx\",\"_;EE;0$gA{cX}4WPSfR!\",\"guHriIn)9BIDcXN@Q!Ur\"]","warp":"true","return":"1"}},"tH":{"opcode":"SPmessages_receivedData","next":null,"parent":"h?","inputs":{"MSG":[1,[10,"CreateMap"]]},"fields":{}},"h=":{"opcode":"data_setvariableto","next":"tI","parent":"c[","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"]}},"tI":{"opcode":"event_broadcast","next":null,"parent":"h=","inputs":{"BROADCAST_INPUT":[1,[11,"open mapspace","yGyv?e1:j[4~uy/g=Efe"]]},"fields":{}},"tJ":{"opcode":"event_whenthisspriteclicked","next":"c]","parent":null,"inputs":{},"fields":{},"topLevel":true},"c]":{"opcode":"control_if","next":null,"parent":"tJ","inputs":{"CONDITION":[2,"tK"],"SUBSTACK":[2,"c^"]},"fields":{}},"tK":{"opcode":"operator_equals","next":null,"parent":"c]","inputs":{"OPERAND1":[3,[12,"clone type","DOF$IX.ws$:SS.U{FRxN"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"c^":{"opcode":"control_if_else","next":null,"parent":"c]","inputs":{"CONDITION":[2,"tL"],"SUBSTACK":[2,"h@"]},"fields":{}},"tL":{"opcode":"operator_equals","next":null,"parent":"c^","inputs":{"OPERAND1":[3,[12,"DELETE MODE","#svnRe?po1={ZjC]$(VL"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"h@":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"c^","inputs":{"MSG":[1,[10,"deletebyCCOMP"]],"DATA":[3,"h[",[10,"hello world"]]},"fields":{"WAIT":["continue",null]}},"h[":{"opcode":"operator_join","next":null,"parent":"h@","inputs":{"STRING1":[3,[12,"idx",")5-L_9VWa4-[2VWaal;j"],[10,"apple "]],"STRING2":[3,"h]",[10,"banana"]]},"fields":{}},"h]":{"opcode":"operator_join","next":null,"parent":"h[","inputs":{"STRING1":[1,[10,","]],"STRING2":[3,"h^",[10,"banana"]]},"fields":{}},"h^":{"opcode":"operator_join","next":null,"parent":"h]","inputs":{"STRING1":[3,[12,"idy","VGDu?;4M+:%V$J5j9Pdc"],[10,"apple "]],"STRING2":[3,"tM",[10,"banana"]]},"fields":{}},"tM":{"opcode":"operator_join","next":null,"parent":"h^","inputs":{"STRING1":[1,[10,","]],"STRING2":[3,[12,"pearl color","Wpl75|aItJ}r+5#4y?t^"],[10,"banana"]]},"fields":{}},"tN":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"h_","parent":null,"inputs":{"INPUTB":[1,[10,"watermark"]]},"fields":{"INPUTA":["DOF$IX.ws$:SS.U{FRxN",null]},"topLevel":true},"h_":{"opcode":"looks_goforwardbackwardlayers","next":"h`","parent":"tN","inputs":{"NUM":[1,[7,"1"]]},"fields":{"FORWARD_BACKWARD":["forward",null]}},"h`":{"opcode":"control_forever","next":null,"parent":"h_","inputs":{"SUBSTACK":[2,"h{"]},"fields":{}},"h{":{"opcode":"motion_pointindirection","next":"h|","parent":"h`","inputs":{"DIRECTION":[1,[8,"45"]]},"fields":{}},"h|":{"opcode":"looks_switchcostumeto","next":null,"parent":"h{","inputs":{"COSTUME":[1,"tO"]},"fields":{}},"tO":{"opcode":"looks_costume","next":null,"parent":"h|","inputs":{},"fields":{"COSTUME":["watermark",null]},"shadow":true},"B@":[12,"idx",")5-L_9VWa4-[2VWaal;j",-2784,-7]},"comments":{},"currentCostume":11,"costumes":[{"name":"line - black","bitmapResolution":1,"dataFormat":"svg","assetId":"3c242696fcd5322ac6f67949fcb5647f","md5ext":"3c242696fcd5322ac6f67949fcb5647f.svg","rotationCenterX":160.88333500000002,"rotationCenterY":0.42500000000001137},{"name":"line - colored","bitmapResolution":1,"dataFormat":"svg","assetId":"5cd030013561232448caa60967388f67","md5ext":"5cd030013561232448caa60967388f67.svg","rotationCenterX":160.883325,"rotationCenterY":0.42500000000001137},{"name":"coords","bitmapResolution":1,"dataFormat":"svg","assetId":"33783cb67ddc95c1a3919844b48f89d7","md5ext":"33783cb67ddc95c1a3919844b48f89d7.svg","rotationCenterX":205.89237625,"rotationCenterY":171.5748701543045},{"name":"grid - thin","bitmapResolution":1,"dataFormat":"svg","assetId":"0b7d01a0020f2d317264bf2be6679f7a","md5ext":"0b7d01a0020f2d317264bf2be6679f7a.svg","rotationCenterX":159.95024000000006,"rotationCenterY":159.95024},{"name":"grid - semithin","bitmapResolution":1,"dataFormat":"svg","assetId":"7478a9cee993265df84665b259ec59ed","md5ext":"7478a9cee993265df84665b259ec59ed.svg","rotationCenterX":160.12524000000008,"rotationCenterY":160.12524000000002},{"name":"grid - wide","bitmapResolution":1,"dataFormat":"svg","assetId":"c685d320629b85ad5584a765aea7c844","md5ext":"c685d320629b85ad5584a765aea7c844.svg","rotationCenterX":161.20024,"rotationCenterY":161.20024},{"name":"saved","bitmapResolution":1,"dataFormat":"svg","assetId":"c0efc0ef72fdb38e6c9a611ecae5fcb3","md5ext":"c0efc0ef72fdb38e6c9a611ecae5fcb3.svg","rotationCenterX":43.35371107227195,"rotationCenterY":10.096779612644326},{"name":"ref map","bitmapResolution":1,"dataFormat":"svg","assetId":"f1cfab50a5974eb47dfa3fae927c3e7e","md5ext":"f1cfab50a5974eb47dfa3fae927c3e7e.svg","rotationCenterX":160.125,"rotationCenterY":160.125},{"name":"ref sector","bitmapResolution":1,"dataFormat":"svg","assetId":"bbd5ad86ab52f58cf8f8e6cafc2cb67d","md5ext":"bbd5ad86ab52f58cf8f8e6cafc2cb67d.svg","rotationCenterX":39.8125,"rotationCenterY":39.8125},{"name":"watermark","bitmapResolution":1,"dataFormat":"svg","assetId":"9cf97091ad47892fc001cd2e93e8125b","md5ext":"9cf97091ad47892fc001cd2e93e8125b.svg","rotationCenterX":153.81766076507574,"rotationCenterY":44.47890280211135},{"name":"MAP Capital","bitmapResolution":1,"dataFormat":"svg","assetId":"c482f52f7c755b83a610637c4d1f8b67","md5ext":"c482f52f7c755b83a610637c4d1f8b67.svg","rotationCenterX":160.634725,"rotationCenterY":160.628},{"name":"MAP Dogville","bitmapResolution":1,"dataFormat":"svg","assetId":"c3baec3400aa5499c61a4921d51cf481","md5ext":"c3baec3400aa5499c61a4921d51cf481.svg","rotationCenterX":160.6347440640001,"rotationCenterY":160.62800000000004},{"name":"MAP None","bitmapResolution":1,"dataFormat":"svg","assetId":"f1e6c92a33cc3ed9fb82534bed056039","md5ext":"f1e6c92a33cc3ed9fb82534bed056039.svg","rotationCenterX":160.634745,"rotationCenterY":160.62800000000004},{"name":"red","bitmapResolution":1,"dataFormat":"svg","assetId":"10fb59c3fcde186428ab20ff31e79935","md5ext":"10fb59c3fcde186428ab20ff31e79935.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999997500000006},{"name":"green","bitmapResolution":1,"dataFormat":"svg","assetId":"ec8f9033e69c1ec0ac4bdbc2a4b615b6","md5ext":"ec8f9033e69c1ec0ac4bdbc2a4b615b6.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999965000000003},{"name":"blue","bitmapResolution":1,"dataFormat":"svg","assetId":"291e894513e51236aa780ca1d669a511","md5ext":"291e894513e51236aa780ca1d669a511.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006},{"name":"white","bitmapResolution":1,"dataFormat":"svg","assetId":"7142069ec143376b50bfde02af235cd9","md5ext":"7142069ec143376b50bfde02af235cd9.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006},{"name":"magenta","bitmapResolution":1,"dataFormat":"svg","assetId":"695df786e6627f4dd3210bc404bb73b4","md5ext":"695df786e6627f4dd3210bc404bb73b4.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006},{"name":"yellow","bitmapResolution":1,"dataFormat":"svg","assetId":"01ea46f18151927f16ba1a26d8ffb525","md5ext":"01ea46f18151927f16ba1a26d8ffb525.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006},{"name":"cyan","bitmapResolution":1,"dataFormat":"svg","assetId":"e89da2a145123d21c38762676cd7e0b7","md5ext":"e89da2a145123d21c38762676cd7e0b7.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006},{"name":"black","bitmapResolution":1,"dataFormat":"svg","assetId":"03b88de70adaf9659046b7e7247304d3","md5ext":"03b88de70adaf9659046b7e7247304d3.svg","rotationCenterX":7.999985000000038,"rotationCenterY":7.999975000000006}],"sounds":[],"volume":100,"layerOrder":1,"visible":false,"x":165,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"pearl-parse CComp %s":{"color":"#ff0000","global":false,"return":1},"is legit":{"color":"#ffffff"},"is legit divider":{"color":"#ffffff"},"Convert %s %s to %s":{"color":"#00c8ff","inputs":{"2OwR|ouAmD|K,[K$l7AY":{"type":"SP0zMenuMaker_menu_bp-map","isDrop":true},"hMtNqmg8HT4}WnfrcdBf":{"type":"SP0zMenuMaker_menu_bp-map","isDrop":true}}},"evaluate %s":{"color":"#ffffff"},"create clones":{"color":"#b8b8b8"},"draw pearl at [ %s %s ] color %s":{"color":"#00c8ff"},"do camera":{"color":"#b8b8b8"},"load map":{"color":"#b8b8b8"},"Add Parsed Pearl info %s to current map":{"color":"#00c8ff"},"Save a new map NAME %s DESC %s MAP %s BLUEPRINT %s":{"color":"#00c8ff"},"LOAD blueprint from JSON %s":{"color":"#00c8ff"},"save current map":{"color":"#b8b8b8"}}}},{"isStage":false,"name":"Dashboard","variables":{"vk{g.wTdzd]G?n8xgL5Y":["clone type",0],"1ldtXq5J9R::a9!Wg!6d":["accel","0.1"],"Fjx{N?x[,|EXC:!SP1Q=":["ID",8],"-_/whn:1Y1W,x~pfen3C":["disposable?","0"]},"lists":{},"broadcasts":{},"blocks":{"tP":{"opcode":"event_whenbroadcastreceived","next":"`","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["load mapspace HUD","nV,Eg]r6I|B?~x2tOV%T"]},"topLevel":true},"`":{"opcode":"control_if_else","next":null,"parent":"tP","inputs":{"CONDITION":[2,"h}"],"SUBSTACK":[2,"h~"],"SUBSTACK2":[2,"c_"]},"fields":{}},"h}":{"opcode":"operator_not","next":null,"parent":"`","inputs":{"OPERAND":[2,"tQ"]},"fields":{}},"tQ":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"h}","inputs":{},"fields":{}},"h~":{"opcode":"procedures_call","next":"ia","parent":"`","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"clones","argumentids":"[]","warp":"true"}},"ia":{"opcode":"event_broadcast","next":"tR","parent":"h~","inputs":{"BROADCAST_INPUT":[1,[11,"create disposable GUI","=:IO3z?7KpDAm/Jy{3Zp"]]},"fields":{}},"tR":{"opcode":"data_setvariableto","next":null,"parent":"ia","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["FULLSCREEN?","Fc$mE^OXZyqOn4V+C!#q"]}},"c_":{"opcode":"control_if","next":null,"parent":"`","inputs":{"CONDITION":[2,"tS"],"SUBSTACK":[2,"tT"]},"fields":{}},"tS":{"opcode":"operator_equals","next":null,"parent":"c_","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"viewport"]]},"fields":{}},"tT":{"opcode":"control_delete_this_clone","next":null,"parent":"c_","inputs":{},"fields":{}},"tU":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ib","parent":null,"inputs":{"INPUTB":[1,[10,"base"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"ib":{"opcode":"motion_gotoxy","next":"ic","parent":"tU","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"ic":{"opcode":"looks_show","next":"id","parent":"ib","inputs":{},"fields":{}},"id":{"opcode":"looks_switchcostumeto","next":null,"parent":"ic","inputs":{"COSTUME":[1,"tV"]},"fields":{}},"tV":{"opcode":"looks_costume","next":null,"parent":"id","inputs":{},"fields":{"COSTUME":["Base",null]},"shadow":true},"tW":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ie","parent":null,"inputs":{"INPUTB":[1,[10,"viewport"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"ie":{"opcode":"looks_show","next":"if","parent":"tW","inputs":{},"fields":{}},"if":{"opcode":"looks_seteffectto","next":"c`","parent":"ie","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"c`":{"opcode":"looks_switchcostumeto","next":"ig","parent":"if","inputs":{"COSTUME":[1,"tX"]},"fields":{}},"tX":{"opcode":"looks_costume","next":null,"parent":"c`","inputs":{},"fields":{"COSTUME":["Viewport",null]},"shadow":true},"ig":{"opcode":"looks_gotofrontback","next":"ih","parent":"c`","inputs":{},"fields":{"FRONT_BACK":["back",null]}},"ih":{"opcode":"data_setvariableto","next":"ii","parent":"ig","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["accel","1ldtXq5J9R::a9!Wg!6d"]}},"ii":{"opcode":"control_forever","next":null,"parent":"ih","inputs":{"SUBSTACK":[2,"c{"]},"fields":{}},"c{":{"opcode":"data_setvariableto","next":"f","parent":"ii","inputs":{"VALUE":[3,"ij",[10,"0"]]},"fields":{"VARIABLE":["IN VIEWPORT?","mHdm#bkM-wL!FNqK9d(c"]}},"ij":{"opcode":"sensing_touchingobject","next":null,"parent":"c{","inputs":{"TOUCHINGOBJECTMENU":[1,"tY"]},"fields":{}},"tY":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"ij","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"f":{"opcode":"control_if_else","next":"ik","parent":"c{","inputs":{"CONDITION":[2,"il"],"SUBSTACK":[2,"c|"],"SUBSTACK2":[2,"im"]},"fields":{}},"il":{"opcode":"operator_equals","next":null,"parent":"f","inputs":{"OPERAND1":[3,"tZ",[10,""]],"OPERAND2":[1,[10,"ViewportFULL"]]},"fields":{}},"tZ":{"opcode":"looks_costumenumbername","next":null,"parent":"il","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"c|":{"opcode":"looks_setsizeto","next":"in","parent":"f","inputs":{"SIZE":[3,"io",[4,"100"]]},"fields":{}},"io":{"opcode":"sensing_of","next":null,"parent":"c|","inputs":{"OBJECT":[1,"t!"]},"fields":{"PROPERTY":["size",null]}},"t!":{"opcode":"sensing_of_object_menu","next":null,"parent":"io","inputs":{},"fields":{"OBJECT":["pearle brain",null]},"shadow":true},"in":{"opcode":"motion_goto","next":null,"parent":"c|","inputs":{"TO":[1,"t#"]},"fields":{}},"t#":{"opcode":"motion_goto_menu","next":null,"parent":"in","inputs":{},"fields":{"TO":["pearle brain",null]},"shadow":true},"im":{"opcode":"looks_setsizeto","next":"t%","parent":"f","inputs":{"SIZE":[1,[4,"100"]]},"fields":{}},"t%":{"opcode":"motion_gotoxy","next":null,"parent":"im","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"ik":{"opcode":"data_changevariableby","next":"c}","parent":"f","inputs":{"VALUE":[3,[12,"accel","1ldtXq5J9R::a9!Wg!6d"],[4,"1"]]},"fields":{"VARIABLE":["MAP SIZE","xwO9/sE*6/~([E59OA;!"]}},"c}":{"opcode":"data_setvariableto","next":"c~","parent":"ik","inputs":{"VALUE":[3,"ip",[10,"1"]]},"fields":{"VARIABLE":["MAP SIZE","xwO9/sE*6/~([E59OA;!"]}},"ip":{"opcode":"truefantommath_clamp_block","next":null,"parent":"c}","inputs":{"A":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]],"B":[1,[4,"1"]],"C":[3,"iq",[4,"2"]]},"fields":{}},"iq":{"opcode":"utilities_ternaryOperator","next":null,"parent":"ip","inputs":{"A":[2,"t("],"B":[1,[10,"3"]],"C":[1,[10,"2"]]},"fields":{}},"t(":{"opcode":"operator_equals","next":null,"parent":"iq","inputs":{"OPERAND1":[3,[12,"FULLSCREEN?","Fc$mE^OXZyqOn4V+C!#q"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"c~":{"opcode":"data_setvariableto","next":"da","parent":"c}","inputs":{"VALUE":[3,"t)",[10,"0"]]},"fields":{"VARIABLE":["accel","1ldtXq5J9R::a9!Wg!6d"]}},"t)":{"opcode":"operator_multiply","next":null,"parent":"c~","inputs":{"NUM1":[3,[12,"accel","1ldtXq5J9R::a9!Wg!6d"],[4,""]],"NUM2":[1,[4,"0.8"]]},"fields":{}},"da":{"opcode":"control_if","next":null,"parent":"c~","inputs":{"CONDITION":[2,"ir"],"SUBSTACK":[2,"t*"]},"fields":{}},"ir":{"opcode":"operator_equals","next":null,"parent":"da","inputs":{"OPERAND1":[3,"is",[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"is":{"opcode":"operator_length","next":null,"parent":"ir","inputs":{"STRING":[3,"t+",[10,"apple"]]},"fields":{}},"t+":{"opcode":"operator_divide","next":null,"parent":"is","inputs":{"NUM1":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,"2"]],"NUM2":[1,[4,"1"]]},"fields":{}},"t*":{"opcode":"data_setvariableto","next":null,"parent":"da","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["accel","1ldtXq5J9R::a9!Wg!6d"]}},"t,":{"opcode":"HyperSense2SP_whenScrolled","next":"db","parent":null,"inputs":{},"fields":{"DIR":["up",null]},"topLevel":true},"db":{"opcode":"control_if","next":null,"parent":"t,","inputs":{"CONDITION":[2,"t-"],"SUBSTACK":[2,"dc"]},"fields":{}},"t-":{"opcode":"operator_equals","next":null,"parent":"db","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"viewport"]]},"fields":{}},"dc":{"opcode":"control_if","next":null,"parent":"db","inputs":{"CONDITION":[2,"t."],"SUBSTACK":[2,"t/"]},"fields":{}},"t.":{"opcode":"utilities_stringToBoolean","next":null,"parent":"dc","inputs":{"STRING":[3,[12,"IN VIEWPORT?","mHdm#bkM-wL!FNqK9d(c"],[10,"true"]]},"fields":{}},"t/":{"opcode":"data_changevariableby","next":null,"parent":"dc","inputs":{"VALUE":[1,[4,"0.02"]]},"fields":{"VARIABLE":["accel","1ldtXq5J9R::a9!Wg!6d"]}},"t:":{"opcode":"HyperSense2SP_whenScrolled","next":"dd","parent":null,"inputs":{},"fields":{"DIR":["down",null]},"topLevel":true},"dd":{"opcode":"control_if","next":null,"parent":"t:","inputs":{"CONDITION":[2,"t;"],"SUBSTACK":[2,"de"]},"fields":{}},"t;":{"opcode":"operator_equals","next":null,"parent":"dd","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"viewport"]]},"fields":{}},"de":{"opcode":"control_if","next":null,"parent":"dd","inputs":{"CONDITION":[2,"t="],"SUBSTACK":[2,"t?"]},"fields":{}},"t=":{"opcode":"utilities_stringToBoolean","next":null,"parent":"de","inputs":{"STRING":[3,[12,"IN VIEWPORT?","mHdm#bkM-wL!FNqK9d(c"],[10,"true"]]},"fields":{}},"t?":{"opcode":"data_changevariableby","next":null,"parent":"de","inputs":{"VALUE":[1,[4,"-0.02"]]},"fields":{"VARIABLE":["accel","1ldtXq5J9R::a9!Wg!6d"]}},"t@":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"it","parent":null,"inputs":{"INPUTB":[1,[10,"tip"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"it":{"opcode":"motion_gotoxy","next":"df","parent":"t@","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"df":{"opcode":"looks_switchcostumeto","next":"t[","parent":"it","inputs":{"COSTUME":[1,"t]"]},"fields":{}},"t]":{"opcode":"looks_costume","next":null,"parent":"df","inputs":{},"fields":{"COSTUME":["tip",null]},"shadow":true},"t[":{"opcode":"looks_show","next":null,"parent":"df","inputs":{},"fields":{}},"t^":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"iu","parent":null,"inputs":{"INPUTB":[1,[10,"menuButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"iu":{"opcode":"looks_show","next":"iv","parent":"t^","inputs":{},"fields":{}},"iv":{"opcode":"control_forever","next":null,"parent":"iu","inputs":{"SUBSTACK":[2,"dg"]},"fields":{}},"dg":{"opcode":"looks_switchcostumeto","next":"{","parent":"iv","inputs":{"COSTUME":[1,"t_"]},"fields":{}},"t_":{"opcode":"looks_costume","next":null,"parent":"dg","inputs":{},"fields":{"COSTUME":["menu",null]},"shadow":true},"{":{"opcode":"looks_switchcostumeto","next":"dh","parent":"dg","inputs":{"COSTUME":[3,"iw","t`"]},"fields":{}},"iw":{"opcode":"operator_add","next":null,"parent":"{","inputs":{"NUM1":[3,"t{",[4,""]],"NUM2":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,"1"]]},"fields":{}},"t{":{"opcode":"looks_costumenumbername","next":null,"parent":"iw","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"t`":{"opcode":"looks_costume","next":null,"parent":"{","inputs":{},"fields":{"COSTUME":["Start",null]},"shadow":true},"dh":{"opcode":"motion_gotoxy","next":"|","parent":"{","inputs":{"X":[1,[4,"-305"]],"Y":[3,"ix",[4,"160"]]},"fields":{}},"ix":{"opcode":"operator_subtract","next":null,"parent":"dh","inputs":{"NUM1":[1,[4,"205"]],"NUM2":[3,"t|",[4,""]]},"fields":{}},"t|":{"opcode":"operator_multiply","next":null,"parent":"ix","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"45"]]},"fields":{}},"|":{"opcode":"control_if_else","next":null,"parent":"dh","inputs":{"CONDITION":[2,"iy"],"SUBSTACK":[2,"}"],"SUBSTACK2":[2,"iz"]},"fields":{}},"iy":{"opcode":"sensing_touchingobject","next":null,"parent":"|","inputs":{"TOUCHINGOBJECTMENU":[1,"t}"]},"fields":{}},"t}":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"iy","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"}":{"opcode":"control_if_else","next":null,"parent":"|","inputs":{"CONDITION":[2,"t~"],"SUBSTACK":[2,"iA"],"SUBSTACK2":[2,"iB"]},"fields":{}},"t~":{"opcode":"sensing_mousedown","next":null,"parent":"}","inputs":{},"fields":{}},"iA":{"opcode":"looks_changesizeby","next":null,"parent":"}","inputs":{"CHANGE":[3,"iC",[4,"10"]]},"fields":{}},"iC":{"opcode":"operator_divide","next":null,"parent":"iA","inputs":{"NUM1":[3,"iD",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"iD":{"opcode":"operator_subtract","next":null,"parent":"iC","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"ua",[4,""]]},"fields":{}},"ua":{"opcode":"looks_size","next":null,"parent":"iD","inputs":{},"fields":{}},"iB":{"opcode":"looks_changesizeby","next":null,"parent":"}","inputs":{"CHANGE":[3,"iE",[4,"10"]]},"fields":{}},"iE":{"opcode":"operator_divide","next":null,"parent":"iB","inputs":{"NUM1":[3,"iF",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"iF":{"opcode":"operator_subtract","next":null,"parent":"iE","inputs":{"NUM1":[1,[4,"120"]],"NUM2":[3,"ub",[4,""]]},"fields":{}},"ub":{"opcode":"looks_size","next":null,"parent":"iF","inputs":{},"fields":{}},"iz":{"opcode":"looks_changesizeby","next":null,"parent":"|","inputs":{"CHANGE":[3,"iG",[4,"10"]]},"fields":{}},"iG":{"opcode":"operator_divide","next":null,"parent":"iz","inputs":{"NUM1":[3,"iH",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"iH":{"opcode":"operator_subtract","next":null,"parent":"iG","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"uc",[4,""]]},"fields":{}},"uc":{"opcode":"looks_size","next":null,"parent":"iH","inputs":{},"fields":{}},"ud":{"opcode":"event_whenthisspriteclicked","next":"~","parent":null,"inputs":{},"fields":{},"topLevel":true},"~":{"opcode":"control_if","next":"aa","parent":"ud","inputs":{"CONDITION":[2,"ue"],"SUBSTACK":[2,"uf"]},"fields":{}},"ue":{"opcode":"operator_equals","next":null,"parent":"~","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"deltip"]]},"fields":{}},"uf":{"opcode":"data_setvariableto","next":null,"parent":"~","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["DELETE MODE","#svnRe?po1={ZjC]$(VL"]}},"aa":{"opcode":"control_if","next":"ab","parent":"~","inputs":{"CONDITION":[2,"ug"],"SUBSTACK":[2,"uh"]},"fields":{}},"ug":{"opcode":"operator_equals","next":null,"parent":"aa","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"tip"]]},"fields":{}},"uh":{"opcode":"control_delete_this_clone","next":null,"parent":"aa","inputs":{},"fields":{}},"ab":{"opcode":"control_if","next":"ac","parent":"aa","inputs":{"CONDITION":[2,"ui"],"SUBSTACK":[2,"di"]},"fields":{}},"ui":{"opcode":"operator_equals","next":null,"parent":"ab","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"menuButton"]]},"fields":{}},"di":{"opcode":"data_setvariableto","next":"iI","parent":"ab","inputs":{"VALUE":[3,"uj",[10,"0"]]},"fields":{"VARIABLE":["DASHBOARD PAGE","*?zWJy/75f0mzO$rPYE#"]}},"uj":{"opcode":"looks_costumenumbername","next":null,"parent":"di","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"iI":{"opcode":"event_broadcast","next":"uk","parent":"di","inputs":{"BROADCAST_INPUT":[1,[11,"flush disposable GUI","seuk6.O|Am=JJat`7St0"]]},"fields":{}},"uk":{"opcode":"event_broadcast","next":null,"parent":"iI","inputs":{"BROADCAST_INPUT":[1,[11,"create disposable GUI","=:IO3z?7KpDAm/Jy{3Zp"]]},"fields":{}},"ac":{"opcode":"control_if","next":"ad","parent":"ab","inputs":{"CONDITION":[2,"ul"],"SUBSTACK":[2,"um"]},"fields":{}},"ul":{"opcode":"operator_equals","next":null,"parent":"ac","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"Fullscreen"]]},"fields":{}},"um":{"opcode":"event_broadcast","next":null,"parent":"ac","inputs":{"BROADCAST_INPUT":[1,[11,"delete menu","C(z#7DjPnYo}Y4OW5N5D"]]},"fields":{}},"ad":{"opcode":"control_if","next":"ae","parent":"ac","inputs":{"CONDITION":[2,"un"],"SUBSTACK":[2,"iJ"]},"fields":{}},"un":{"opcode":"operator_equals","next":null,"parent":"ad","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"Exit"]]},"fields":{}},"iJ":{"opcode":"data_setvariableto","next":"uo","parent":"ad","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"uo":{"opcode":"event_broadcast","next":null,"parent":"iJ","inputs":{"BROADCAST_INPUT":[1,[11,"exit mapspace","CIcFN%36C~m@kmuOW1Cc"]]},"fields":{}},"ae":{"opcode":"control_if","next":"dj","parent":"ad","inputs":{"CONDITION":[2,"up"],"SUBSTACK":[2,"af"]},"fields":{}},"up":{"opcode":"operator_equals","next":null,"parent":"ae","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"editTitle"]]},"fields":{}},"af":{"opcode":"control_if","next":"uq","parent":"ae","inputs":{"CONDITION":[2,"ur"],"SUBSTACK":[2,"iK"]},"fields":{}},"ur":{"opcode":"operator_equals","next":null,"parent":"af","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"iK":{"opcode":"data_setvariableto","next":"us","parent":"af","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"us":{"opcode":"control_stop","next":null,"parent":"iK","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"uq":{"opcode":"data_setvariableto","next":null,"parent":"af","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"dj":{"opcode":"control_if","next":null,"parent":"ae","inputs":{"CONDITION":[2,"ut"],"SUBSTACK":[2,"ag"]},"fields":{}},"ut":{"opcode":"operator_equals","next":null,"parent":"dj","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"editDesc"]]},"fields":{}},"ag":{"opcode":"control_if","next":"uu","parent":"dj","inputs":{"CONDITION":[2,"uv"],"SUBSTACK":[2,"iL"]},"fields":{}},"uv":{"opcode":"operator_equals","next":null,"parent":"ag","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"iL":{"opcode":"data_setvariableto","next":"uw","parent":"ag","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"uw":{"opcode":"control_stop","next":null,"parent":"iL","inputs":{},"fields":{"STOP_OPTION":["this script",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"false"}},"uu":{"opcode":"data_setvariableto","next":null,"parent":"ag","inputs":{"VALUE":[1,[10,"2"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"iM":{"opcode":"procedures_definition","next":"iN","parent":null,"inputs":{"custom_block":[1,"ux"]},"fields":{},"topLevel":true},"ux":{"opcode":"procedures_prototype","next":null,"parent":"iM","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"clones","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"iN":{"opcode":"looks_gotofrontback","next":"iO","parent":"iM","inputs":{},"fields":{"FRONT_BACK":["front",null]}},"iO":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"iP","parent":"iN","inputs":{"INPUTB":[1,[10,"deltip"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"iP":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"iQ","parent":"iO","inputs":{"INPUTB":[1,[10,"tip"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"iQ":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"iR","parent":"iP","inputs":{"INPUTB":[1,[10,"base"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"iR":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"iS","parent":"iQ","inputs":{"INPUTB":[1,[10,"viewport"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"iS":{"opcode":"data_setvariableto","next":"iT","parent":"iR","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"iT":{"opcode":"control_repeat","next":null,"parent":"iS","inputs":{"TIMES":[1,[6,"3"]],"SUBSTACK":[2,"iU"]},"fields":{}},"iU":{"opcode":"data_changevariableby","next":"uy","parent":"iT","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"uy":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"iU","inputs":{"INPUTB":[1,[10,"menuButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"uz":{"opcode":"event_whenbroadcastreceived","next":"dk","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["flush disposable GUI","seuk6.O|Am=JJat`7St0"]},"topLevel":true},"dk":{"opcode":"control_if","next":null,"parent":"uz","inputs":{"CONDITION":[2,"uA"],"SUBSTACK":[2,"uB"]},"fields":{}},"uA":{"opcode":"utilities_stringToBoolean","next":null,"parent":"dk","inputs":{"STRING":[3,[12,"disposable?","-_/whn:1Y1W,x~pfen3C"],[10,"true"]]},"fields":{}},"uB":{"opcode":"control_delete_this_clone","next":null,"parent":"dk","inputs":{},"fields":{}},"uC":{"opcode":"event_whenbroadcastreceived","next":"dl","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["create disposable GUI","=:IO3z?7KpDAm/Jy{3Zp"]},"topLevel":true},"dl":{"opcode":"control_if","next":null,"parent":"uC","inputs":{"CONDITION":[2,"iV"],"SUBSTACK":[2,"uD"]},"fields":{}},"iV":{"opcode":"operator_not","next":null,"parent":"dl","inputs":{"OPERAND":[2,"uE"]},"fields":{}},"uE":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"iV","inputs":{},"fields":{}},"uD":{"opcode":"procedures_call","next":null,"parent":"dl","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"clones2","argumentids":"[]","warp":"true"}},"uF":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"iW","parent":null,"inputs":{"INPUTB":[1,[10,"EditButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"iW":{"opcode":"looks_show","next":"iX","parent":"uF","inputs":{},"fields":{}},"iX":{"opcode":"control_forever","next":null,"parent":"iW","inputs":{"SUBSTACK":[2,"dm"]},"fields":{}},"dm":{"opcode":"looks_switchcostumeto","next":"ah","parent":"iX","inputs":{"COSTUME":[1,"uG"]},"fields":{}},"uG":{"opcode":"looks_costume","next":null,"parent":"dm","inputs":{},"fields":{"COSTUME":["edit",null]},"shadow":true},"ah":{"opcode":"looks_switchcostumeto","next":"ai","parent":"dm","inputs":{"COSTUME":[3,"iY","uH"]},"fields":{}},"iY":{"opcode":"operator_add","next":null,"parent":"ah","inputs":{"NUM1":[3,"uI",[4,""]],"NUM2":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,"1"]]},"fields":{}},"uI":{"opcode":"looks_costumenumbername","next":null,"parent":"iY","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"uH":{"opcode":"looks_costume","next":null,"parent":"ah","inputs":{},"fields":{"COSTUME":["Start",null]},"shadow":true},"ai":{"opcode":"motion_gotoxy","next":"aj","parent":"ah","inputs":{"X":[3,"iZ",[4,"-200"]],"Y":[3,"i!",[4,"160"]]},"fields":{}},"iZ":{"opcode":"operator_add","next":null,"parent":"ai","inputs":{"NUM1":[1,[4,"-210"]],"NUM2":[3,"i#",[4,""]]},"fields":{}},"i#":{"opcode":"operator_multiply","next":null,"parent":"iZ","inputs":{"NUM1":[3,"i%",[4,""]],"NUM2":[1,[4,"70"]]},"fields":{}},"i%":{"opcode":"operator_mod","next":null,"parent":"i#","inputs":{"NUM1":[3,"uJ",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"uJ":{"opcode":"operator_subtract","next":null,"parent":"i%","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"i!":{"opcode":"operator_subtract","next":null,"parent":"ai","inputs":{"NUM1":[1,[4,"170"]],"NUM2":[3,"i(",[4,""]]},"fields":{}},"i(":{"opcode":"operator_multiply","next":null,"parent":"i!","inputs":{"NUM1":[3,"i)",[4,""]],"NUM2":[1,[4,"70"]]},"fields":{}},"i)":{"opcode":"operator_divide","next":null,"parent":"i(","inputs":{"NUM1":[3,"i*",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"i*":{"opcode":"operator_subtract","next":null,"parent":"i)","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[3,"i+",[4,""]]},"fields":{}},"i+":{"opcode":"operator_mod","next":null,"parent":"i*","inputs":{"NUM1":[3,"uK",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"uK":{"opcode":"operator_subtract","next":null,"parent":"i+","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"aj":{"opcode":"control_if_else","next":null,"parent":"ai","inputs":{"CONDITION":[2,"i,"],"SUBSTACK":[2,"ak"],"SUBSTACK2":[2,"i-"]},"fields":{}},"i,":{"opcode":"sensing_touchingobject","next":null,"parent":"aj","inputs":{"TOUCHINGOBJECTMENU":[1,"uL"]},"fields":{}},"uL":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"i,","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"ak":{"opcode":"control_if_else","next":null,"parent":"aj","inputs":{"CONDITION":[2,"uM"],"SUBSTACK":[2,"i."],"SUBSTACK2":[2,"i/"]},"fields":{}},"uM":{"opcode":"sensing_mousedown","next":null,"parent":"ak","inputs":{},"fields":{}},"i.":{"opcode":"looks_changesizeby","next":null,"parent":"ak","inputs":{"CHANGE":[3,"i:",[4,"10"]]},"fields":{}},"i:":{"opcode":"operator_divide","next":null,"parent":"i.","inputs":{"NUM1":[3,"i;",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"i;":{"opcode":"operator_subtract","next":null,"parent":"i:","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"uN",[4,""]]},"fields":{}},"uN":{"opcode":"looks_size","next":null,"parent":"i;","inputs":{},"fields":{}},"i/":{"opcode":"looks_changesizeby","next":null,"parent":"ak","inputs":{"CHANGE":[3,"i=",[4,"10"]]},"fields":{}},"i=":{"opcode":"operator_divide","next":null,"parent":"i/","inputs":{"NUM1":[3,"i?",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"i?":{"opcode":"operator_subtract","next":null,"parent":"i=","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"uO",[4,""]]},"fields":{}},"uO":{"opcode":"looks_size","next":null,"parent":"i?","inputs":{},"fields":{}},"i-":{"opcode":"looks_changesizeby","next":null,"parent":"aj","inputs":{"CHANGE":[3,"i@",[4,"10"]]},"fields":{}},"i@":{"opcode":"operator_divide","next":null,"parent":"i-","inputs":{"NUM1":[3,"i[",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"i[":{"opcode":"operator_subtract","next":null,"parent":"i@","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"uP",[4,""]]},"fields":{}},"uP":{"opcode":"looks_size","next":null,"parent":"i[","inputs":{},"fields":{}},"uQ":{"opcode":"looks_switchcostumeto","next":null,"parent":null,"inputs":{"COSTUME":[1,"uR"]},"fields":{},"topLevel":true},"uR":{"opcode":"looks_costume","next":null,"parent":"uQ","inputs":{},"fields":{"COSTUME":["Start",null]},"shadow":true},"uS":{"opcode":"event_whenthisspriteclicked","next":"al","parent":null,"inputs":{},"fields":{},"topLevel":true},"al":{"opcode":"control_if","next":"dn","parent":"uS","inputs":{"CONDITION":[2,"uT"],"SUBSTACK":[2,"uU"]},"fields":{}},"uT":{"opcode":"operator_equals","next":null,"parent":"al","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"editButton"]]},"fields":{}},"uU":{"opcode":"procedures_call","next":null,"parent":"al","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"do edit","argumentids":"[]","warp":"false"}},"dn":{"opcode":"control_if","next":null,"parent":"al","inputs":{"CONDITION":[2,"uV"],"SUBSTACK":[2,"am"]},"fields":{}},"uV":{"opcode":"operator_equals","next":null,"parent":"dn","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"filterColorButton"]]},"fields":{}},"am":{"opcode":"control_if_else","next":null,"parent":"dn","inputs":{"CONDITION":[2,"i]"],"SUBSTACK":[2,"i^"],"SUBSTACK2":[2,"i_"]},"fields":{}},"i]":{"opcode":"data_listcontainsitem","next":null,"parent":"am","inputs":{"ITEM":[3,"uW",[10,"thing"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"uW":{"opcode":"looks_costumenumbername","next":null,"parent":"i]","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"i^":{"opcode":"data_deleteoflist","next":null,"parent":"am","inputs":{"INDEX":[3,"i`",[7,"1"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"i`":{"opcode":"data_itemnumoflist","next":null,"parent":"i^","inputs":{"ITEM":[3,"uX",[10,"thing"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"uX":{"opcode":"looks_costumenumbername","next":null,"parent":"i`","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"i_":{"opcode":"data_addtolist","next":null,"parent":"am","inputs":{"ITEM":[3,"uY",[10,"thing"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"uY":{"opcode":"looks_costumenumbername","next":null,"parent":"i_","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"i{":{"opcode":"procedures_definition","next":"i|","parent":null,"inputs":{"custom_block":[1,"uZ"]},"fields":{},"topLevel":true},"uZ":{"opcode":"procedures_prototype","next":null,"parent":"i{","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"clones2","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"i|":{"opcode":"data_setvariableto","next":"i}","parent":"i{","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"i}":{"opcode":"data_setvariableto","next":"an","parent":"i|","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["disposable?","-_/whn:1Y1W,x~pfen3C"]}},"an":{"opcode":"control_if","next":"ao","parent":"i}","inputs":{"CONDITION":[2,"u!"],"SUBSTACK":[2,"i~"]},"fields":{}},"u!":{"opcode":"operator_equals","next":null,"parent":"an","inputs":{"OPERAND1":[3,[12,"DASHBOARD PAGE","*?zWJy/75f0mzO$rPYE#"],[10,""]],"OPERAND2":[1,[10,"Start"]]},"fields":{}},"i~":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"ja","parent":"an","inputs":{"INPUTB":[1,[10,"editTitle"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"ja":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"jb","parent":"i~","inputs":{"INPUTB":[1,[10,"editDesc"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"jb":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"jc","parent":"ja","inputs":{"INPUTB":[1,[10,"Title"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"jc":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"u#","parent":"jb","inputs":{"INPUTB":[1,[10,"desc"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"u#":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"jc","inputs":{"INPUTB":[1,[10,"Exit"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"ao":{"opcode":"control_if","next":"ap","parent":"an","inputs":{"CONDITION":[2,"u%"],"SUBSTACK":[2,"jd"]},"fields":{}},"u%":{"opcode":"operator_equals","next":null,"parent":"ao","inputs":{"OPERAND1":[3,[12,"DASHBOARD PAGE","*?zWJy/75f0mzO$rPYE#"],[10,""]],"OPERAND2":[1,[10,"Edit"]]},"fields":{}},"jd":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"je","parent":"ao","inputs":{"INPUTB":[1,[10,"Result"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"je":{"opcode":"data_setvariableto","next":"jf","parent":"jd","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"jf":{"opcode":"control_repeat","next":null,"parent":"je","inputs":{"TIMES":[1,[6,"6"]],"SUBSTACK":[2,"jg"]},"fields":{}},"jg":{"opcode":"data_changevariableby","next":"u(","parent":"jf","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"u(":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"jg","inputs":{"INPUTB":[1,[10,"editButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"ap":{"opcode":"control_if","next":"u)","parent":"ao","inputs":{"CONDITION":[2,"u*"],"SUBSTACK":[2,"jh"]},"fields":{}},"u*":{"opcode":"operator_equals","next":null,"parent":"ap","inputs":{"OPERAND1":[3,[12,"DASHBOARD PAGE","*?zWJy/75f0mzO$rPYE#"],[10,""]],"OPERAND2":[1,[10,"View"]]},"fields":{}},"jh":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"ji","parent":"ap","inputs":{"INPUTB":[1,[10,"Fullscreen"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"ji":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"jj","parent":"jh","inputs":{"INPUTB":[1,[10,"Result"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"jj":{"opcode":"data_setvariableto","next":"do","parent":"ji","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"do":{"opcode":"control_repeat","next":"u+","parent":"jj","inputs":{"TIMES":[1,[6,"8"]],"SUBSTACK":[2,"jk"]},"fields":{}},"jk":{"opcode":"data_changevariableby","next":"u,","parent":"do","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","Fjx{N?x[,|EXC:!SP1Q="]}},"u,":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"jk","inputs":{"INPUTB":[1,[10,"filterColorButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"u)":{"opcode":"data_setvariableto","next":null,"parent":"ap","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["disposable?","-_/whn:1Y1W,x~pfen3C"]}},"u-":{"opcode":"event_whenflagclicked","next":"jl","parent":null,"inputs":{},"fields":{},"topLevel":true},"jl":{"opcode":"SPpopups_deletePopup","next":"jm","parent":"u-","inputs":{"ID":[1,[10,"q"]]},"fields":{}},"jm":{"opcode":"SPpopups_createPopup","next":"jn","parent":"jl","inputs":{"ID":[1,[10,"q"]]},"fields":{}},"jn":{"opcode":"SPpopups_createPopLabel","next":"dp","parent":"jm","inputs":{"ID":[1,[10,"h1"]],"TEXT":[1,[10,"Quick Import"]]},"fields":{}},"dp":{"opcode":"SPpopups_append2Popup","next":"jo","parent":"jn","inputs":{"TYPE":[1,"u."],"ELEMENT_ID":[1,[10,"h1"]],"POP_ID":[1,[10,"q"]]},"fields":{}},"u.":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dp","inputs":{},"fields":{"UI_ELEMENTS":["label",null]},"shadow":true},"jo":{"opcode":"SPpopups_createPopLabel","next":"dq","parent":"dp","inputs":{"ID":[1,[10,"h2"]],"TEXT":[1,[10,"accepts x,y,(color)"]]},"fields":{}},"dq":{"opcode":"SPpopups_append2Popup","next":"dr","parent":"jo","inputs":{"TYPE":[1,"u/"],"ELEMENT_ID":[1,[10,"h2"]],"POP_ID":[1,[10,"q"]]},"fields":{}},"u/":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dq","inputs":{},"fields":{"UI_ELEMENTS":["label",null]},"shadow":true},"dr":{"opcode":"SPpopups_createPopInput","next":"jp","parent":"dq","inputs":{"TYPE":[1,"u:"],"ID":[1,[10,"in"]]},"fields":{}},"u:":{"opcode":"SPpopups_menu_INPUTS","next":null,"parent":"dr","inputs":{},"fields":{"INPUTS":["text",null]},"shadow":true},"jp":{"opcode":"SPpopups_setDefaultValue","next":"ds","parent":"dr","inputs":{"ID":[1,[10,"in"]],"VALUE":[1,[10,""]]},"fields":{}},"ds":{"opcode":"SPpopups_append2Popup","next":"jq","parent":"jp","inputs":{"TYPE":[1,"u;"],"ELEMENT_ID":[1,[10,"in"]],"POP_ID":[1,[10,"q"]]},"fields":{}},"u;":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"ds","inputs":{},"fields":{"UI_ELEMENTS":["input",null]},"shadow":true},"jq":{"opcode":"SPpopups_createBtnRow","next":"jr","parent":"ds","inputs":{"ID":[1,[10,"b"]]},"fields":{}},"jr":{"opcode":"SPpopups_createPopBtn","next":"js","parent":"jq","inputs":{"ID":[1,[10,"i"]],"TEXT":[1,[10,"Import"]]},"fields":{}},"js":{"opcode":"SPpopups_createPopBtn","next":"jt","parent":"jr","inputs":{"ID":[1,[10,"cancel"]],"TEXT":[1,[10,"Cancel"]]},"fields":{}},"jt":{"opcode":"SPpopups_append2Row","next":"ju","parent":"js","inputs":{"BTN_ID":[1,[10,"i"]],"ROW_ID":[1,[10,"b"]]},"fields":{}},"ju":{"opcode":"SPpopups_append2Row","next":"dt","parent":"jt","inputs":{"BTN_ID":[1,[10,"cancel"]],"ROW_ID":[1,[10,"b"]]},"fields":{}},"dt":{"opcode":"SPpopups_append2Popup","next":"aq","parent":"ju","inputs":{"TYPE":[1,"u="],"ELEMENT_ID":[1,[10,"b"]],"POP_ID":[1,[10,"q"]]},"fields":{}},"u=":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dt","inputs":{},"fields":{"UI_ELEMENTS":["buttonRow",null]},"shadow":true},"aq":{"opcode":"SPpopups_setElementAtt","next":"ar","parent":"dt","inputs":{"PARAM":[1,"u?"],"ELEMENT":[1,"u@"],"ID":[1,[10,"q"]],"VALUE":[1,[10,"#121317"]]},"fields":{}},"u?":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"aq","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"u@":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"aq","inputs":{},"fields":{"UI_MAIN":["popup",null]},"shadow":true},"ar":{"opcode":"SPpopups_setElementAtt","next":"as","parent":"aq","inputs":{"PARAM":[1,"u["],"ELEMENT":[1,"u]"],"ID":[1,[10,"h1"]],"VALUE":[1,[10,"#ffffff"]]},"fields":{}},"u[":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"ar","inputs":{},"fields":{"POP_STYLES":["color",null]},"shadow":true},"u]":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"ar","inputs":{},"fields":{"UI_MAIN":["label",null]},"shadow":true},"as":{"opcode":"SPpopups_setElementAtt","next":"du","parent":"ar","inputs":{"PARAM":[1,"u^"],"ELEMENT":[1,"u_"],"ID":[1,[10,"h2"]],"VALUE":[1,[10,"#aaaaaa"]]},"fields":{}},"u^":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"as","inputs":{},"fields":{"POP_STYLES":["color",null]},"shadow":true},"u_":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"as","inputs":{},"fields":{"UI_MAIN":["label",null]},"shadow":true},"du":{"opcode":"SPpopups_setInputFontSZ","next":"at","parent":"as","inputs":{"ELEMENT":[1,"u`"],"ID":[1,[10,"h2"]],"SIZE":[1,[4,"10"]]},"fields":{}},"u`":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"du","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"at":{"opcode":"SPpopups_setElementAtt","next":"au","parent":"du","inputs":{"PARAM":[1,"u{"],"ELEMENT":[1,"u|"],"ID":[1,[10,"in"]],"VALUE":[1,[10,"#ffffff"]]},"fields":{}},"u{":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"at","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"u|":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"at","inputs":{},"fields":{"UI_MAIN":["input",null]},"shadow":true},"au":{"opcode":"SPpopups_setInputFont","next":"av","parent":"at","inputs":{"ELEMENT":[1,"u}"],"ID":[1,[10,"h1"]],"FONT":[1,"u~"]},"fields":{}},"u}":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"au","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"u~":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"au","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"av":{"opcode":"SPpopups_setInputFont","next":"aw","parent":"au","inputs":{"ELEMENT":[1,"va"],"ID":[1,[10,"h2"]],"FONT":[1,"vb"]},"fields":{}},"va":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"av","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"vb":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"av","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"aw":{"opcode":"SPpopups_setInputFont","next":"ax","parent":"av","inputs":{"ELEMENT":[1,"vc"],"ID":[1,[10,"in"]],"FONT":[1,"vd"]},"fields":{}},"vc":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aw","inputs":{},"fields":{"UI_MAIN2":["input",null]},"shadow":true},"vd":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aw","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"ax":{"opcode":"SPpopups_setInputFont","next":"ay","parent":"aw","inputs":{"ELEMENT":[1,"ve"],"ID":[1,[10,"i"]],"FONT":[1,"vf"]},"fields":{}},"ve":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"ax","inputs":{},"fields":{"UI_MAIN2":["button",null]},"shadow":true},"vf":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"ax","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"ay":{"opcode":"SPpopups_setInputFont","next":"dv","parent":"ax","inputs":{"ELEMENT":[1,"vg"],"ID":[1,[10,"cancel"]],"FONT":[1,"vh"]},"fields":{}},"vg":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"ay","inputs":{},"fields":{"UI_MAIN2":["button",null]},"shadow":true},"vh":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"ay","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"dv":{"opcode":"SPpopups_setElementAtt","next":null,"parent":"ay","inputs":{"PARAM":[1,"vi"],"ELEMENT":[1,"vj"],"ID":[1,[10,"cancel"]],"VALUE":[1,[10,"#ff4a4a"]]},"fields":{}},"vi":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"dv","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"vj":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"dv","inputs":{},"fields":{"UI_MAIN":["button",null]},"shadow":true},"vk":{"opcode":"event_whenflagclicked","next":"jv","parent":null,"inputs":{},"fields":{},"topLevel":true},"jv":{"opcode":"SPpopups_deletePopup","next":"jw","parent":"vk","inputs":{"ID":[1,[10,"c"]]},"fields":{}},"jw":{"opcode":"SPpopups_createPopup","next":"jx","parent":"jv","inputs":{"ID":[1,[10,"c"]]},"fields":{}},"jx":{"opcode":"SPpopups_createPopLabel","next":"dw","parent":"jw","inputs":{"ID":[1,[10,"ch1"]],"TEXT":[1,[10,"Confirmation"]]},"fields":{}},"dw":{"opcode":"SPpopups_append2Popup","next":"jy","parent":"jx","inputs":{"TYPE":[1,"vl"],"ELEMENT_ID":[1,[10,"ch1"]],"POP_ID":[1,[10,"c"]]},"fields":{}},"vl":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dw","inputs":{},"fields":{"UI_ELEMENTS":["label",null]},"shadow":true},"jy":{"opcode":"SPpopups_createPopLabel","next":"dx","parent":"dw","inputs":{"ID":[1,[10,"ch2"]],"TEXT":[1,[10,"Are you sure you want to clear the current map?"]]},"fields":{}},"dx":{"opcode":"SPpopups_append2Popup","next":"jz","parent":"jy","inputs":{"TYPE":[1,"vm"],"ELEMENT_ID":[1,[10,"ch2"]],"POP_ID":[1,[10,"c"]]},"fields":{}},"vm":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dx","inputs":{},"fields":{"UI_ELEMENTS":["label",null]},"shadow":true},"jz":{"opcode":"SPpopups_createBtnRow","next":"jA","parent":"dx","inputs":{"ID":[1,[10,"cb"]]},"fields":{}},"jA":{"opcode":"SPpopups_createPopBtn","next":"jB","parent":"jz","inputs":{"ID":[1,[10,"cy"]],"TEXT":[1,[10,"Yes"]]},"fields":{}},"jB":{"opcode":"SPpopups_createPopBtn","next":"jC","parent":"jA","inputs":{"ID":[1,[10,"cn"]],"TEXT":[1,[10,"No"]]},"fields":{}},"jC":{"opcode":"SPpopups_append2Row","next":"jD","parent":"jB","inputs":{"BTN_ID":[1,[10,"cy"]],"ROW_ID":[1,[10,"cb"]]},"fields":{}},"jD":{"opcode":"SPpopups_append2Row","next":"dy","parent":"jC","inputs":{"BTN_ID":[1,[10,"cn"]],"ROW_ID":[1,[10,"cb"]]},"fields":{}},"dy":{"opcode":"SPpopups_append2Popup","next":"az","parent":"jD","inputs":{"TYPE":[1,"vn"],"ELEMENT_ID":[1,[10,"cb"]],"POP_ID":[1,[10,"c"]]},"fields":{}},"vn":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"dy","inputs":{},"fields":{"UI_ELEMENTS":["buttonRow",null]},"shadow":true},"az":{"opcode":"SPpopups_setElementAtt","next":"aA","parent":"dy","inputs":{"PARAM":[1,"vo"],"ELEMENT":[1,"vp"],"ID":[1,[10,"c"]],"VALUE":[1,[10,"#121317"]]},"fields":{}},"vo":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"az","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"vp":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"az","inputs":{},"fields":{"UI_MAIN":["popup",null]},"shadow":true},"aA":{"opcode":"SPpopups_setElementAtt","next":"aB","parent":"az","inputs":{"PARAM":[1,"vq"],"ELEMENT":[1,"vr"],"ID":[1,[10,"ch1"]],"VALUE":[1,[10,"#ffffff"]]},"fields":{}},"vq":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"aA","inputs":{},"fields":{"POP_STYLES":["color",null]},"shadow":true},"vr":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"aA","inputs":{},"fields":{"UI_MAIN":["label",null]},"shadow":true},"aB":{"opcode":"SPpopups_setElementAtt","next":"dz","parent":"aA","inputs":{"PARAM":[1,"vs"],"ELEMENT":[1,"vt"],"ID":[1,[10,"ch2"]],"VALUE":[1,[10,"#aaaaaa"]]},"fields":{}},"vs":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"aB","inputs":{},"fields":{"POP_STYLES":["color",null]},"shadow":true},"vt":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"aB","inputs":{},"fields":{"UI_MAIN":["label",null]},"shadow":true},"dz":{"opcode":"SPpopups_setInputFontSZ","next":"aC","parent":"aB","inputs":{"ELEMENT":[1,"vu"],"ID":[1,[10,"ch2"]],"SIZE":[1,[4,"10"]]},"fields":{}},"vu":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"dz","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"aC":{"opcode":"SPpopups_setInputFont","next":"aD","parent":"dz","inputs":{"ELEMENT":[1,"vv"],"ID":[1,[10,"ch1"]],"FONT":[1,"vw"]},"fields":{}},"vv":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aC","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"vw":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aC","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"aD":{"opcode":"SPpopups_setInputFont","next":"aE","parent":"aC","inputs":{"ELEMENT":[1,"vx"],"ID":[1,[10,"ch2"]],"FONT":[1,"vy"]},"fields":{}},"vx":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aD","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"vy":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aD","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"aE":{"opcode":"SPpopups_setInputFont","next":"aF","parent":"aD","inputs":{"ELEMENT":[1,"vz"],"ID":[1,[10,"cc"]],"FONT":[1,"vA"]},"fields":{}},"vz":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aE","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"vA":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aE","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"aF":{"opcode":"SPpopups_setInputFont","next":"aG","parent":"aE","inputs":{"ELEMENT":[1,"vB"],"ID":[1,[10,"cy"]],"FONT":[1,"vC"]},"fields":{}},"vB":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aF","inputs":{},"fields":{"UI_MAIN2":["button",null]},"shadow":true},"vC":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aF","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"aG":{"opcode":"SPpopups_setInputFont","next":"dA","parent":"aF","inputs":{"ELEMENT":[1,"vD"],"ID":[1,[10,"cn"]],"FONT":[1,"vE"]},"fields":{}},"vD":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"aG","inputs":{},"fields":{"UI_MAIN2":["button",null]},"shadow":true},"vE":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"aG","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"dA":{"opcode":"SPpopups_setElementAtt","next":null,"parent":"aG","inputs":{"PARAM":[1,"vF"],"ELEMENT":[1,"vG"],"ID":[1,[10,"cn"]],"VALUE":[1,[10,"#ff4a4a"]]},"fields":{}},"vF":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"dA","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"vG":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"dA","inputs":{},"fields":{"UI_MAIN":["button",null]},"shadow":true},"vH":{"opcode":"event_whenbroadcastreceived","next":"aH","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["delete menu","C(z#7DjPnYo}Y4OW5N5D"]},"topLevel":true},"aH":{"opcode":"control_if_else","next":null,"parent":"vH","inputs":{"CONDITION":[2,"vI"],"SUBSTACK":[2,"jE"],"SUBSTACK2":[2,"vJ"]},"fields":{}},"vI":{"opcode":"operator_equals","next":null,"parent":"aH","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"viewport"]]},"fields":{}},"jE":{"opcode":"data_setvariableto","next":"jF","parent":"aH","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["FULLSCREEN?","Fc$mE^OXZyqOn4V+C!#q"]}},"jF":{"opcode":"looks_switchcostumeto","next":null,"parent":"jE","inputs":{"COSTUME":[1,"vK"]},"fields":{}},"vK":{"opcode":"looks_costume","next":null,"parent":"jF","inputs":{},"fields":{"COSTUME":["ViewportFULL",null]},"shadow":true},"vJ":{"opcode":"control_delete_this_clone","next":null,"parent":"aH","inputs":{},"fields":{}},"vL":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"jG","parent":null,"inputs":{"INPUTB":[1,[10,"Result"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"jG":{"opcode":"looks_show","next":"jH","parent":"vL","inputs":{},"fields":{}},"jH":{"opcode":"control_forever","next":null,"parent":"jG","inputs":{"SUBSTACK":[2,"dB"]},"fields":{}},"dB":{"opcode":"looks_switchcostumeto","next":"aI","parent":"jH","inputs":{"COSTUME":[1,"vM"]},"fields":{}},"vM":{"opcode":"looks_costume","next":null,"parent":"dB","inputs":{},"fields":{"COSTUME":["BlankMessage",null]},"shadow":true},"aI":{"opcode":"control_if","next":"vN","parent":"dB","inputs":{"CONDITION":[2,"jI"],"SUBSTACK":[2,"jJ"]},"fields":{}},"jI":{"opcode":"operator_not","next":null,"parent":"aI","inputs":{"OPERAND":[2,"vO"]},"fields":{}},"vO":{"opcode":"operator_equals","next":null,"parent":"jI","inputs":{"OPERAND1":[3,[12,"RESULT MESSAGE -","UN?ZVQafE;S;1.}60fdy"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"jJ":{"opcode":"looks_switchcostumeto","next":null,"parent":"aI","inputs":{"COSTUME":[3,[12,"RESULT MESSAGE -","UN?ZVQafE;S;1.}60fdy"],"vP"]},"fields":{}},"vP":{"opcode":"looks_costume","next":null,"parent":"jJ","inputs":{},"fields":{"COSTUME":["BlankMessage",null]},"shadow":true},"vN":{"opcode":"motion_gotoxy","next":null,"parent":"aI","inputs":{"X":[1,[4,"-140"]],"Y":[1,[4,"-150"]]},"fields":{}},"vQ":{"opcode":"event_whenflagclicked","next":"vR","parent":null,"inputs":{},"fields":{},"topLevel":true},"vR":{"opcode":"data_setvariableto","next":null,"parent":"vQ","inputs":{"VALUE":[1,[10,""]]},"fields":{"VARIABLE":["RESULT MESSAGE -","UN?ZVQafE;S;1.}60fdy"]}},"vS":{"opcode":"SPmessages_whenReceive1","next":"dC","parent":null,"inputs":{"MSG":[1,[10,"return"]]},"fields":{},"topLevel":true},"dC":{"opcode":"control_if","next":null,"parent":"vS","inputs":{"CONDITION":[2,"vT"],"SUBSTACK":[2,"jK"]},"fields":{}},"vT":{"opcode":"operator_equals","next":null,"parent":"dC","inputs":{"OPERAND1":[3,[12,"clone type","vk{g.wTdzd]G?n8xgL5Y"],[10,""]],"OPERAND2":[1,[10,"Result"]]},"fields":{}},"jK":{"opcode":"data_setvariableto","next":null,"parent":"dC","inputs":{"VALUE":[3,"vU",[10,"0"]]},"fields":{"VARIABLE":["RESULT MESSAGE -","UN?ZVQafE;S;1.}60fdy"]}},"vU":{"opcode":"SPmessages_receivedData","next":null,"parent":"jK","inputs":{"MSG":[1,[10,"return"]]},"fields":{}},"jL":{"opcode":"procedures_definition","next":"dD","parent":null,"inputs":{"custom_block":[1,"vV"]},"fields":{},"topLevel":true},"vV":{"opcode":"procedures_prototype","next":null,"parent":"jL","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"do edit","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"dD":{"opcode":"control_if","next":"aJ","parent":"jL","inputs":{"CONDITION":[2,"jM"]},"fields":{}},"jM":{"opcode":"operator_equals","next":null,"parent":"dD","inputs":{"OPERAND1":[3,"vW",[10,""]],"OPERAND2":[1,[10,"Add"]]},"fields":{}},"vW":{"opcode":"looks_costumenumbername","next":null,"parent":"jM","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"aJ":{"opcode":"control_if","next":"dE","parent":"dD","inputs":{"CONDITION":[2,"jN"],"SUBSTACK":[2,"jO"]},"fields":{}},"jN":{"opcode":"operator_equals","next":null,"parent":"aJ","inputs":{"OPERAND1":[3,"vX",[10,""]],"OPERAND2":[1,[10,"Quick Add"]]},"fields":{}},"vX":{"opcode":"looks_costumenumbername","next":null,"parent":"jN","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"jO":{"opcode":"SPpopups_showPopup","next":"dF","parent":"aJ","inputs":{"ID":[1,[10,"q"]]},"fields":{"TYPE":["wait",null]}},"dF":{"opcode":"control_if","next":null,"parent":"jO","inputs":{"CONDITION":[2,"jP"],"SUBSTACK":[2,"jQ"]},"fields":{}},"jP":{"opcode":"operator_not","next":null,"parent":"dF","inputs":{"OPERAND":[2,"jR"]},"fields":{}},"jR":{"opcode":"operator_equals","next":null,"parent":"jP","inputs":{"OPERAND1":[3,"vY",[10,""]],"OPERAND2":[1,[10,"cancel"]]},"fields":{}},"vY":{"opcode":"SPpopups_lastButtonPress","next":null,"parent":"jR","inputs":{"ID":[1,[10,"q"]]},"fields":{}},"jQ":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"dF","inputs":{"MSG":[1,[10,"quickimport"]],"DATA":[3,"vZ",[10,"hello world"]]},"fields":{"WAIT":["continue",null]}},"vZ":{"opcode":"SPpopups_userInput","next":null,"parent":"jQ","inputs":{"ID":[1,[10,"q"]]},"fields":{}},"dE":{"opcode":"control_if","next":"aK","parent":"aJ","inputs":{"CONDITION":[2,"jS"]},"fields":{}},"jS":{"opcode":"operator_equals","next":null,"parent":"dE","inputs":{"OPERAND1":[3,"v!",[10,""]],"OPERAND2":[1,[10,"Bulk Import"]]},"fields":{}},"v!":{"opcode":"looks_costumenumbername","next":null,"parent":"jS","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"aK":{"opcode":"control_if","next":"aL","parent":"dE","inputs":{"CONDITION":[2,"jT"],"SUBSTACK":[2,"jU"]},"fields":{}},"jT":{"opcode":"operator_equals","next":null,"parent":"aK","inputs":{"OPERAND1":[3,"v#",[10,""]],"OPERAND2":[1,[10,"Remove"]]},"fields":{}},"v#":{"opcode":"looks_costumenumbername","next":null,"parent":"jT","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"jU":{"opcode":"data_setvariableto","next":null,"parent":"aK","inputs":{"VALUE":[3,"v%",[10,"0"]]},"fields":{"VARIABLE":["DELETE MODE","#svnRe?po1={ZjC]$(VL"]}},"v%":{"opcode":"operator_subtract","next":null,"parent":"jU","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[3,[12,"DELETE MODE","#svnRe?po1={ZjC]$(VL"],[4,""]]},"fields":{}},"aL":{"opcode":"control_if","next":"dG","parent":"aK","inputs":{"CONDITION":[2,"jV"],"SUBSTACK":[2,"aM"]},"fields":{}},"jV":{"opcode":"operator_equals","next":null,"parent":"aL","inputs":{"OPERAND1":[3,"v(",[10,""]],"OPERAND2":[1,[10,"Remove Last"]]},"fields":{}},"v(":{"opcode":"looks_costumenumbername","next":null,"parent":"jV","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"aM":{"opcode":"control_if_else","next":null,"parent":"aL","inputs":{"CONDITION":[2,"jW"],"SUBSTACK":[2,"jX"],"SUBSTACK2":[2,"v)"]},"fields":{}},"jW":{"opcode":"operator_gt","next":null,"parent":"aM","inputs":{"OPERAND1":[3,"v*",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"v*":{"opcode":"data_lengthoflist","next":null,"parent":"jW","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"jX":{"opcode":"SPmessages_broadcastMsg","next":"jY","parent":"aM","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"RemoveConfirm"]]},"fields":{"WAIT":["continue",null]}},"jY":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"jX","inputs":{"MSG":[1,[10,"deletebyCCOMP"]],"DATA":[3,"jZ",[10,"hello world"]]},"fields":{"WAIT":["continue",null]}},"jZ":{"opcode":"data_itemoflist","next":null,"parent":"jY","inputs":{"INDEX":[3,"v+",[7,"1"]]},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"v+":{"opcode":"data_lengthoflist","next":null,"parent":"jZ","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"v)":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"aM","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"NoneError"]]},"fields":{"WAIT":["continue",null]}},"dG":{"opcode":"control_if","next":null,"parent":"aL","inputs":{"CONDITION":[2,"j!"],"SUBSTACK":[2,"aN"]},"fields":{}},"j!":{"opcode":"operator_equals","next":null,"parent":"dG","inputs":{"OPERAND1":[3,"v,",[10,""]],"OPERAND2":[1,[10,"Clear"]]},"fields":{}},"v,":{"opcode":"looks_costumenumbername","next":null,"parent":"j!","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"aN":{"opcode":"control_if_else","next":null,"parent":"dG","inputs":{"CONDITION":[2,"j#"],"SUBSTACK":[2,"j%"],"SUBSTACK2":[2,"v-"]},"fields":{}},"j#":{"opcode":"operator_gt","next":null,"parent":"aN","inputs":{"OPERAND1":[3,"v.",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"v.":{"opcode":"data_lengthoflist","next":null,"parent":"j#","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"j%":{"opcode":"SPpopups_showPopup","next":"dH","parent":"aN","inputs":{"ID":[1,[10,"c"]]},"fields":{"TYPE":["wait",null]}},"dH":{"opcode":"control_if","next":null,"parent":"j%","inputs":{"CONDITION":[2,"j("],"SUBSTACK":[2,"j)"]},"fields":{}},"j(":{"opcode":"operator_equals","next":null,"parent":"dH","inputs":{"OPERAND1":[3,"v/",[10,""]],"OPERAND2":[1,[10,"cy"]]},"fields":{}},"v/":{"opcode":"SPpopups_lastButtonPress","next":null,"parent":"j(","inputs":{"ID":[1,[10,"c"]]},"fields":{}},"j)":{"opcode":"data_deletealloflist","next":"j*","parent":"dH","inputs":{},"fields":{"LIST":["CURRENT PEARL MAP","MFG;NW2f2BoX-3V2nHhf"]}},"j*":{"opcode":"SPmessages_broadcastMsg","next":"v:","parent":"j)","inputs":{"MSG":[1,[10,"clearPEARLS"]],"DATA":[1,[10,""]]},"fields":{"WAIT":["continue",null]}},"v:":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"j*","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"RemoveConfirm"]]},"fields":{"WAIT":["continue",null]}},"v-":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"aN","inputs":{"MSG":[1,[10,"return"]],"DATA":[1,[10,"NoneError"]]},"fields":{"WAIT":["continue",null]}},"v;":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"j+","parent":null,"inputs":{"INPUTB":[1,[10,"Fullscreen"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"j+":{"opcode":"looks_show","next":"j,","parent":"v;","inputs":{},"fields":{}},"j,":{"opcode":"control_forever","next":null,"parent":"j+","inputs":{"SUBSTACK":[2,"dI"]},"fields":{}},"dI":{"opcode":"looks_switchcostumeto","next":"j-","parent":"j,","inputs":{"COSTUME":[1,"v="]},"fields":{}},"v=":{"opcode":"looks_costume","next":null,"parent":"dI","inputs":{},"fields":{"COSTUME":["Fullscreen",null]},"shadow":true},"j-":{"opcode":"motion_gotoxy","next":"aO","parent":"dI","inputs":{"X":[1,[4,"-140"]],"Y":[1,[4,"-100"]]},"fields":{}},"aO":{"opcode":"control_if_else","next":null,"parent":"j-","inputs":{"CONDITION":[2,"j."],"SUBSTACK":[2,"aP"],"SUBSTACK2":[2,"j/"]},"fields":{}},"j.":{"opcode":"sensing_touchingobject","next":null,"parent":"aO","inputs":{"TOUCHINGOBJECTMENU":[1,"v?"]},"fields":{}},"v?":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"j.","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"aP":{"opcode":"control_if_else","next":null,"parent":"aO","inputs":{"CONDITION":[2,"v@"],"SUBSTACK":[2,"j:"],"SUBSTACK2":[2,"j;"]},"fields":{}},"v@":{"opcode":"sensing_mousedown","next":null,"parent":"aP","inputs":{},"fields":{}},"j:":{"opcode":"looks_changesizeby","next":null,"parent":"aP","inputs":{"CHANGE":[3,"j=",[4,"10"]]},"fields":{}},"j=":{"opcode":"operator_divide","next":null,"parent":"j:","inputs":{"NUM1":[3,"j?",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"j?":{"opcode":"operator_subtract","next":null,"parent":"j=","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"v[",[4,""]]},"fields":{}},"v[":{"opcode":"looks_size","next":null,"parent":"j?","inputs":{},"fields":{}},"j;":{"opcode":"looks_changesizeby","next":null,"parent":"aP","inputs":{"CHANGE":[3,"j@",[4,"10"]]},"fields":{}},"j@":{"opcode":"operator_divide","next":null,"parent":"j;","inputs":{"NUM1":[3,"j[",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"j[":{"opcode":"operator_subtract","next":null,"parent":"j@","inputs":{"NUM1":[1,[4,"110"]],"NUM2":[3,"v]",[4,""]]},"fields":{}},"v]":{"opcode":"looks_size","next":null,"parent":"j[","inputs":{},"fields":{}},"j/":{"opcode":"looks_changesizeby","next":null,"parent":"aO","inputs":{"CHANGE":[3,"j]",[4,"10"]]},"fields":{}},"j]":{"opcode":"operator_divide","next":null,"parent":"j/","inputs":{"NUM1":[3,"j^",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"j^":{"opcode":"operator_subtract","next":null,"parent":"j]","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"v^",[4,""]]},"fields":{}},"v^":{"opcode":"looks_size","next":null,"parent":"j^","inputs":{},"fields":{}},"v_":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"j_","parent":null,"inputs":{"INPUTB":[1,[10,"exit"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"j_":{"opcode":"looks_show","next":"dJ","parent":"v_","inputs":{},"fields":{}},"dJ":{"opcode":"looks_switchcostumeto","next":"j`","parent":"j_","inputs":{"COSTUME":[1,"v`"]},"fields":{}},"v`":{"opcode":"looks_costume","next":null,"parent":"dJ","inputs":{},"fields":{"COSTUME":["Return",null]},"shadow":true},"j`":{"opcode":"control_forever","next":null,"parent":"dJ","inputs":{"SUBSTACK":[2,"j{"]},"fields":{}},"j{":{"opcode":"motion_gotoxy","next":"aQ","parent":"j`","inputs":{"X":[1,[4,"-140"]],"Y":[1,[4,"-170"]]},"fields":{}},"aQ":{"opcode":"control_if_else","next":null,"parent":"j{","inputs":{"CONDITION":[2,"j|"],"SUBSTACK":[2,"aR"],"SUBSTACK2":[2,"j}"]},"fields":{}},"j|":{"opcode":"sensing_touchingobject","next":null,"parent":"aQ","inputs":{"TOUCHINGOBJECTMENU":[1,"v{"]},"fields":{}},"v{":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"j|","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"aR":{"opcode":"control_if_else","next":null,"parent":"aQ","inputs":{"CONDITION":[2,"v|"],"SUBSTACK":[2,"j~"],"SUBSTACK2":[2,"ka"]},"fields":{}},"v|":{"opcode":"sensing_mousedown","next":null,"parent":"aR","inputs":{},"fields":{}},"j~":{"opcode":"looks_changesizeby","next":null,"parent":"aR","inputs":{"CHANGE":[3,"kb",[4,"10"]]},"fields":{}},"kb":{"opcode":"operator_divide","next":null,"parent":"j~","inputs":{"NUM1":[3,"kc",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kc":{"opcode":"operator_subtract","next":null,"parent":"kb","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"v}",[4,""]]},"fields":{}},"v}":{"opcode":"looks_size","next":null,"parent":"kc","inputs":{},"fields":{}},"ka":{"opcode":"looks_changesizeby","next":null,"parent":"aR","inputs":{"CHANGE":[3,"kd",[4,"10"]]},"fields":{}},"kd":{"opcode":"operator_divide","next":null,"parent":"ka","inputs":{"NUM1":[3,"ke",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"ke":{"opcode":"operator_subtract","next":null,"parent":"kd","inputs":{"NUM1":[1,[4,"105"]],"NUM2":[3,"v~",[4,""]]},"fields":{}},"v~":{"opcode":"looks_size","next":null,"parent":"ke","inputs":{},"fields":{}},"j}":{"opcode":"looks_changesizeby","next":null,"parent":"aQ","inputs":{"CHANGE":[3,"kf",[4,"10"]]},"fields":{}},"kf":{"opcode":"operator_divide","next":null,"parent":"j}","inputs":{"NUM1":[3,"kg",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kg":{"opcode":"operator_subtract","next":null,"parent":"kf","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"wa",[4,""]]},"fields":{}},"wa":{"opcode":"looks_size","next":null,"parent":"kg","inputs":{},"fields":{}},"wb":{"opcode":"event_whenbroadcastreceived","next":"kh","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["exit mapspace","CIcFN%36C~m@kmuOW1Cc"]},"topLevel":true},"kh":{"opcode":"control_stop","next":"wc","parent":"wb","inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},"wc":{"opcode":"control_delete_this_clone","next":null,"parent":"kh","inputs":{},"fields":{}},"wd":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ki","parent":null,"inputs":{"INPUTB":[1,[10,"title"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"ki":{"opcode":"looks_show","next":"kj","parent":"wd","inputs":{},"fields":{}},"kj":{"opcode":"control_forever","next":null,"parent":"ki","inputs":{"SUBSTACK":[2,"kk"]},"fields":{}},"kk":{"opcode":"motion_gotoxy","next":"kl","parent":"kj","inputs":{"X":[1,[4,"-140"]],"Y":[1,[4,"160"]]},"fields":{}},"kl":{"opcode":"looks_setsizeto","next":"km","parent":"kk","inputs":{"SIZE":[1,[4,"90"]]},"fields":{}},"km":{"opcode":"text_setFont","next":"g","parent":"kl","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"g":{"opcode":"control_if_else","next":"we","parent":"km","inputs":{"CONDITION":[2,"wf"],"SUBSTACK":[2,"dK"],"SUBSTACK2":[2,"dL"]},"fields":{}},"wf":{"opcode":"operator_equals","next":null,"parent":"g","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"dK":{"opcode":"text_setText","next":"aS","parent":"g","inputs":{"TEXT":[3,"kn",[10,"My new Map"]]},"fields":{}},"kn":{"opcode":"operator_join","next":null,"parent":"dK","inputs":{"STRING1":[3,"wg",[10,"apple "]],"STRING2":[1,[10," (Editing)"]]},"fields":{}},"wg":{"opcode":"data_itemoflist","next":null,"parent":"kn","inputs":{"INDEX":[1,[7,"1"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"aS":{"opcode":"control_if_else","next":null,"parent":"dK","inputs":{"CONDITION":[2,"ko"],"SUBSTACK":[2,"wh"],"SUBSTACK2":[2,"wi"]},"fields":{}},"ko":{"opcode":"operator_gt","next":null,"parent":"aS","inputs":{"OPERAND1":[3,"kp",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"kp":{"opcode":"operator_mathop","next":null,"parent":"ko","inputs":{"NUM":[3,"kq",[4,""]]},"fields":{"OPERATOR":["sin",null]}},"kq":{"opcode":"operator_multiply","next":null,"parent":"kp","inputs":{"NUM1":[3,"wj",[4,""]],"NUM2":[1,[4,"500"]]},"fields":{}},"wj":{"opcode":"sensing_timer","next":null,"parent":"kq","inputs":{},"fields":{}},"wh":{"opcode":"text_setColor","next":null,"parent":"aS","inputs":{"COLOR":[1,[9,"#a2a2a2"]]},"fields":{}},"wi":{"opcode":"text_setColor","next":null,"parent":"aS","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"dL":{"opcode":"text_setText","next":"wk","parent":"g","inputs":{"TEXT":[3,"wl",[10,"My new Map"]]},"fields":{}},"wl":{"opcode":"data_itemoflist","next":null,"parent":"dL","inputs":{"INDEX":[1,[7,"1"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"wk":{"opcode":"text_setColor","next":null,"parent":"dL","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"we":{"opcode":"text_setWidth","next":null,"parent":"g","inputs":{"WIDTH":[1,[4,"190"]]},"fields":{"ALIGN":["center",null]}},"wm":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"kr","parent":null,"inputs":{"INPUTB":[1,[10,"deltip"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"kr":{"opcode":"motion_gotoxy","next":"dM","parent":"wm","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"dM":{"opcode":"looks_switchcostumeto","next":"ks","parent":"kr","inputs":{"COSTUME":[1,"wn"]},"fields":{}},"wn":{"opcode":"looks_costume","next":null,"parent":"dM","inputs":{},"fields":{"COSTUME":["DelTip",null]},"shadow":true},"ks":{"opcode":"looks_hide","next":"kt","parent":"dM","inputs":{},"fields":{}},"kt":{"opcode":"control_forever","next":null,"parent":"ks","inputs":{"SUBSTACK":[2,"aT"]},"fields":{}},"aT":{"opcode":"control_if_else","next":null,"parent":"kt","inputs":{"CONDITION":[2,"wo"],"SUBSTACK":[2,"wp"],"SUBSTACK2":[2,"wq"]},"fields":{}},"wo":{"opcode":"operator_equals","next":null,"parent":"aT","inputs":{"OPERAND1":[3,[12,"DELETE MODE","#svnRe?po1={ZjC]$(VL"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"wp":{"opcode":"looks_show","next":null,"parent":"aT","inputs":{},"fields":{}},"wq":{"opcode":"looks_hide","next":null,"parent":"aT","inputs":{},"fields":{}},"wr":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ku","parent":null,"inputs":{"INPUTB":[1,[10,"editTitle"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"ku":{"opcode":"looks_show","next":"kv","parent":"wr","inputs":{},"fields":{}},"kv":{"opcode":"control_forever","next":null,"parent":"ku","inputs":{"SUBSTACK":[2,"h"]},"fields":{}},"h":{"opcode":"control_if_else","next":"kw","parent":"kv","inputs":{"CONDITION":[2,"ws"],"SUBSTACK":[2,"kx"],"SUBSTACK2":[2,"ky"]},"fields":{}},"ws":{"opcode":"operator_equals","next":null,"parent":"h","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"kx":{"opcode":"looks_switchcostumeto","next":null,"parent":"h","inputs":{"COSTUME":[1,"wt"]},"fields":{}},"wt":{"opcode":"looks_costume","next":null,"parent":"kx","inputs":{},"fields":{"COSTUME":["Stop Editing",null]},"shadow":true},"ky":{"opcode":"looks_switchcostumeto","next":null,"parent":"h","inputs":{"COSTUME":[1,"wu"]},"fields":{}},"wu":{"opcode":"looks_costume","next":null,"parent":"ky","inputs":{},"fields":{"COSTUME":["Edit Title",null]},"shadow":true},"kw":{"opcode":"motion_gotoxy","next":"aU","parent":"h","inputs":{"X":[1,[4,"-193"]],"Y":[1,[4,"-140"]]},"fields":{}},"aU":{"opcode":"control_if_else","next":null,"parent":"kw","inputs":{"CONDITION":[2,"kz"],"SUBSTACK":[2,"aV"],"SUBSTACK2":[2,"kA"]},"fields":{}},"kz":{"opcode":"sensing_touchingobject","next":null,"parent":"aU","inputs":{"TOUCHINGOBJECTMENU":[1,"wv"]},"fields":{}},"wv":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"kz","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"aV":{"opcode":"control_if_else","next":null,"parent":"aU","inputs":{"CONDITION":[2,"ww"],"SUBSTACK":[2,"kB"],"SUBSTACK2":[2,"kC"]},"fields":{}},"ww":{"opcode":"sensing_mousedown","next":null,"parent":"aV","inputs":{},"fields":{}},"kB":{"opcode":"looks_changesizeby","next":null,"parent":"aV","inputs":{"CHANGE":[3,"kD",[4,"10"]]},"fields":{}},"kD":{"opcode":"operator_divide","next":null,"parent":"kB","inputs":{"NUM1":[3,"kE",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kE":{"opcode":"operator_subtract","next":null,"parent":"kD","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"wx",[4,""]]},"fields":{}},"wx":{"opcode":"looks_size","next":null,"parent":"kE","inputs":{},"fields":{}},"kC":{"opcode":"looks_changesizeby","next":null,"parent":"aV","inputs":{"CHANGE":[3,"kF",[4,"10"]]},"fields":{}},"kF":{"opcode":"operator_divide","next":null,"parent":"kC","inputs":{"NUM1":[3,"kG",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kG":{"opcode":"operator_subtract","next":null,"parent":"kF","inputs":{"NUM1":[1,[4,"110"]],"NUM2":[3,"wy",[4,""]]},"fields":{}},"wy":{"opcode":"looks_size","next":null,"parent":"kG","inputs":{},"fields":{}},"kA":{"opcode":"looks_changesizeby","next":null,"parent":"aU","inputs":{"CHANGE":[3,"kH",[4,"10"]]},"fields":{}},"kH":{"opcode":"operator_divide","next":null,"parent":"kA","inputs":{"NUM1":[3,"kI",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kI":{"opcode":"operator_subtract","next":null,"parent":"kH","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"wz",[4,""]]},"fields":{}},"wz":{"opcode":"looks_size","next":null,"parent":"kI","inputs":{},"fields":{}},"wA":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"kJ","parent":null,"inputs":{"INPUTB":[1,[10,"editDesc"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"kJ":{"opcode":"looks_show","next":"kK","parent":"wA","inputs":{},"fields":{}},"kK":{"opcode":"control_forever","next":null,"parent":"kJ","inputs":{"SUBSTACK":[2,"i"]},"fields":{}},"i":{"opcode":"control_if_else","next":"kL","parent":"kK","inputs":{"CONDITION":[2,"wB"],"SUBSTACK":[2,"kM"],"SUBSTACK2":[2,"kN"]},"fields":{}},"wB":{"opcode":"operator_equals","next":null,"parent":"i","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"kM":{"opcode":"looks_switchcostumeto","next":null,"parent":"i","inputs":{"COSTUME":[1,"wC"]},"fields":{}},"wC":{"opcode":"looks_costume","next":null,"parent":"kM","inputs":{},"fields":{"COSTUME":["Stop Editing",null]},"shadow":true},"kN":{"opcode":"looks_switchcostumeto","next":null,"parent":"i","inputs":{"COSTUME":[1,"wD"]},"fields":{}},"wD":{"opcode":"looks_costume","next":null,"parent":"kN","inputs":{},"fields":{"COSTUME":["Edit Description",null]},"shadow":true},"kL":{"opcode":"motion_gotoxy","next":"aW","parent":"i","inputs":{"X":[1,[4,"-87"]],"Y":[1,[4,"-140"]]},"fields":{}},"aW":{"opcode":"control_if_else","next":null,"parent":"kL","inputs":{"CONDITION":[2,"kO"],"SUBSTACK":[2,"aX"],"SUBSTACK2":[2,"kP"]},"fields":{}},"kO":{"opcode":"sensing_touchingobject","next":null,"parent":"aW","inputs":{"TOUCHINGOBJECTMENU":[1,"wE"]},"fields":{}},"wE":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"kO","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"aX":{"opcode":"control_if_else","next":null,"parent":"aW","inputs":{"CONDITION":[2,"wF"],"SUBSTACK":[2,"kQ"],"SUBSTACK2":[2,"kR"]},"fields":{}},"wF":{"opcode":"sensing_mousedown","next":null,"parent":"aX","inputs":{},"fields":{}},"kQ":{"opcode":"looks_changesizeby","next":null,"parent":"aX","inputs":{"CHANGE":[3,"kS",[4,"10"]]},"fields":{}},"kS":{"opcode":"operator_divide","next":null,"parent":"kQ","inputs":{"NUM1":[3,"kT",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kT":{"opcode":"operator_subtract","next":null,"parent":"kS","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"wG",[4,""]]},"fields":{}},"wG":{"opcode":"looks_size","next":null,"parent":"kT","inputs":{},"fields":{}},"kR":{"opcode":"looks_changesizeby","next":null,"parent":"aX","inputs":{"CHANGE":[3,"kU",[4,"10"]]},"fields":{}},"kU":{"opcode":"operator_divide","next":null,"parent":"kR","inputs":{"NUM1":[3,"kV",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kV":{"opcode":"operator_subtract","next":null,"parent":"kU","inputs":{"NUM1":[1,[4,"110"]],"NUM2":[3,"wH",[4,""]]},"fields":{}},"wH":{"opcode":"looks_size","next":null,"parent":"kV","inputs":{},"fields":{}},"kP":{"opcode":"looks_changesizeby","next":null,"parent":"aW","inputs":{"CHANGE":[3,"kW",[4,"10"]]},"fields":{}},"kW":{"opcode":"operator_divide","next":null,"parent":"kP","inputs":{"NUM1":[3,"kX",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"kX":{"opcode":"operator_subtract","next":null,"parent":"kW","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"wI",[4,""]]},"fields":{}},"wI":{"opcode":"looks_size","next":null,"parent":"kX","inputs":{},"fields":{}},"wJ":{"opcode":"event_whenkeypressed","next":"dN","parent":null,"inputs":{},"fields":{"KEY_OPTION":["any",null]},"topLevel":true},"dN":{"opcode":"control_if","next":null,"parent":"wJ","inputs":{"CONDITION":[2,"kY"],"SUBSTACK":[2,"dO"]},"fields":{}},"kY":{"opcode":"operator_not","next":null,"parent":"dN","inputs":{"OPERAND":[2,"wK"]},"fields":{}},"wK":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"kY","inputs":{},"fields":{}},"dO":{"opcode":"control_if_else","next":null,"parent":"dN","inputs":{"CONDITION":[2,"wL"],"SUBSTACK":[2,"kZ"]},"fields":{}},"wL":{"opcode":"operator_gt","next":null,"parent":"dO","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"kZ":{"opcode":"data_replaceitemoflist","next":null,"parent":"dO","inputs":{"INDEX":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[7,"1"]],"ITEM":[3,"k!",[10,"thing"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"k!":{"opcode":"procedures_call","next":null,"parent":"kZ","inputs":{"Ej@vL=(]kRZCDpVHeQ[4":[3,"wM",[10,"aaa"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"edit %s","argumentids":"[\"Ej@vL=(]kRZCDpVHeQ[4\"]","warp":"true","return":"1"}},"wM":{"opcode":"data_itemoflist","next":null,"parent":"k!","inputs":{"INDEX":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[7,"1"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"wN":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"k#","parent":null,"inputs":{"INPUTB":[1,[10,"desc"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"k#":{"opcode":"looks_show","next":"k%","parent":"wN","inputs":{},"fields":{}},"k%":{"opcode":"control_forever","next":null,"parent":"k#","inputs":{"SUBSTACK":[2,"k("]},"fields":{}},"k(":{"opcode":"motion_gotoxy","next":"k)","parent":"k%","inputs":{"X":[1,[4,"-140"]],"Y":[1,[4,"110"]]},"fields":{}},"k)":{"opcode":"looks_setsizeto","next":"k*","parent":"k(","inputs":{"SIZE":[1,[4,"55"]]},"fields":{}},"k*":{"opcode":"text_setFont","next":"j","parent":"k)","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"j":{"opcode":"control_if_else","next":"wO","parent":"k*","inputs":{"CONDITION":[2,"wP"],"SUBSTACK":[2,"dP"],"SUBSTACK2":[2,"dQ"]},"fields":{}},"wP":{"opcode":"operator_equals","next":null,"parent":"j","inputs":{"OPERAND1":[3,[12,"METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"dP":{"opcode":"text_setText","next":"aY","parent":"j","inputs":{"TEXT":[3,"k+",[10,"My new Map"]]},"fields":{}},"k+":{"opcode":"operator_join","next":null,"parent":"dP","inputs":{"STRING1":[3,"wQ",[10,"apple "]],"STRING2":[1,[10," (Editing)"]]},"fields":{}},"wQ":{"opcode":"data_itemoflist","next":null,"parent":"k+","inputs":{"INDEX":[1,[7,"2"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"aY":{"opcode":"control_if_else","next":null,"parent":"dP","inputs":{"CONDITION":[2,"k,"],"SUBSTACK":[2,"wR"],"SUBSTACK2":[2,"wS"]},"fields":{}},"k,":{"opcode":"operator_gt","next":null,"parent":"aY","inputs":{"OPERAND1":[3,"k-",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"k-":{"opcode":"operator_mathop","next":null,"parent":"k,","inputs":{"NUM":[3,"k.",[4,""]]},"fields":{"OPERATOR":["sin",null]}},"k.":{"opcode":"operator_multiply","next":null,"parent":"k-","inputs":{"NUM1":[3,"wT",[4,""]],"NUM2":[1,[4,"500"]]},"fields":{}},"wT":{"opcode":"sensing_timer","next":null,"parent":"k.","inputs":{},"fields":{}},"wR":{"opcode":"text_setColor","next":null,"parent":"aY","inputs":{"COLOR":[1,[9,"#6b6b6b"]]},"fields":{}},"wS":{"opcode":"text_setColor","next":null,"parent":"aY","inputs":{"COLOR":[1,[9,"#afafaf"]]},"fields":{}},"dQ":{"opcode":"text_setText","next":"wU","parent":"j","inputs":{"TEXT":[3,"wV",[10,"My new Map"]]},"fields":{}},"wV":{"opcode":"data_itemoflist","next":null,"parent":"dQ","inputs":{"INDEX":[1,[7,"2"]]},"fields":{"LIST":["CURRENT MAP METADATA","wjV7bgGgdeT~k]jbXJ~f"]}},"wU":{"opcode":"text_setColor","next":null,"parent":"dQ","inputs":{"COLOR":[1,[9,"#afafaf"]]},"fields":{}},"wO":{"opcode":"text_setWidth","next":null,"parent":"j","inputs":{"WIDTH":[1,[4,"190"]]},"fields":{"ALIGN":["center",null]}},"B[":{"opcode":"operator_join","next":null,"parent":null,"inputs":{"STRING1":[1,[10,"apple "]],"STRING2":[1,[10,"banana"]]},"fields":{},"topLevel":true},"k/":{"opcode":"procedures_definition","next":"k","parent":null,"inputs":{"custom_block":[1,"k:"]},"fields":{},"topLevel":true},"k:":{"opcode":"procedures_prototype","next":null,"parent":"k/","inputs":{"Ej@vL=(]kRZCDpVHeQ[4":[1,"wW"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"edit %s","argumentids":"[\"Ej@vL=(]kRZCDpVHeQ[4\"]","argumentnames":"[\"edit\"]","argumentdefaults":"[\"\"]","warp":"true"}},"wW":{"opcode":"argument_reporter_string_number","next":null,"parent":"k:","inputs":{},"fields":{"VALUE":["edit",null]},"shadow":true},"k":{"opcode":"control_if_else","next":"k;","parent":"k/","inputs":{"CONDITION":[2,"k="],"SUBSTACK":[2,"dR"],"SUBSTACK2":[2,"dS"]},"fields":{}},"k=":{"opcode":"operator_not","next":null,"parent":"k","inputs":{"OPERAND":[2,"dT"]},"fields":{}},"dT":{"opcode":"sensing_keypressed","next":null,"parent":"k=","inputs":{"KEY_OPTION":[3,"wX","wY"]},"fields":{}},"wX":{"opcode":"operator_join","next":null,"parent":"dT","inputs":{"STRING1":[1,[10,"control"]],"STRING2":[1,[10,""]]},"fields":{}},"wY":{"opcode":"sensing_keyoptions","next":null,"parent":"dT","inputs":{},"fields":{"KEY_OPTION":["space",null]},"shadow":true},"dR":{"opcode":"control_if","next":null,"parent":"k","inputs":{"CONDITION":[2,"k?"],"SUBSTACK":[2,"aZ"]},"fields":{}},"k?":{"opcode":"sensing_keypressed","next":null,"parent":"dR","inputs":{"KEY_OPTION":[1,"wZ"]},"fields":{}},"wZ":{"opcode":"sensing_keyoptions","next":null,"parent":"k?","inputs":{},"fields":{"KEY_OPTION":["any",null]},"shadow":true},"aZ":{"opcode":"control_if_else","next":null,"parent":"dR","inputs":{"CONDITION":[2,"k@"],"SUBSTACK":[2,"k["],"SUBSTACK2":[2,"a!"]},"fields":{}},"k@":{"opcode":"operator_equals","next":null,"parent":"aZ","inputs":{"OPERAND1":[3,"w!",[10,""]],"OPERAND2":[1,[10,"space"]]},"fields":{}},"w!":{"opcode":"tw_getLastKeyPressed","next":null,"parent":"k@","inputs":{},"fields":{}},"k[":{"opcode":"procedures_return","next":null,"parent":"aZ","inputs":{"VALUE":[3,"k]",[10,""]]},"fields":{}},"k]":{"opcode":"operator_join","next":null,"parent":"k[","inputs":{"STRING1":[3,"w#",[10,""]],"STRING2":[1,[10," "]]},"fields":{}},"w#":{"opcode":"argument_reporter_string_number","next":null,"parent":"k]","inputs":{},"fields":{"VALUE":["edit",null]}},"a!":{"opcode":"control_if_else","next":null,"parent":"aZ","inputs":{"CONDITION":[2,"k^"],"SUBSTACK":[2,"k_"],"SUBSTACK2":[2,"a#"]},"fields":{}},"k^":{"opcode":"operator_equals","next":null,"parent":"a!","inputs":{"OPERAND1":[3,"w%",[10,""]],"OPERAND2":[1,[10,"enter"]]},"fields":{}},"w%":{"opcode":"tw_getLastKeyPressed","next":null,"parent":"k^","inputs":{},"fields":{}},"k_":{"opcode":"procedures_return","next":null,"parent":"a!","inputs":{"VALUE":[3,"dU",[10,""]]},"fields":{}},"dU":{"opcode":"operator_join","next":null,"parent":"k_","inputs":{"STRING1":[3,"w(",[10,""]],"STRING2":[3,"w)",[10," "]]},"fields":{}},"w(":{"opcode":"argument_reporter_string_number","next":null,"parent":"dU","inputs":{},"fields":{"VALUE":["edit",null]}},"w)":{"opcode":"utilities_newline","next":null,"parent":"dU","inputs":{},"fields":{}},"a#":{"opcode":"control_if_else","next":null,"parent":"a!","inputs":{"CONDITION":[2,"k`"],"SUBSTACK":[2,"k{"],"SUBSTACK2":[2,"dV"]},"fields":{}},"k`":{"opcode":"operator_equals","next":null,"parent":"a#","inputs":{"OPERAND1":[3,"w*",[10,""]],"OPERAND2":[1,[10,"backspace"]]},"fields":{}},"w*":{"opcode":"tw_getLastKeyPressed","next":null,"parent":"k`","inputs":{},"fields":{}},"k{":{"opcode":"procedures_return","next":null,"parent":"a#","inputs":{"VALUE":[3,"dW",[10,""]]},"fields":{}},"dW":{"opcode":"strings_letters_of","next":null,"parent":"k{","inputs":{"LETTER1":[1,[4,"1"]],"LETTER2":[3,"k|",[4,"4"]],"STRING":[3,"w+",[10,"apple"]]},"fields":{}},"k|":{"opcode":"operator_subtract","next":null,"parent":"dW","inputs":{"NUM1":[3,"k}",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"k}":{"opcode":"operator_length","next":null,"parent":"k|","inputs":{"STRING":[3,"w,",[10,"apple"]]},"fields":{}},"w,":{"opcode":"argument_reporter_string_number","next":null,"parent":"k}","inputs":{},"fields":{"VALUE":["edit",null]}},"w+":{"opcode":"argument_reporter_string_number","next":null,"parent":"dW","inputs":{},"fields":{"VALUE":["edit",null]}},"dV":{"opcode":"control_if_else","next":null,"parent":"a#","inputs":{"CONDITION":[2,"k~"],"SUBSTACK":[2,"la"]},"fields":{}},"k~":{"opcode":"operator_equals","next":null,"parent":"dV","inputs":{"OPERAND1":[3,"lb",[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"lb":{"opcode":"operator_length","next":null,"parent":"k~","inputs":{"STRING":[3,"w-",[10,"apple"]]},"fields":{}},"w-":{"opcode":"tw_getLastKeyPressed","next":null,"parent":"lb","inputs":{},"fields":{}},"la":{"opcode":"procedures_return","next":null,"parent":"dV","inputs":{"VALUE":[3,"dX",[10,""]]},"fields":{}},"dX":{"opcode":"operator_join","next":null,"parent":"la","inputs":{"STRING1":[3,"w.",[10,""]],"STRING2":[3,"w/",[10,"banana"]]},"fields":{}},"w.":{"opcode":"argument_reporter_string_number","next":null,"parent":"dX","inputs":{},"fields":{"VALUE":["edit",null]}},"w/":{"opcode":"tw_getLastKeyPressed","next":null,"parent":"dX","inputs":{},"fields":{}},"dS":{"opcode":"control_if","next":null,"parent":"k","inputs":{"CONDITION":[2,"lc"],"SUBSTACK":[2,"w:"]},"fields":{}},"lc":{"opcode":"sensing_keypressed","next":null,"parent":"dS","inputs":{"KEY_OPTION":[1,"w;"]},"fields":{}},"w;":{"opcode":"sensing_keyoptions","next":null,"parent":"lc","inputs":{},"fields":{"KEY_OPTION":["enter",null]},"shadow":true},"w:":{"opcode":"data_setvariableto","next":null,"parent":"dS","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["METADATA EDIT MODE","-:d-v.yNw~:%3pw)y^9l"]}},"k;":{"opcode":"procedures_return","next":null,"parent":"k","inputs":{"VALUE":[3,"w=",[10,""]]},"fields":{}},"w=":{"opcode":"argument_reporter_string_number","next":null,"parent":"k;","inputs":{},"fields":{"VALUE":["edit",null]}},"w?":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ld","parent":null,"inputs":{"INPUTB":[1,[10,"filterColorButton"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"ld":{"opcode":"looks_setsizeto","next":"le","parent":"w?","inputs":{"SIZE":[1,[4,"95"]]},"fields":{}},"le":{"opcode":"looks_show","next":"lf","parent":"ld","inputs":{},"fields":{}},"lf":{"opcode":"control_forever","next":null,"parent":"le","inputs":{"SUBSTACK":[2,"dY"]},"fields":{}},"dY":{"opcode":"looks_switchcostumeto","next":"a%","parent":"lf","inputs":{"COSTUME":[1,"w@"]},"fields":{}},"w@":{"opcode":"looks_costume","next":null,"parent":"dY","inputs":{},"fields":{"COSTUME":["filter",null]},"shadow":true},"a%":{"opcode":"looks_switchcostumeto","next":"a(","parent":"dY","inputs":{"COSTUME":[3,"lg","w["]},"fields":{}},"lg":{"opcode":"operator_add","next":null,"parent":"a%","inputs":{"NUM1":[3,"w]",[4,""]],"NUM2":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,"1"]]},"fields":{}},"w]":{"opcode":"looks_costumenumbername","next":null,"parent":"lg","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"w[":{"opcode":"looks_costume","next":null,"parent":"a%","inputs":{},"fields":{"COSTUME":["Start",null]},"shadow":true},"a(":{"opcode":"motion_gotoxy","next":"l","parent":"a%","inputs":{"X":[3,"lh",[4,"-200"]],"Y":[3,"li",[4,"160"]]},"fields":{}},"lh":{"opcode":"operator_add","next":null,"parent":"a(","inputs":{"NUM1":[1,[4,"-212"]],"NUM2":[3,"lj",[4,""]]},"fields":{}},"lj":{"opcode":"operator_multiply","next":null,"parent":"lh","inputs":{"NUM1":[3,"lk",[4,""]],"NUM2":[1,[4,"72"]]},"fields":{}},"lk":{"opcode":"operator_mod","next":null,"parent":"lj","inputs":{"NUM1":[3,"w^",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"w^":{"opcode":"operator_subtract","next":null,"parent":"lk","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"li":{"opcode":"operator_subtract","next":null,"parent":"a(","inputs":{"NUM1":[1,[4,"170"]],"NUM2":[3,"ll",[4,""]]},"fields":{}},"ll":{"opcode":"operator_multiply","next":null,"parent":"li","inputs":{"NUM1":[3,"lm",[4,""]],"NUM2":[1,[4,"25"]]},"fields":{}},"lm":{"opcode":"operator_divide","next":null,"parent":"ll","inputs":{"NUM1":[3,"ln",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"ln":{"opcode":"operator_subtract","next":null,"parent":"lm","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[3,"lo",[4,""]]},"fields":{}},"lo":{"opcode":"operator_mod","next":null,"parent":"ln","inputs":{"NUM1":[3,"w_",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"w_":{"opcode":"operator_subtract","next":null,"parent":"lo","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"l":{"opcode":"control_if_else","next":"a)","parent":"a(","inputs":{"CONDITION":[2,"lp"],"SUBSTACK":[2,"a*"],"SUBSTACK2":[2,"w`"]},"fields":{}},"lp":{"opcode":"operator_gt","next":null,"parent":"l","inputs":{"OPERAND1":[3,"w{",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"w{":{"opcode":"data_lengthoflist","next":null,"parent":"lp","inputs":{},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"a*":{"opcode":"control_if_else","next":null,"parent":"l","inputs":{"CONDITION":[2,"lq"],"SUBSTACK":[2,"lr"],"SUBSTACK2":[2,"w|"]},"fields":{}},"lq":{"opcode":"data_listcontainsitem","next":null,"parent":"a*","inputs":{"ITEM":[3,"w}",[10,"thing"]]},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"w}":{"opcode":"looks_costumenumbername","next":null,"parent":"lq","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"lr":{"opcode":"looks_seteffectto","next":"w~","parent":"a*","inputs":{"VALUE":[1,[4,"4"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"w~":{"opcode":"looks_changesizeby","next":null,"parent":"lr","inputs":{"CHANGE":[1,[4,"5"]]},"fields":{}},"w|":{"opcode":"looks_seteffectto","next":null,"parent":"a*","inputs":{"VALUE":[1,[4,"-40"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"w`":{"opcode":"looks_seteffectto","next":null,"parent":"l","inputs":{"VALUE":[1,[4,"0"]]},"fields":{"EFFECT":["BRIGHTNESS",null]}},"a)":{"opcode":"control_if_else","next":null,"parent":"l","inputs":{"CONDITION":[2,"ls"],"SUBSTACK":[2,"a+"],"SUBSTACK2":[2,"lt"]},"fields":{}},"ls":{"opcode":"sensing_touchingobject","next":null,"parent":"a)","inputs":{"TOUCHINGOBJECTMENU":[1,"xa"]},"fields":{}},"xa":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"ls","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"a+":{"opcode":"control_if_else","next":null,"parent":"a)","inputs":{"CONDITION":[2,"xb"],"SUBSTACK":[2,"lu"],"SUBSTACK2":[2,"lv"]},"fields":{}},"xb":{"opcode":"sensing_mousedown","next":null,"parent":"a+","inputs":{},"fields":{}},"lu":{"opcode":"looks_changesizeby","next":null,"parent":"a+","inputs":{"CHANGE":[3,"lw",[4,"10"]]},"fields":{}},"lw":{"opcode":"operator_divide","next":null,"parent":"lu","inputs":{"NUM1":[3,"lx",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"lx":{"opcode":"operator_subtract","next":null,"parent":"lw","inputs":{"NUM1":[1,[4,"90"]],"NUM2":[3,"xc",[4,""]]},"fields":{}},"xc":{"opcode":"looks_size","next":null,"parent":"lx","inputs":{},"fields":{}},"lv":{"opcode":"looks_changesizeby","next":null,"parent":"a+","inputs":{"CHANGE":[3,"ly",[4,"10"]]},"fields":{}},"ly":{"opcode":"operator_divide","next":null,"parent":"lv","inputs":{"NUM1":[3,"lz",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"lz":{"opcode":"operator_subtract","next":null,"parent":"ly","inputs":{"NUM1":[1,[4,"105"]],"NUM2":[3,"xd",[4,""]]},"fields":{}},"xd":{"opcode":"looks_size","next":null,"parent":"lz","inputs":{},"fields":{}},"lt":{"opcode":"looks_changesizeby","next":null,"parent":"a)","inputs":{"CHANGE":[3,"lA",[4,"10"]]},"fields":{}},"lA":{"opcode":"operator_divide","next":null,"parent":"lt","inputs":{"NUM1":[3,"lB",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"lB":{"opcode":"operator_subtract","next":null,"parent":"lA","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"xe",[4,""]]},"fields":{}},"xe":{"opcode":"looks_size","next":null,"parent":"lB","inputs":{},"fields":{}},"xf":{"opcode":"operator_add","next":null,"parent":null,"inputs":{"NUM1":[1,[4,"-210"]],"NUM2":[3,"lC",[4,""]]},"fields":{},"topLevel":true},"lC":{"opcode":"operator_multiply","next":null,"parent":"xf","inputs":{"NUM1":[3,"lD",[4,""]],"NUM2":[1,[4,"70"]]},"fields":{}},"lD":{"opcode":"operator_mod","next":null,"parent":"lC","inputs":{"NUM1":[3,"xg",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"xg":{"opcode":"operator_subtract","next":null,"parent":"lD","inputs":{"NUM1":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"lE":{"opcode":"motion_gotoxy","next":"a,","parent":"lF","inputs":{"X":[1,[4,"-68"]],"Y":[1,[4,"112"]]},"fields":{}},"u+":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"do","inputs":{"INPUTB":[1,[10,"filterRecorder"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]}},"xh":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"lG","parent":null,"inputs":{"INPUTB":[1,[10,"FilterRecorder"]]},"fields":{"INPUTA":["vk{g.wTdzd]G?n8xgL5Y",null]},"topLevel":true},"lG":{"opcode":"looks_setsizeto","next":"lH","parent":"xh","inputs":{"SIZE":[1,[4,"95"]]},"fields":{}},"lH":{"opcode":"looks_show","next":"lF","parent":"lG","inputs":{},"fields":{}},"lF":{"opcode":"control_forever","next":null,"parent":"lH","inputs":{"SUBSTACK":[2,"lE"]},"fields":{}},"lI":{"opcode":"looks_switchcostumeto","next":null,"parent":"a-","inputs":{"COSTUME":[1,"xi"]},"fields":{}},"xi":{"opcode":"looks_costume","next":null,"parent":"lI","inputs":{},"fields":{"COSTUME":["filterON",null]},"shadow":true},"a,":{"opcode":"looks_switchcostumeto","next":"a-","parent":"lE","inputs":{"COSTUME":[3,"lJ","xj"]},"fields":{}},"lJ":{"opcode":"operator_add","next":null,"parent":"a,","inputs":{"NUM1":[3,"xk",[4,""]],"NUM2":[3,[12,"ID","Fjx{N?x[,|EXC:!SP1Q="],[4,"1"]]},"fields":{}},"xk":{"opcode":"looks_costumenumbername","next":null,"parent":"lJ","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"xj":{"opcode":"looks_costume","next":null,"parent":"a,","inputs":{},"fields":{"COSTUME":["Start",null]},"shadow":true},"a-":{"opcode":"control_if_else","next":null,"parent":"a,","inputs":{"CONDITION":[2,"lK"],"SUBSTACK":[2,"lI"],"SUBSTACK2":[2,"lL"]},"fields":{}},"lK":{"opcode":"operator_gt","next":null,"parent":"a-","inputs":{"OPERAND1":[3,"xl",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"xl":{"opcode":"data_lengthoflist","next":null,"parent":"lK","inputs":{},"fields":{"LIST":["PEARL FILTER","Qh:6uHNf!,AK!@*p)ti%"]}},"lL":{"opcode":"looks_switchcostumeto","next":null,"parent":"a-","inputs":{"COSTUME":[1,"xm"]},"fields":{}},"xm":{"opcode":"looks_costume","next":null,"parent":"lL","inputs":{},"fields":{"COSTUME":["filterOFF",null]},"shadow":true}},"comments":{},"currentCostume":29,"costumes":[{"name":"Base","bitmapResolution":1,"dataFormat":"svg","assetId":"a567cecf2c350b730e81f92e4b14afd5","md5ext":"a567cecf2c350b730e81f92e4b14afd5.svg","rotationCenterX":412.4457652303119,"rotationCenterY":209.5},{"name":"menu","bitmapResolution":1,"dataFormat":"svg","assetId":"78f1c8994065bafc771e04e2af4f7453","md5ext":"78f1c8994065bafc771e04e2af4f7453.svg","rotationCenterX":0,"rotationCenterY":0},{"name":"Start","bitmapResolution":1,"dataFormat":"svg","assetId":"f1babfcdffbb5fc4af0cb75b33115ed3","md5ext":"f1babfcdffbb5fc4af0cb75b33115ed3.svg","rotationCenterX":44.5,"rotationCenterY":17},{"name":"Edit","bitmapResolution":1,"dataFormat":"svg","assetId":"a08d108576bdd7a43182f0cd5640a74f","md5ext":"a08d108576bdd7a43182f0cd5640a74f.svg","rotationCenterX":44.5,"rotationCenterY":17},{"name":"View","bitmapResolution":1,"dataFormat":"svg","assetId":"4404bd0ed7b65ae952e8feada52120cc","md5ext":"4404bd0ed7b65ae952e8feada52120cc.svg","rotationCenterX":44.5,"rotationCenterY":17.00000000000003},{"name":"Metadata","bitmapResolution":1,"dataFormat":"svg","assetId":"a50e170e480de566fca90d73f4d92f65","md5ext":"a50e170e480de566fca90d73f4d92f65.svg","rotationCenterX":44.50000000000006,"rotationCenterY":17},{"name":"Statistics","bitmapResolution":1,"dataFormat":"svg","assetId":"aa4b3b417da7a2aab49e68aa949fdc47","md5ext":"aa4b3b417da7a2aab49e68aa949fdc47.svg","rotationCenterX":44.5,"rotationCenterY":17},{"name":"Return","bitmapResolution":1,"dataFormat":"svg","assetId":"a28316c0d2ad8adbe57c2fd7be56474c","md5ext":"a28316c0d2ad8adbe57c2fd7be56474c.svg","rotationCenterX":99.53402315007435,"rotationCenterY":10.01436000000001},{"name":"Edit Title","bitmapResolution":1,"dataFormat":"svg","assetId":"f43b1f575e4783a017eefa38cdbf9260","md5ext":"f43b1f575e4783a017eefa38cdbf9260.svg","rotationCenterX":47.149985000000015,"rotationCenterY":13.430614999999989},{"name":"Edit Description","bitmapResolution":1,"dataFormat":"svg","assetId":"f3c9842512e952409f3c9d0bc745a3d3","md5ext":"f3c9842512e952409f3c9d0bc745a3d3.svg","rotationCenterX":47.14999499999999,"rotationCenterY":13.430626442952956},{"name":"Stop Editing","bitmapResolution":1,"dataFormat":"svg","assetId":"7a23db6b90ad8b75239bdaba87da802e","md5ext":"7a23db6b90ad8b75239bdaba87da802e.svg","rotationCenterX":47.149985000000015,"rotationCenterY":13.430616442952925},{"name":"edit","bitmapResolution":1,"dataFormat":"svg","assetId":"78f1c8994065bafc771e04e2af4f7453","md5ext":"78f1c8994065bafc771e04e2af4f7453.svg","rotationCenterX":0,"rotationCenterY":0},{"name":"Add","bitmapResolution":1,"dataFormat":"svg","assetId":"ef76a46dba3899f4055786b96268ea9a","md5ext":"ef76a46dba3899f4055786b96268ea9a.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Quick Add","bitmapResolution":1,"dataFormat":"svg","assetId":"893680486b737f0db095a805ada8bc7c","md5ext":"893680486b737f0db095a805ada8bc7c.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Bulk Import","bitmapResolution":1,"dataFormat":"svg","assetId":"0b4d028cbd96d8541703e24be26a98eb","md5ext":"0b4d028cbd96d8541703e24be26a98eb.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Remove","bitmapResolution":1,"dataFormat":"svg","assetId":"f440dd5083fb853f11b46cf28858e85a","md5ext":"f440dd5083fb853f11b46cf28858e85a.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Remove Last","bitmapResolution":1,"dataFormat":"svg","assetId":"0b954e5d246dd0f1378c926c85f1a377","md5ext":"0b954e5d246dd0f1378c926c85f1a377.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Clear","bitmapResolution":1,"dataFormat":"svg","assetId":"7c5aeeb5af5add2168280c21376d15aa","md5ext":"7c5aeeb5af5add2168280c21376d15aa.svg","rotationCenterX":31.625,"rotationCenterY":31.625},{"name":"Fullscreen","bitmapResolution":1,"dataFormat":"svg","assetId":"2ab18f45fe8106cd18a68c13a2f78b84","md5ext":"2ab18f45fe8106cd18a68c13a2f78b84.svg","rotationCenterX":80.85645999999997,"rotationCenterY":17},{"name":"filter","bitmapResolution":1,"dataFormat":"svg","assetId":"78f1c8994065bafc771e04e2af4f7453","md5ext":"78f1c8994065bafc771e04e2af4f7453.svg","rotationCenterX":0,"rotationCenterY":0},{"name":"White","bitmapResolution":1,"dataFormat":"svg","assetId":"7fdc4aef7df21208f3653e51abab7126","md5ext":"7fdc4aef7df21208f3653e51abab7126.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Red","bitmapResolution":1,"dataFormat":"svg","assetId":"c092a198bbaf6b949bbe94ca20a4d40c","md5ext":"c092a198bbaf6b949bbe94ca20a4d40c.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Green","bitmapResolution":1,"dataFormat":"svg","assetId":"a261f060f1d038793c1ca9204e16ce8f","md5ext":"a261f060f1d038793c1ca9204e16ce8f.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Blue","bitmapResolution":1,"dataFormat":"svg","assetId":"eb1a09eb40a0104084331c635d403917","md5ext":"eb1a09eb40a0104084331c635d403917.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Yellow","bitmapResolution":1,"dataFormat":"svg","assetId":"b08c7d251944c70365c87649cc03226f","md5ext":"b08c7d251944c70365c87649cc03226f.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Magenta","bitmapResolution":1,"dataFormat":"svg","assetId":"0dfef3b91f2913397779b7db77639541","md5ext":"0dfef3b91f2913397779b7db77639541.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Cyan","bitmapResolution":1,"dataFormat":"svg","assetId":"b0ff1a3c269874bad46ddee01534028f","md5ext":"b0ff1a3c269874bad46ddee01534028f.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"Black","bitmapResolution":1,"dataFormat":"svg","assetId":"b9bbd87462d0ee4b3794f151c3c44af8","md5ext":"b9bbd87462d0ee4b3794f151c3c44af8.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"filterON","bitmapResolution":1,"dataFormat":"svg","assetId":"8aa6c0d694985317c81f0dcae77565e5","md5ext":"8aa6c0d694985317c81f0dcae77565e5.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"filterOFF","bitmapResolution":1,"dataFormat":"svg","assetId":"1897c908a4656d66f9aca9ac7557d0e7","md5ext":"1897c908a4656d66f9aca9ac7557d0e7.svg","rotationCenterX":34.10685999999998,"rotationCenterY":10.5},{"name":"BlankMessage","bitmapResolution":1,"dataFormat":"svg","assetId":"a33d81d6fd10ff220b81aab12785c5e7","md5ext":"a33d81d6fd10ff220b81aab12785c5e7.svg","rotationCenterX":92.12777499999999,"rotationCenterY":27.17318499999999},{"name":"ValueError","bitmapResolution":1,"dataFormat":"svg","assetId":"193668aea543ee585f7ca92ea2522369","md5ext":"193668aea543ee585f7ca92ea2522369.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"BoundsError","bitmapResolution":1,"dataFormat":"svg","assetId":"a10f606841787502c33ee41be32b8c52","md5ext":"a10f606841787502c33ee41be32b8c52.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"NoneError","bitmapResolution":1,"dataFormat":"svg","assetId":"96777cbc01669f5de2b484a3e671a7a6","md5ext":"96777cbc01669f5de2b484a3e671a7a6.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"DivError","bitmapResolution":1,"dataFormat":"svg","assetId":"79bb52a776d135f2a4abc1f7f2bb4ef4","md5ext":"79bb52a776d135f2a4abc1f7f2bb4ef4.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"PearlError","bitmapResolution":1,"dataFormat":"svg","assetId":"a90b711036aeaf2233cf3c37de4367b1","md5ext":"a90b711036aeaf2233cf3c37de4367b1.svg","rotationCenterX":92.12776500000001,"rotationCenterY":27.17318499999999},{"name":"DuplicateWarn","bitmapResolution":1,"dataFormat":"svg","assetId":"834769e81dd0aac6dc49ab850eba5bcf","md5ext":"834769e81dd0aac6dc49ab850eba5bcf.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"PlaceConfirm","bitmapResolution":1,"dataFormat":"svg","assetId":"59838dd78d02443835f0c3da7a5c3801","md5ext":"59838dd78d02443835f0c3da7a5c3801.svg","rotationCenterX":92.12775500000004,"rotationCenterY":27.17318499999999},{"name":"RemoveConfirm","bitmapResolution":1,"dataFormat":"svg","assetId":"91101311fef6bc6d1f77b11909403539","md5ext":"91101311fef6bc6d1f77b11909403539.svg","rotationCenterX":92.12775499999998,"rotationCenterY":27.17318499999999},{"name":"tip","bitmapResolution":1,"dataFormat":"svg","assetId":"508ad0de4b0c12f1c2dd37cb6d94c41f","md5ext":"508ad0de4b0c12f1c2dd37cb6d94c41f.svg","rotationCenterX":32.10840999999999,"rotationCenterY":190.88209582710266},{"name":"DelTip","bitmapResolution":1,"dataFormat":"svg","assetId":"bd9415da4d01ec72608642336de0e758","md5ext":"bd9415da4d01ec72608642336de0e758.svg","rotationCenterX":-46.26881634873564,"rotationCenterY":-160.71596750623047},{"name":"Viewport","bitmapResolution":1,"dataFormat":"svg","assetId":"15e7e5527ead4996a141c9b3f91f3557","md5ext":"15e7e5527ead4996a141c9b3f91f3557.svg","rotationCenterX":32.25000000000006,"rotationCenterY":209.75000000000006},{"name":"ViewportFULL","bitmapResolution":1,"dataFormat":"svg","assetId":"a0a50799f39641466c58c450c72c06d4","md5ext":"a0a50799f39641466c58c450c72c06d4.svg","rotationCenterX":196.25000000000006,"rotationCenterY":209.75}],"sounds":[],"volume":100,"layerOrder":11,"visible":false,"x":-202.5,"y":141.18577075098815,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"clones":{"color":"#b8b8b8"},"clones2":{"color":"#b8b8b8"},"do edit":{"color":"#ff6600"},"edit %s":{"color":"#00ff00"}}}},{"isStage":false,"name":"Return","variables":{},"lists":{},"broadcasts":{},"blocks":{"lM":{"opcode":"looks_hide","next":"lO","parent":"lN","inputs":{},"fields":{}},"lN":{"opcode":"motion_gotoxy","next":"lM","parent":"xn","inputs":{"X":[1,[4,"-318"]],"Y":[1,[4,"170"]]},"fields":{}},"xo":{"opcode":"event_whenbroadcastreceived","next":"lP","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["delete menu","C(z#7DjPnYo}Y4OW5N5D"]},"topLevel":true},"lP":{"opcode":"control_wait","next":"lQ","parent":"xo","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"xp":{"opcode":"looks_hide","next":null,"parent":"dZ","inputs":{},"fields":{}},"lR":{"opcode":"looks_show","next":"lS","parent":"lQ","inputs":{},"fields":{}},"a.":{"opcode":"control_if_else","next":null,"parent":"lT","inputs":{"CONDITION":[2,"lU"],"SUBSTACK":[2,"a/"],"SUBSTACK2":[2,"lV"]},"fields":{}},"lU":{"opcode":"sensing_touchingobject","next":null,"parent":"a.","inputs":{"TOUCHINGOBJECTMENU":[1,"xq"]},"fields":{}},"xq":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"lU","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_"]},"shadow":true},"a/":{"opcode":"control_if_else","next":null,"parent":"a.","inputs":{"CONDITION":[2,"xr"],"SUBSTACK":[2,"lW"],"SUBSTACK2":[2,"lX"]},"fields":{}},"xr":{"opcode":"sensing_mousedown","next":null,"parent":"a/","inputs":{},"fields":{}},"lW":{"opcode":"looks_changesizeby","next":null,"parent":"a/","inputs":{"CHANGE":[3,"lY",[4,"10"]]},"fields":{}},"lY":{"opcode":"operator_divide","next":null,"parent":"lW","inputs":{"NUM1":[3,"lZ",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"lZ":{"opcode":"operator_subtract","next":null,"parent":"lY","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"xs",[4,""]]},"fields":{}},"xs":{"opcode":"looks_size","next":null,"parent":"lZ","inputs":{},"fields":{}},"lX":{"opcode":"looks_changesizeby","next":null,"parent":"a/","inputs":{"CHANGE":[3,"l!",[4,"10"]]},"fields":{}},"l!":{"opcode":"operator_divide","next":null,"parent":"lX","inputs":{"NUM1":[3,"l#",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"l#":{"opcode":"operator_subtract","next":null,"parent":"l!","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"xt",[4,""]]},"fields":{}},"xt":{"opcode":"looks_size","next":null,"parent":"l#","inputs":{},"fields":{}},"lV":{"opcode":"looks_changesizeby","next":null,"parent":"a.","inputs":{"CHANGE":[3,"l%",[4,"10"]]},"fields":{}},"l%":{"opcode":"operator_divide","next":null,"parent":"lV","inputs":{"NUM1":[3,"l(",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"l(":{"opcode":"operator_subtract","next":null,"parent":"l%","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"xu",[4,""]]},"fields":{}},"xu":{"opcode":"looks_size","next":null,"parent":"l(","inputs":{},"fields":{}},"lO":{"opcode":"control_forever","next":null,"parent":"lM","inputs":{"SUBSTACK":[2,"lT"]},"fields":{}},"lS":{"opcode":"control_repeat","next":null,"parent":"lR","inputs":{"TIMES":[1,[6,"10"]],"SUBSTACK":[2,"xv"]},"fields":{}},"lQ":{"opcode":"looks_seteffectto","next":"lR","parent":"lP","inputs":{"VALUE":[1,[4,"100"]]},"fields":{"EFFECT":["GHOST",null]}},"xv":{"opcode":"looks_changeeffectby","next":null,"parent":"lS","inputs":{"CHANGE":[1,[4,"-10"]]},"fields":{"EFFECT":["GHOST",null]}},"xw":{"opcode":"event_whenthisspriteclicked","next":"a:","parent":null,"inputs":{},"fields":{},"topLevel":true},"xx":{"opcode":"event_broadcast","next":null,"parent":"a:","inputs":{"BROADCAST_INPUT":[1,[11,"load mapspace HUD","nV,Eg]r6I|B?~x2tOV%T"]]},"fields":{}},"dZ":{"opcode":"control_repeat","next":"xp","parent":"a:","inputs":{"TIMES":[1,[6,"10"]],"SUBSTACK":[2,"xy"]},"fields":{}},"xy":{"opcode":"looks_changeeffectby","next":null,"parent":"dZ","inputs":{"CHANGE":[1,[4,"10"]]},"fields":{"EFFECT":["GHOST",null]}},"lT":{"opcode":"looks_gotofrontback","next":"a.","parent":"lO","inputs":{},"fields":{"FRONT_BACK":["front",null]}},"a:":{"opcode":"control_if","next":"dZ","parent":"xw","inputs":{"CONDITION":[2,"l)"],"SUBSTACK":[2,"xx"]},"fields":{}},"l*":{"opcode":"lmsLooksPlus_effectValue","next":null,"parent":"l)","inputs":{"TARGET":[1,"xz"]},"fields":{"EFFECT":["ghost",null]}},"xz":{"opcode":"lmsLooksPlus_menu_spriteMenu","next":null,"parent":"l*","inputs":{},"fields":{"spriteMenu":["Return",null]},"shadow":true},"l)":{"opcode":"operator_equals","next":null,"parent":"a:","inputs":{"OPERAND1":[3,"l*",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"xn":{"opcode":"event_whenbroadcastreceived","next":"lN","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["init map","IZT7{2wmyJ9}8!^cgxnq"]},"topLevel":true},"xA":{"opcode":"event_whenbroadcastreceived","next":"l+","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["exit mapspace","CIcFN%36C~m@kmuOW1Cc"]},"topLevel":true},"l+":{"opcode":"control_stop","next":"xB","parent":"xA","inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite"]},"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},"xB":{"opcode":"looks_hide","next":null,"parent":"l+","inputs":{},"fields":{}},"xC":{"opcode":"looks_hide","next":null,"parent":"xD","inputs":{},"fields":{}},"xD":{"opcode":"event_whenflagclicked","next":"xC","parent":null,"inputs":{},"fields":{},"topLevel":true}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"3a647b17229dee63cdf4189c963cd911","md5ext":"3a647b17229dee63cdf4189c963cd911.svg","rotationCenterX":34.5,"rotationCenterY":13.470588235294088}],"sounds":[],"volume":100,"layerOrder":12,"visible":false,"x":-318,"y":170,"size":100.00000000000033,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"Reporters","variables":{"Gc(pt.,7scV#kp]Yu$b:":["clone type",0]},"lists":{},"broadcasts":{},"blocks":{"xE":{"opcode":"event_whenflagclicked","next":"xF","parent":null,"inputs":{},"fields":{},"topLevel":true},"xF":{"opcode":"looks_hide","next":null,"parent":"xE","inputs":{},"fields":{}},"xG":{"opcode":"event_whenbroadcastreceived","next":"xH","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["exit mapspace","CIcFN%36C~m@kmuOW1Cc"]},"topLevel":true},"xH":{"opcode":"control_delete_this_clone","next":null,"parent":"xG","inputs":{},"fields":{}},"xI":{"opcode":"control_stop","next":"xJ","parent":null,"inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite",null]},"topLevel":true,"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},"xJ":{"opcode":"looks_hide","next":null,"parent":"xI","inputs":{},"fields":{}},"xK":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"l,","parent":null,"inputs":{"INPUTB":[1,[10,"1"]]},"fields":{"INPUTA":["Gc(pt.,7scV#kp]Yu$b:",null]},"topLevel":true},"l,":{"opcode":"looks_show","next":"l-","parent":"xK","inputs":{},"fields":{}},"l-":{"opcode":"control_forever","next":null,"parent":"l,","inputs":{"SUBSTACK":[2,"l."]},"fields":{}},"l.":{"opcode":"looks_gotofrontback","next":"m","parent":"l-","inputs":{},"fields":{"FRONT_BACK":["front",null]}},"m":{"opcode":"control_if_else","next":"l/","parent":"l.","inputs":{"CONDITION":[2,"xL"],"SUBSTACK":[2,"l:"],"SUBSTACK2":[2,"l;"]},"fields":{}},"xL":{"opcode":"operator_equals","next":null,"parent":"m","inputs":{"OPERAND1":[3,[12,"FULLSCREEN?","Fc$mE^OXZyqOn4V+C!#q"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"l:":{"opcode":"text_setText","next":null,"parent":"m","inputs":{"TEXT":[3,"l=",[10,"Welcome to my project!"]]},"fields":{}},"l=":{"opcode":"operator_join","next":null,"parent":"l:","inputs":{"STRING1":[1,[10," Looking at X:"]],"STRING2":[3,"d!",[10,"banana"]]},"fields":{}},"d!":{"opcode":"operator_join","next":null,"parent":"l=","inputs":{"STRING1":[3,"xM",[10,""]],"STRING2":[3,"l?",[10,"banana"]]},"fields":{}},"xM":{"opcode":"operator_round","next":null,"parent":"d!","inputs":{"NUM":[3,[12,"MAP - SELECT X","pn4#^nEr498zHtuEDCqp"],[4,""]]},"fields":{}},"l?":{"opcode":"operator_join","next":null,"parent":"d!","inputs":{"STRING1":[1,[10,", Y:"]],"STRING2":[3,"xN",[10,""]]},"fields":{}},"xN":{"opcode":"operator_round","next":null,"parent":"l?","inputs":{"NUM":[3,[12,"MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"],[4,""]]},"fields":{}},"l;":{"opcode":"text_setText","next":null,"parent":"m","inputs":{"TEXT":[3,"l@",[10,"Welcome to my project!"]]},"fields":{}},"l@":{"opcode":"operator_join","next":null,"parent":"l;","inputs":{"STRING1":[1,[10,"X:"]],"STRING2":[3,"d#",[10,"banana"]]},"fields":{}},"d#":{"opcode":"operator_join","next":null,"parent":"l@","inputs":{"STRING1":[3,"xO",[10,""]],"STRING2":[3,"l[",[10,"banana"]]},"fields":{}},"xO":{"opcode":"operator_round","next":null,"parent":"d#","inputs":{"NUM":[3,[12,"MAP - SELECT X","pn4#^nEr498zHtuEDCqp"],[4,""]]},"fields":{}},"l[":{"opcode":"operator_join","next":null,"parent":"d#","inputs":{"STRING1":[1,[10,", Y:"]],"STRING2":[3,"xP",[10,""]]},"fields":{}},"xP":{"opcode":"operator_round","next":null,"parent":"l[","inputs":{"NUM":[3,[12,"MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"],[4,""]]},"fields":{}},"l/":{"opcode":"text_setFont","next":"l]","parent":"m","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"l]":{"opcode":"text_setColor","next":"l^","parent":"l/","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"l^":{"opcode":"looks_setsizeto","next":"l_","parent":"l]","inputs":{"SIZE":[1,[4,"60"]]},"fields":{}},"l_":{"opcode":"text_setWidth","next":"xQ","parent":"l^","inputs":{"WIDTH":[1,[4,"710"]]},"fields":{"ALIGN":["right",null]}},"xQ":{"opcode":"motion_gotoxy","next":null,"parent":"l_","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"176"]]},"fields":{}},"xR":{"opcode":"event_whenbroadcastreceived","next":"l`","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["init map","IZT7{2wmyJ9}8!^cgxnq"]},"topLevel":true},"l`":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"xS","parent":"xR","inputs":{"INPUTB":[1,[10,"1"]]},"fields":{"INPUTA":["Gc(pt.,7scV#kp]Yu$b:",null]}},"xS":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"l`","inputs":{"INPUTB":[1,[10,"2"]]},"fields":{"INPUTA":["Gc(pt.,7scV#kp]Yu$b:",null]}},"xT":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"l{","parent":null,"inputs":{"INPUTB":[1,[10,"2"]]},"fields":{"INPUTA":["Gc(pt.,7scV#kp]Yu$b:",null]},"topLevel":true},"l{":{"opcode":"looks_show","next":"l|","parent":"xT","inputs":{},"fields":{}},"l|":{"opcode":"control_forever","next":null,"parent":"l{","inputs":{"SUBSTACK":[2,"l}"]},"fields":{}},"l}":{"opcode":"looks_gotofrontback","next":"n","parent":"l|","inputs":{},"fields":{"FRONT_BACK":["front",null]}},"n":{"opcode":"control_if_else","next":"l~","parent":"l}","inputs":{"CONDITION":[2,"xU"],"SUBSTACK":[2,"ma"],"SUBSTACK2":[2,"mb"]},"fields":{}},"xU":{"opcode":"operator_equals","next":null,"parent":"n","inputs":{"OPERAND1":[3,[12,"FULLSCREEN?","Fc$mE^OXZyqOn4V+C!#q"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"ma":{"opcode":"text_setText","next":null,"parent":"n","inputs":{"TEXT":[3,"mc",[10,"Welcome to my project!"]]},"fields":{}},"mc":{"opcode":"operator_join","next":null,"parent":"ma","inputs":{"STRING1":[1,[10,"Zoom: "]],"STRING2":[3,"md",[10,"banana"]]},"fields":{}},"md":{"opcode":"operator_join","next":null,"parent":"mc","inputs":{"STRING1":[3,"xV",[10,""]],"STRING2":[1,[10,"X"]]},"fields":{}},"xV":{"opcode":"truefantommath_trunc2_block","next":null,"parent":"md","inputs":{"A":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]],"B":[1,[4,"2"]]},"fields":{}},"mb":{"opcode":"text_setText","next":null,"parent":"n","inputs":{"TEXT":[3,"me",[10,"Welcome to my project!"]]},"fields":{}},"me":{"opcode":"operator_join","next":null,"parent":"mb","inputs":{"STRING1":[3,"xW",[10,""]],"STRING2":[1,[10,"X"]]},"fields":{}},"xW":{"opcode":"truefantommath_trunc2_block","next":null,"parent":"me","inputs":{"A":[3,[12,"MAP SIZE","xwO9/sE*6/~([E59OA;!"],[4,""]],"B":[1,[4,"2"]]},"fields":{}},"l~":{"opcode":"text_setFont","next":"mf","parent":"n","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"mf":{"opcode":"text_setColor","next":"mg","parent":"l~","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"mg":{"opcode":"looks_setsizeto","next":"mh","parent":"mf","inputs":{"SIZE":[1,[4,"50"]]},"fields":{}},"mh":{"opcode":"text_setWidth","next":"xX","parent":"mg","inputs":{"WIDTH":[1,[4,"710"]]},"fields":{"ALIGN":["right",null]}},"xX":{"opcode":"motion_gotoxy","next":null,"parent":"mh","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"165"]]},"fields":{}},"xY":{"opcode":"operator_join","next":null,"parent":null,"inputs":{"STRING1":[1,[10,", Y:"]],"STRING2":[3,"xZ",[10,""]]},"fields":{},"topLevel":true},"xZ":{"opcode":"operator_round","next":null,"parent":"xY","inputs":{"NUM":[3,[12,"MAP - SELECT Y","I[NY_?Ojezs6{5QHF{i4"],[4,""]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"3339a2953a3bf62bb80e54ff575dbced","md5ext":"3339a2953a3bf62bb80e54ff575dbced.svg","rotationCenterX":0,"rotationCenterY":0}],"sounds":[],"volume":100,"layerOrder":3,"visible":false,"x":0,"y":176,"size":60,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"Navigator","variables":{"5.QoRH[G2X_*u_OC;-Xh":["ID",3],";K?500)mQAk-]a`6N,)}":["clone type",0]},"lists":{"f!iB]v5R5Yg!8XPm+@`c":["a",["NewMap","ImportMap","LoadMap"]]},"broadcasts":{},"blocks":{"x!":{"opcode":"event_whenbroadcastreceived","next":"d%","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["index","!p4QU`0%aon,VrOvsNfH"]},"topLevel":true},"d%":{"opcode":"control_if","next":null,"parent":"x!","inputs":{"CONDITION":[2,"mi"],"SUBSTACK":[2,"x#"]},"fields":{}},"mi":{"opcode":"operator_not","next":null,"parent":"d%","inputs":{"OPERAND":[2,"x%"]},"fields":{}},"x%":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"mi","inputs":{},"fields":{}},"x#":{"opcode":"procedures_call","next":null,"parent":"d%","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"index","argumentids":"[]","warp":"true"}},"x(":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"mj","parent":null,"inputs":{"INPUTB":[1,[10,"indexButton"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]},"topLevel":true},"mj":{"opcode":"looks_show","next":"mk","parent":"x(","inputs":{},"fields":{}},"mk":{"opcode":"control_forever","next":null,"parent":"mj","inputs":{"SUBSTACK":[2,"d("]},"fields":{}},"d(":{"opcode":"motion_gotoxy","next":"d)","parent":"mk","inputs":{"X":[3,"ml",[4,"-150"]],"Y":[1,[4,"0"]]},"fields":{}},"ml":{"opcode":"operator_add","next":null,"parent":"d(","inputs":{"NUM1":[1,[4,"-140"]],"NUM2":[3,"mm",[4,""]]},"fields":{}},"mm":{"opcode":"operator_multiply","next":null,"parent":"ml","inputs":{"NUM1":[3,"x)",[4,""]],"NUM2":[1,[4,"140"]]},"fields":{}},"x)":{"opcode":"operator_subtract","next":null,"parent":"mm","inputs":{"NUM1":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"d)":{"opcode":"looks_switchcostumeto","next":"o","parent":"d(","inputs":{"COSTUME":[1,"x*"]},"fields":{}},"x*":{"opcode":"looks_costume","next":null,"parent":"d)","inputs":{},"fields":{"COSTUME":["body",null]},"shadow":true},"o":{"opcode":"control_if_else","next":"d*","parent":"d)","inputs":{"CONDITION":[2,"mn"],"SUBSTACK":[2,"a;"],"SUBSTACK2":[2,"mo"]},"fields":{}},"mn":{"opcode":"sensing_touchingobject","next":null,"parent":"o","inputs":{"TOUCHINGOBJECTMENU":[1,"x+"]},"fields":{}},"x+":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"mn","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"a;":{"opcode":"control_if_else","next":null,"parent":"o","inputs":{"CONDITION":[2,"x,"],"SUBSTACK":[2,"mp"],"SUBSTACK2":[2,"mq"]},"fields":{}},"x,":{"opcode":"sensing_mousedown","next":null,"parent":"a;","inputs":{},"fields":{}},"mp":{"opcode":"looks_changesizeby","next":null,"parent":"a;","inputs":{"CHANGE":[3,"mr",[4,"10"]]},"fields":{}},"mr":{"opcode":"operator_divide","next":null,"parent":"mp","inputs":{"NUM1":[3,"ms",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"ms":{"opcode":"operator_subtract","next":null,"parent":"mr","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"x-",[4,""]]},"fields":{}},"x-":{"opcode":"looks_size","next":null,"parent":"ms","inputs":{},"fields":{}},"mq":{"opcode":"looks_changesizeby","next":null,"parent":"a;","inputs":{"CHANGE":[3,"mt",[4,"10"]]},"fields":{}},"mt":{"opcode":"operator_divide","next":null,"parent":"mq","inputs":{"NUM1":[3,"mu",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"mu":{"opcode":"operator_subtract","next":null,"parent":"mt","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"x.",[4,""]]},"fields":{}},"x.":{"opcode":"looks_size","next":null,"parent":"mu","inputs":{},"fields":{}},"mo":{"opcode":"looks_changesizeby","next":null,"parent":"o","inputs":{"CHANGE":[3,"mv",[4,"10"]]},"fields":{}},"mv":{"opcode":"operator_divide","next":null,"parent":"mo","inputs":{"NUM1":[3,"mw",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"mw":{"opcode":"operator_subtract","next":null,"parent":"mv","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"x/",[4,""]]},"fields":{}},"x/":{"opcode":"looks_size","next":null,"parent":"mw","inputs":{},"fields":{}},"d*":{"opcode":"looks_switchcostumeto","next":null,"parent":"o","inputs":{"COSTUME":[3,"d+","x:"]},"fields":{}},"d+":{"opcode":"operator_join","next":null,"parent":"d*","inputs":{"STRING1":[3,"x;",[10,"apple "]],"STRING2":[3,"mx",[10,"banana"]]},"fields":{}},"x;":{"opcode":"data_itemoflist","next":null,"parent":"d+","inputs":{"INDEX":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[7,"1"]]},"fields":{"LIST":["a","f!iB]v5R5Yg!8XPm+@`c"]}},"mx":{"opcode":"operator_multiply","next":null,"parent":"d+","inputs":{"NUM1":[3,"my",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"my":{"opcode":"sensing_touchingobject","next":null,"parent":"mx","inputs":{"TOUCHINGOBJECTMENU":[1,"x="]},"fields":{}},"x=":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"my","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"x:":{"opcode":"looks_costume","next":null,"parent":"d*","inputs":{},"fields":{"COSTUME":["LoadMap1",null]},"shadow":true},"x?":{"opcode":"event_whenthisspriteclicked","next":"d,","parent":null,"inputs":{},"fields":{},"topLevel":true},"d,":{"opcode":"control_if","next":null,"parent":"x?","inputs":{"CONDITION":[2,"x@"],"SUBSTACK":[2,"d-"]},"fields":{}},"x@":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"d,","inputs":{},"fields":{}},"d-":{"opcode":"looks_switchcostumeto","next":"a=","parent":"d,","inputs":{"COSTUME":[1,"x["]},"fields":{}},"x[":{"opcode":"looks_costume","next":null,"parent":"d-","inputs":{},"fields":{"COSTUME":["body",null]},"shadow":true},"a=":{"opcode":"control_if","next":"d.","parent":"d-","inputs":{"CONDITION":[2,"mz"],"SUBSTACK":[2,"a?"]},"fields":{}},"mz":{"opcode":"sensing_touchingobject","next":null,"parent":"a=","inputs":{"TOUCHINGOBJECTMENU":[1,"x]"]},"fields":{}},"x]":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"mz","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"a?":{"opcode":"control_if","next":"a@","parent":"a=","inputs":{"CONDITION":[2,"x^"],"SUBSTACK":[2,"mA"]},"fields":{}},"x^":{"opcode":"operator_equals","next":null,"parent":"a?","inputs":{"OPERAND1":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"mA":{"opcode":"event_broadcast","next":"x_","parent":"a?","inputs":{"BROADCAST_INPUT":[1,[11,"open new menu","U73zwzF%}pH]@uFI8k/)"]]},"fields":{}},"x_":{"opcode":"event_broadcast","next":null,"parent":"mA","inputs":{"BROADCAST_INPUT":[1,[11,"remove index","%a=ltqYnL$9^ES,#^GqR"]]},"fields":{}},"a@":{"opcode":"control_if","next":"d/","parent":"a?","inputs":{"CONDITION":[2,"x`"],"SUBSTACK":[2,"mB"]},"fields":{}},"x`":{"opcode":"operator_equals","next":null,"parent":"a@","inputs":{"OPERAND1":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"d/":{"opcode":"control_if","next":null,"parent":"a@","inputs":{"CONDITION":[2,"x{"],"SUBSTACK":[2,"mC"]},"fields":{}},"x{":{"opcode":"operator_equals","next":null,"parent":"d/","inputs":{"OPERAND1":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"mC":{"opcode":"event_broadcast","next":"x|","parent":"d/","inputs":{"BROADCAST_INPUT":[1,[11,"open load menu","},X}:]GF[kH=$m2a{`Y1"]]},"fields":{}},"x|":{"opcode":"event_broadcast","next":null,"parent":"mC","inputs":{"BROADCAST_INPUT":[1,[11,"remove index","%a=ltqYnL$9^ES,#^GqR"]]},"fields":{}},"d.":{"opcode":"looks_switchcostumeto","next":null,"parent":"a=","inputs":{"COSTUME":[3,"d:","x}"]},"fields":{}},"d:":{"opcode":"operator_join","next":null,"parent":"d.","inputs":{"STRING1":[3,"x~",[10,"apple "]],"STRING2":[3,"mD",[10,"banana"]]},"fields":{}},"x~":{"opcode":"data_itemoflist","next":null,"parent":"d:","inputs":{"INDEX":[3,[12,"ID","5.QoRH[G2X_*u_OC;-Xh"],[7,"1"]]},"fields":{"LIST":["a","f!iB]v5R5Yg!8XPm+@`c"]}},"mD":{"opcode":"operator_multiply","next":null,"parent":"d:","inputs":{"NUM1":[3,"mE",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"mE":{"opcode":"sensing_touchingobject","next":null,"parent":"mD","inputs":{"TOUCHINGOBJECTMENU":[1,"ya"]},"fields":{}},"ya":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"mE","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"x}":{"opcode":"looks_costume","next":null,"parent":"d.","inputs":{},"fields":{"COSTUME":["LoadMap1",null]},"shadow":true},"yb":{"opcode":"event_whenbroadcastreceived","next":"yc","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["remove index","%a=ltqYnL$9^ES,#^GqR"]},"topLevel":true},"yc":{"opcode":"control_delete_this_clone","next":null,"parent":"yb","inputs":{},"fields":{}},"mF":{"opcode":"procedures_definition","next":"d;","parent":null,"inputs":{"custom_block":[1,"yd"]},"fields":{},"topLevel":true},"yd":{"opcode":"procedures_prototype","next":null,"parent":"mF","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"index","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"d;":{"opcode":"looks_switchbackdropto","next":"mG","parent":"mF","inputs":{"BACKDROP":[1,"ye"]},"fields":{}},"ye":{"opcode":"looks_backdrops","next":null,"parent":"d;","inputs":{},"fields":{"BACKDROP":["Title",null]},"shadow":true},"mG":{"opcode":"data_setvariableto","next":"mH","parent":"d;","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","5.QoRH[G2X_*u_OC;-Xh"]}},"mI":{"opcode":"control_repeat","next":null,"parent":"mJ","inputs":{"TIMES":[1,[6,"3"]],"SUBSTACK":[2,"mK"]},"fields":{}},"mK":{"opcode":"data_changevariableby","next":"yf","parent":"mI","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","5.QoRH[G2X_*u_OC;-Xh"]}},"yf":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"mK","inputs":{"INPUTB":[1,[10,"indexButton"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]}},"mL":{"opcode":"looks_switchcostumeto","next":null,"parent":"mM","inputs":{"COSTUME":[1,"yg"]},"fields":{}},"yg":{"opcode":"looks_costume","next":null,"parent":"mL","inputs":{},"fields":{"COSTUME":["title",null]},"shadow":true},"yh":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"mM","parent":null,"inputs":{"INPUTB":[1,[10,"title"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]},"topLevel":true},"mM":{"opcode":"looks_show","next":"mL","parent":"yh","inputs":{},"fields":{}},"mH":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"mJ","parent":"mG","inputs":{"INPUTB":[1,[10,"title"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]}},"mJ":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"mI","parent":"mH","inputs":{"INPUTB":[1,[10,"version"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]}},"yi":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"mN","parent":null,"inputs":{"INPUTB":[1,[10,"version"]]},"fields":{"INPUTA":[";K?500)mQAk-]a`6N,)}",null]},"topLevel":true},"mN":{"opcode":"looks_show","next":"mO","parent":"yi","inputs":{},"fields":{}},"mO":{"opcode":"control_forever","next":null,"parent":"mN","inputs":{"SUBSTACK":[2,"mP"]},"fields":{}},"mQ":{"opcode":"looks_setsizeto","next":"mR","parent":"mP","inputs":{"SIZE":[1,[4,"100"]]},"fields":{}},"mR":{"opcode":"text_setFont","next":"mS","parent":"mQ","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif"]}},"mS":{"opcode":"text_setText","next":"mT","parent":"mR","inputs":{"TEXT":[3,[12,"- VERSION","K)YJI2}fqvVAJ?=rt[u8"],[10,"21:43, 22-7-2025"]]},"fields":{}},"mT":{"opcode":"text_setColor","next":"a[","parent":"mS","inputs":{"COLOR":[1,[9,"#c5c5c5"]]},"fields":{}},"yj":{"opcode":"text_setWidth","next":null,"parent":"a[","inputs":{"WIDTH":[1,[4,"350"]]},"fields":{"ALIGN":["center"]}},"a[":{"opcode":"control_if_else","next":"yj","parent":"mT","inputs":{"CONDITION":[2,"yk"],"SUBSTACK":[2,"yl"]},"fields":{}},"yk":{"opcode":"operator_contains","next":null,"parent":"a[","inputs":{"STRING1":[3,[12,"- VERSION","K)YJI2}fqvVAJ?=rt[u8"],[10,"apple"]],"STRING2":[1,[10,"Beta"]]},"fields":{}},"mP":{"opcode":"motion_gotoxy","next":"mQ","parent":"mO","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"-140"]]},"fields":{}},"yl":{"opcode":"text_setColor","next":null,"parent":"a[","inputs":{"COLOR":[1,[9,"#b5d3ff"]]},"fields":{}},"mB":{"opcode":"event_broadcast","next":"ym","parent":"a@","inputs":{"BROADCAST_INPUT":[1,[11,"import menu","+,XHYX,TQU[VJg7=^h;U"]]},"fields":{}},"ym":{"opcode":"event_broadcast","next":null,"parent":"mB","inputs":{"BROADCAST_INPUT":[1,[11,"remove index","%a=ltqYnL$9^ES,#^GqR"]]},"fields":{}}},"comments":{},"currentCostume":7,"costumes":[{"name":"body","bitmapResolution":1,"dataFormat":"svg","assetId":"45b965f2007b45ecf57de3ac08ce0bb1","md5ext":"45b965f2007b45ecf57de3ac08ce0bb1.svg","rotationCenterX":57.75,"rotationCenterY":57.75000000000003},{"name":"NewMap0","bitmapResolution":1,"dataFormat":"svg","assetId":"608b0b410482c86efe9db76126a3bf76","md5ext":"608b0b410482c86efe9db76126a3bf76.svg","rotationCenterX":57.75,"rotationCenterY":57.75},{"name":"NewMap1","bitmapResolution":1,"dataFormat":"svg","assetId":"982b58e57178f7d7e4fc532182afec0a","md5ext":"982b58e57178f7d7e4fc532182afec0a.svg","rotationCenterX":72.31277562500003,"rotationCenterY":57.75000000000003},{"name":"ImportMap0","bitmapResolution":1,"dataFormat":"svg","assetId":"0fa78ebde8bd140402664630e5aef894","md5ext":"0fa78ebde8bd140402664630e5aef894.svg","rotationCenterX":57.74999500000007,"rotationCenterY":57.75000000000003},{"name":"ImportMap1","bitmapResolution":1,"dataFormat":"svg","assetId":"4873ebe0ebf56efa0f98c193814817bb","md5ext":"4873ebe0ebf56efa0f98c193814817bb.svg","rotationCenterX":62.68464000000006,"rotationCenterY":57.75000000000003},{"name":"LoadMap0","bitmapResolution":1,"dataFormat":"svg","assetId":"1e369c329ac6f0707f2b7cad8cc88bc0","md5ext":"1e369c329ac6f0707f2b7cad8cc88bc0.svg","rotationCenterX":57.75,"rotationCenterY":57.75},{"name":"LoadMap1","bitmapResolution":1,"dataFormat":"svg","assetId":"3952404b71d27470fc8242453bfc7df6","md5ext":"3952404b71d27470fc8242453bfc7df6.svg","rotationCenterX":101.19645000000003,"rotationCenterY":57.75},{"name":"title","bitmapResolution":1,"dataFormat":"svg","assetId":"584735fc09faf2983bdb742f89dc2299","md5ext":"584735fc09faf2983bdb742f89dc2299.svg","rotationCenterX":160.040345,"rotationCenterY":163.64950147850038}],"sounds":[],"volume":100,"layerOrder":2,"visible":false,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"index":{"color":"#ffffff"}}}},{"isStage":false,"name":"Load Menu","variables":{"mgn7h7:%z:n-@8rc2@NF":["ID",3],"~}b-Y*G?*^%C*imX;Xh1":["clone type",0],"UCN7r`h70?cd/U2e9p@D":["my blueprint json","{\"desc\":\"This is my new map!\",\"name\":\"My new Map\",\"map\":\"Capital\",\"blueprint\":\"ጀ惴ୀᰊ옎ɘ׀ꘅ₀\\ud879ƘݣO琁날筹뇀ᘱ莀猀鷗䀻池ᎌ̒鰀魠ࣄ켘Æꐂ᫰⠧㠤械䤏鐂ᐙぉ嘀빲啩ᤰ쉜얼Ꞃ⺠횘Ӏ䢘⎗䟀偞ぁFᐊ눀홆ቁሞ惡鄱\\udef8৸집녌ং᪆賁㑴㡶剡ᇙლ恐鹙ㄐಞ㢞縼\\ud850샀漢㶞痀芥噵⁁痂鈄䱵с՘猫왁鍴番郚鋀ⓓ癝뱣ꌌ䲧痵ﲂ춒⁌⼋㝟\\udef9溘∠言磬䂡ꆚ朂獼컠窣좇撻숤Ⰶ렞䢰쟄щ᪌垤℠ŬᒬḪō蘂ꎴ╊᥇꜃ᤱ깼䄤ⷬӱ䡈漂ᶄ鞴셁暶⡖Ɔ쪁\\ud94eⒹ蓙镢⇁੕㮃䨳贠ు颡⸀掁숀圬က\",\"timestamp\":\"2025-07-24 17:49:38\"}"]},"lists":{},"broadcasts":{},"blocks":{"yn":{"opcode":"event_whenbroadcastreceived","next":"mU","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["open load menu","},X}:]GF[kH=$m2a{`Y1"]},"topLevel":true},"mU":{"opcode":"data_setvariableto","next":"mV","parent":"yn","inputs":{"VALUE":[1,[10,""]]},"fields":{"VARIABLE":["SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"]}},"mV":{"opcode":"data_setvariableto","next":"mW","parent":"mU","inputs":{"VALUE":[1,[10,""]]},"fields":{"VARIABLE":["SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"]}},"mW":{"opcode":"SPspriteParent_deleteAll","next":"d=","parent":"mV","inputs":{},"fields":{}},"d=":{"opcode":"looks_switchbackdropto","next":"mX","parent":"mW","inputs":{"BACKDROP":[1,"yo"]},"fields":{}},"yo":{"opcode":"looks_backdrops","next":null,"parent":"d=","inputs":{},"fields":{"BACKDROP":["Load",null]},"shadow":true},"mY":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"mZ","parent":"mX","inputs":{"INPUTB":[1,[10,"slider"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"mZ":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"m!","parent":"mY","inputs":{"INPUTB":[1,[10,"mainTitle"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"m!":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"m#","parent":"mZ","inputs":{"INPUTB":[1,[10,"mainDate"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"m#":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"m%","parent":"m!","inputs":{"INPUTB":[1,[10,"mainDesc"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"m%":{"opcode":"data_setvariableto","next":"a]","parent":"m#","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]}},"a]":{"opcode":"control_repeat","next":"a^","parent":"m%","inputs":{"TIMES":[3,"yp",[6,"10"]],"SUBSTACK":[2,"m("]},"fields":{}},"yp":{"opcode":"data_lengthoflist","next":null,"parent":"a]","inputs":{},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"m(":{"opcode":"data_changevariableby","next":"d?","parent":"a]","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]}},"d?":{"opcode":"data_setvariableto","next":"m)","parent":"m(","inputs":{"VALUE":[3,"d@",[10,"0"]]},"fields":{"VARIABLE":["my blueprint json","UCN7r`h70?cd/U2e9p@D"]}},"d@":{"opcode":"SPjson_convert","next":null,"parent":"d?","inputs":{"OBJ":[3,"d[",[10,"{}"]],"TYPE":[1,"yq"]},"fields":{}},"d[":{"opcode":"shovellzcompress_decompress","next":null,"parent":"d@","inputs":{"TEXT":[3,"yr",[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"ys"]},"fields":{}},"yr":{"opcode":"data_itemoflist","next":null,"parent":"d[","inputs":{"INDEX":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"ys":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"d[","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"yq":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"d@","inputs":{},"fields":{"CONVERTS":["JSON",null]},"shadow":true},"m)":{"opcode":"SPspriteParent_makeLink","next":"m*","parent":"d?","inputs":{"NAME":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"m*":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"m+","parent":"m)","inputs":{"INPUTB":[1,[10,"slot"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"m+":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"yt","parent":"m*","inputs":{"INPUTB":[1,[10,"title"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"yt":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"m+","inputs":{"INPUTB":[1,[10,"date"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"a^":{"opcode":"control_if","next":"m,","parent":"a]","inputs":{"CONDITION":[2,"m-"],"SUBSTACK":[2,"yu"]},"fields":{}},"m-":{"opcode":"operator_equals","next":null,"parent":"a^","inputs":{"OPERAND1":[3,"yv",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"yv":{"opcode":"data_lengthoflist","next":null,"parent":"m-","inputs":{},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"yu":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"a^","inputs":{"INPUTB":[1,[10,"nomaps"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"m,":{"opcode":"data_setvariableto","next":"m.","parent":"a^","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]}},"m.":{"opcode":"control_repeat","next":null,"parent":"m,","inputs":{"TIMES":[1,[6,"3"]],"SUBSTACK":[2,"m/"]},"fields":{}},"m/":{"opcode":"data_changevariableby","next":"m:","parent":"m.","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]}},"m:":{"opcode":"SPspriteParent_makeLink","next":"yw","parent":"m/","inputs":{"NAME":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yw":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"m:","inputs":{"INPUTB":[1,[10,"button"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"B]":{"opcode":"data_setvariableto","next":null,"parent":null,"inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]},"topLevel":true},"yx":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"m;","parent":null,"inputs":{"INPUTB":[1,[10,"slot"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"m;":{"opcode":"motion_gotoxy","next":"d]","parent":"yx","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"d]":{"opcode":"SPspriteParent_linkMaster","next":"m=","parent":"m;","inputs":{"NAME":[1,"yy"],"LINK":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yy":{"opcode":"SPspriteParent_menu_TARGETS","next":null,"parent":"d]","inputs":{},"fields":{"TARGETS":["_myself_",null]},"shadow":true},"m=":{"opcode":"control_forever","next":null,"parent":"d]","inputs":{"SUBSTACK":[2,"m?"]},"fields":{}},"m?":{"opcode":"looks_show","next":"p","parent":"m=","inputs":{},"fields":{}},"p":{"opcode":"control_if_else","next":"d^","parent":"m?","inputs":{"CONDITION":[2,"yz"],"SUBSTACK":[2,"m@"],"SUBSTACK2":[2,"d_"]},"fields":{}},"yz":{"opcode":"operator_equals","next":null,"parent":"p","inputs":{"OPERAND1":[3,[12,"SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"],[10,""]],"OPERAND2":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"50"]]},"fields":{}},"m@":{"opcode":"looks_switchcostumeto","next":null,"parent":"p","inputs":{"COSTUME":[1,"yA"]},"fields":{}},"yA":{"opcode":"looks_costume","next":null,"parent":"m@","inputs":{},"fields":{"COSTUME":["Mapslot3",null]},"shadow":true},"d_":{"opcode":"looks_switchcostumeto","next":null,"parent":"p","inputs":{"COSTUME":[3,"m[","yB"]},"fields":{}},"m[":{"opcode":"operator_join","next":null,"parent":"d_","inputs":{"STRING1":[1,[10,"Mapslot"]],"STRING2":[3,"d`",[10,"banana"]]},"fields":{}},"d`":{"opcode":"operator_add","next":null,"parent":"m[","inputs":{"NUM1":[3,"m]",[4,""]],"NUM2":[3,"d{",[4,""]]},"fields":{}},"m]":{"opcode":"sensing_touchingobject","next":null,"parent":"d`","inputs":{"TOUCHINGOBJECTMENU":[1,"yC"]},"fields":{}},"yC":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"m]","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"d{":{"opcode":"operator_and","next":null,"parent":"d`","inputs":{"OPERAND1":[2,"m^"],"OPERAND2":[2,"yD"]},"fields":{}},"m^":{"opcode":"sensing_touchingobject","next":null,"parent":"d{","inputs":{"TOUCHINGOBJECTMENU":[1,"yE"]},"fields":{}},"yE":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"m^","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"yD":{"opcode":"sensing_mousedown","next":null,"parent":"d{","inputs":{},"fields":{}},"yB":{"opcode":"looks_costume","next":null,"parent":"d_","inputs":{},"fields":{"COSTUME":["Mapslot0",null]},"shadow":true},"d^":{"opcode":"motion_gotoxy","next":"d|","parent":"p","inputs":{"X":[1,[4,"-247"]],"Y":[3,"m_",[4,"155"]]},"fields":{}},"m_":{"opcode":"operator_subtract","next":null,"parent":"d^","inputs":{"NUM1":[1,[4,"155"]],"NUM2":[3,"m`",[4,""]]},"fields":{}},"m`":{"opcode":"operator_multiply","next":null,"parent":"m_","inputs":{"NUM1":[3,"yF",[4,""]],"NUM2":[1,[4,"71"]]},"fields":{}},"yF":{"opcode":"operator_subtract","next":null,"parent":"m`","inputs":{"NUM1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"d|":{"opcode":"SPspriteParent_updateLink","next":"m{","parent":"d^","inputs":{"TYPE":[1,"yG"],"LINK":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yG":{"opcode":"SPspriteParent_menu_CONTROLTYPE","next":null,"parent":"d|","inputs":{},"fields":{"CONTROLTYPE":["visibility",null]},"shadow":true},"m{":{"opcode":"SPspriteParent_updateLink","next":null,"parent":"d|","inputs":{"TYPE":[1,"yH"],"LINK":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yH":{"opcode":"SPspriteParent_menu_CONTROLTYPE","next":null,"parent":"m{","inputs":{},"fields":{"CONTROLTYPE":["x and y",null]},"shadow":true},"yI":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"m|","parent":null,"inputs":{"INPUTB":[1,[10,"title"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"m|":{"opcode":"motion_gotoxy","next":"d}","parent":"yI","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"5"]]},"fields":{}},"d}":{"opcode":"SPspriteParent_addSprite","next":"m}","parent":"m|","inputs":{"NAME":[1,"yJ"],"LINK":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yJ":{"opcode":"SPspriteParent_menu_TARGETS","next":null,"parent":"d}","inputs":{},"fields":{"TARGETS":["_myself_",null]},"shadow":true},"m}":{"opcode":"control_forever","next":null,"parent":"d}","inputs":{"SUBSTACK":[2,"m~"]},"fields":{}},"m~":{"opcode":"text_setFont","next":"d~","parent":"m}","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"d~":{"opcode":"text_setText","next":"na","parent":"m~","inputs":{"TEXT":[3,"yK",[10,"Unnamed Map 1"]]},"fields":{}},"yK":{"opcode":"SPjson_getKey","next":null,"parent":"d~","inputs":{"KEY":[1,[10,"name"]],"OBJ":[3,[12,"my blueprint json","UCN7r`h70?cd/U2e9p@D"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"na":{"opcode":"text_setColor","next":"nb","parent":"d~","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"nb":{"opcode":"text_setWidth","next":"yL","parent":"na","inputs":{"WIDTH":[1,[4,"200"]]},"fields":{"ALIGN":["center",null]}},"yL":{"opcode":"looks_setsizeto","next":null,"parent":"nb","inputs":{"SIZE":[1,[4,"90"]]},"fields":{}},"yM":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"nc","parent":null,"inputs":{"INPUTB":[1,[10,"date"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"nc":{"opcode":"motion_gotoxy","next":"ea","parent":"yM","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"-15"]]},"fields":{}},"ea":{"opcode":"SPspriteParent_addSprite","next":"nd","parent":"nc","inputs":{"NAME":[1,"yN"],"LINK":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"Link 1"]]},"fields":{}},"yN":{"opcode":"SPspriteParent_menu_TARGETS","next":null,"parent":"ea","inputs":{},"fields":{"TARGETS":["_myself_",null]},"shadow":true},"nd":{"opcode":"control_forever","next":null,"parent":"ea","inputs":{"SUBSTACK":[2,"ne"]},"fields":{}},"ne":{"opcode":"looks_setsizeto","next":"nf","parent":"nd","inputs":{"SIZE":[1,[4,"60"]]},"fields":{}},"nf":{"opcode":"text_setFont","next":"eb","parent":"ne","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"eb":{"opcode":"text_setText","next":"ng","parent":"nf","inputs":{"TEXT":[3,"yO",[10,"21:43, 22-7-2025"]]},"fields":{}},"yO":{"opcode":"SPjson_getKey","next":null,"parent":"eb","inputs":{"KEY":[1,[10,"timestamp"]],"OBJ":[3,[12,"my blueprint json","UCN7r`h70?cd/U2e9p@D"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"ng":{"opcode":"text_setColor","next":"yP","parent":"eb","inputs":{"COLOR":[1,[9,"#afafaf"]]},"fields":{}},"yP":{"opcode":"text_setWidth","next":null,"parent":"ng","inputs":{"WIDTH":[1,[4,"200"]]},"fields":{"ALIGN":["center",null]}},"B^":{"opcode":"data_changevariableby","next":null,"parent":null,"inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","mgn7h7:%z:n-@8rc2@NF"]},"topLevel":true},"yQ":{"opcode":"event_whenbroadcastreceived","next":"yR","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["close load menu","wz*~2ndN#]DWn]f{xS]["]},"topLevel":true},"yR":{"opcode":"control_delete_this_clone","next":null,"parent":"yQ","inputs":{},"fields":{}},"yS":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ec","parent":null,"inputs":{"INPUTB":[1,[10,"slider"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"ec":{"opcode":"looks_switchcostumeto","next":"nh","parent":"yS","inputs":{"COSTUME":[1,"yT"]},"fields":{}},"yT":{"opcode":"looks_costume","next":null,"parent":"ec","inputs":{},"fields":{"COSTUME":["Slider",null]},"shadow":true},"nh":{"opcode":"motion_gotoxy","next":"ni","parent":"ec","inputs":{"X":[1,[4,"-116"]],"Y":[1,[4,"180"]]},"fields":{}},"ni":{"opcode":"looks_show","next":"nj","parent":"nh","inputs":{},"fields":{}},"nj":{"opcode":"control_forever","next":null,"parent":"ni","inputs":{"SUBSTACK":[2,"nk"]},"fields":{}},"nk":{"opcode":"motion_setx","next":"ed","parent":"nj","inputs":{"X":[1,[4,"-116"]]},"fields":{}},"ed":{"opcode":"control_if","next":null,"parent":"nk","inputs":{"CONDITION":[2,"ee"],"SUBSTACK":[2,"ef"]},"fields":{}},"ee":{"opcode":"operator_and","next":null,"parent":"ed","inputs":{"OPERAND1":[2,"nl"],"OPERAND2":[2,"yU"]},"fields":{}},"nl":{"opcode":"sensing_touchingobject","next":null,"parent":"ee","inputs":{"TOUCHINGOBJECTMENU":[1,"yV"]},"fields":{}},"yV":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"nl","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"yU":{"opcode":"sensing_mousedown","next":null,"parent":"ee","inputs":{},"fields":{}},"ef":{"opcode":"control_repeat_until","next":null,"parent":"ed","inputs":{"CONDITION":[2,"nm"],"SUBSTACK":[2,"nn"]},"fields":{}},"nm":{"opcode":"operator_not","next":null,"parent":"ef","inputs":{"OPERAND":[2,"yW"]},"fields":{}},"yW":{"opcode":"sensing_mousedown","next":null,"parent":"nm","inputs":{},"fields":{}},"nn":{"opcode":"motion_sety","next":null,"parent":"ef","inputs":{"Y":[3,"no",[4,"180"]]},"fields":{}},"no":{"opcode":"truefantommath_clamp_block","next":null,"parent":"nn","inputs":{"A":[3,"yX",[4,""]],"B":[1,[4,"-180"]],"C":[1,[4,"180"]]},"fields":{}},"yX":{"opcode":"sensing_mousey","next":null,"parent":"no","inputs":{},"fields":{}},"yY":{"opcode":"event_whenthisspriteclicked","next":"a_","parent":null,"inputs":{},"fields":{},"topLevel":true},"a`":{"opcode":"control_if","next":"eg","parent":"a_","inputs":{"CONDITION":[2,"eh"],"SUBSTACK":[2,"np"]},"fields":{}},"eh":{"opcode":"operator_or","next":null,"parent":"a`","inputs":{"OPERAND1":[2,"yZ"],"OPERAND2":[2,"ei"]},"fields":{}},"yZ":{"opcode":"operator_equals","next":null,"parent":"eh","inputs":{"OPERAND1":[3,[12,"clone type","~}b-Y*G?*^%C*imX;Xh1"],[10,""]],"OPERAND2":[1,[10,"slot"]]},"fields":{}},"ei":{"opcode":"operator_or","next":null,"parent":"eh","inputs":{"OPERAND1":[2,"y!"],"OPERAND2":[2,"y#"]},"fields":{}},"y!":{"opcode":"operator_equals","next":null,"parent":"ei","inputs":{"OPERAND1":[3,[12,"clone type","~}b-Y*G?*^%C*imX;Xh1"],[10,""]],"OPERAND2":[1,[10,"title"]]},"fields":{}},"y#":{"opcode":"operator_equals","next":null,"parent":"ei","inputs":{"OPERAND1":[3,[12,"clone type","~}b-Y*G?*^%C*imX;Xh1"],[10,""]],"OPERAND2":[1,[10,"date"]]},"fields":{}},"np":{"opcode":"data_setvariableto","next":"y%","parent":"a`","inputs":{"VALUE":[3,[12,"my blueprint json","UCN7r`h70?cd/U2e9p@D"],[10,"0"]]},"fields":{"VARIABLE":["SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"]}},"y%":{"opcode":"data_setvariableto","next":null,"parent":"np","inputs":{"VALUE":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,"0"]]},"fields":{"VARIABLE":["SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"]}},"eg":{"opcode":"control_if","next":null,"parent":"a`","inputs":{"CONDITION":[2,"y("],"SUBSTACK":[2,"a{"]},"fields":{}},"y(":{"opcode":"operator_equals","next":null,"parent":"eg","inputs":{"OPERAND1":[3,[12,"clone type","~}b-Y*G?*^%C*imX;Xh1"],[10,""]],"OPERAND2":[1,[10,"button"]]},"fields":{}},"a{":{"opcode":"control_if","next":"a|","parent":"eg","inputs":{"CONDITION":[2,"y)"],"SUBSTACK":[2,"a}"]},"fields":{}},"y)":{"opcode":"operator_equals","next":null,"parent":"a{","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"a}":{"opcode":"control_if_else","next":null,"parent":"a{","inputs":{"CONDITION":[2,"nq"],"SUBSTACK":[2,"ej"],"SUBSTACK2":[2,"ek"]},"fields":{}},"nq":{"opcode":"operator_equals","next":null,"parent":"a}","inputs":{"OPERAND1":[3,"y*",[10,""]],"OPERAND2":[1,[10,"Delete"]]},"fields":{}},"y*":{"opcode":"looks_costumenumbername","next":null,"parent":"nq","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"ej":{"opcode":"looks_switchcostumeto","next":"nr","parent":"a}","inputs":{"COSTUME":[1,"y+"]},"fields":{}},"y+":{"opcode":"looks_costume","next":null,"parent":"ej","inputs":{},"fields":{"COSTUME":["Confirm",null]},"shadow":true},"ek":{"opcode":"control_if","next":null,"parent":"a}","inputs":{"CONDITION":[2,"ns"],"SUBSTACK":[2,"nt"]},"fields":{}},"ns":{"opcode":"operator_equals","next":null,"parent":"ek","inputs":{"OPERAND1":[3,"y,",[10,""]],"OPERAND2":[1,[10,"Confirm"]]},"fields":{}},"y,":{"opcode":"looks_costumenumbername","next":null,"parent":"ns","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"nt":{"opcode":"data_deleteoflist","next":"nu","parent":"ek","inputs":{"INDEX":[3,[12,"SLOT INDEX","k6rtZwOzy:p7j${Ce}!O"],[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"y-":{"opcode":"event_broadcast","next":null,"parent":"nu","inputs":{"BROADCAST_INPUT":[1,[11,"reload menu","=i%GP?]ds):v:2M^M8UP"]]},"fields":{}},"a|":{"opcode":"control_if","next":"el","parent":"a{","inputs":{"CONDITION":[2,"y."],"SUBSTACK":[2,"em"]},"fields":{}},"y.":{"opcode":"operator_equals","next":null,"parent":"a|","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"em":{"opcode":"looks_switchcostumeto","next":"en","parent":"a|","inputs":{"COSTUME":[1,"y/"]},"fields":{}},"y/":{"opcode":"looks_costume","next":null,"parent":"em","inputs":{},"fields":{"COSTUME":["ExportConfirm",null]},"shadow":true},"en":{"opcode":"clipboard_setClipboard","next":"nv","parent":"em","inputs":{"TEXT":[3,"eo",[10,""]]},"fields":{}},"nv":{"opcode":"control_wait","next":"nw","parent":"en","inputs":{"DURATION":[1,[5,"2"]]},"fields":{}},"nw":{"opcode":"looks_switchcostumeto","next":null,"parent":"nv","inputs":{"COSTUME":[1,"y:"]},"fields":{}},"y:":{"opcode":"looks_costume","next":null,"parent":"nw","inputs":{},"fields":{"COSTUME":["Export",null]},"shadow":true},"el":{"opcode":"control_if","next":null,"parent":"a|","inputs":{"CONDITION":[2,"y;"],"SUBSTACK":[2,"ep"]},"fields":{}},"y;":{"opcode":"operator_equals","next":null,"parent":"el","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"ep":{"opcode":"looks_switchbackdropto","next":"nx","parent":"el","inputs":{"BACKDROP":[1,"y="]},"fields":{}},"y=":{"opcode":"looks_backdrops","next":null,"parent":"ep","inputs":{},"fields":{"BACKDROP":["Black",null]},"shadow":true},"nx":{"opcode":"event_broadcast","next":"y?","parent":"ep","inputs":{"BROADCAST_INPUT":[1,[11,"open mapspace","yGyv?e1:j[4~uy/g=Efe"]]},"fields":{}},"y?":{"opcode":"event_broadcast","next":null,"parent":"nx","inputs":{"BROADCAST_INPUT":[1,[11,"close load menu","wz*~2ndN#]DWn]f{xS]["]]},"fields":{}},"y@":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ny","parent":null,"inputs":{"INPUTB":[1,[10,"MainTitle"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"ny":{"opcode":"control_forever","next":null,"parent":"y@","inputs":{"SUBSTACK":[2,"nz"]},"fields":{}},"nz":{"opcode":"motion_gotoxy","next":"q","parent":"ny","inputs":{"X":[1,[4,"170"]],"Y":[1,[4,"140"]]},"fields":{}},"q":{"opcode":"control_if_else","next":"nA","parent":"nz","inputs":{"CONDITION":[2,"y["],"SUBSTACK":[2,"y]"],"SUBSTACK2":[2,"y^"]},"fields":{}},"y[":{"opcode":"operator_equals","next":null,"parent":"q","inputs":{"OPERAND1":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"y]":{"opcode":"looks_hide","next":null,"parent":"q","inputs":{},"fields":{}},"y^":{"opcode":"looks_show","next":null,"parent":"q","inputs":{},"fields":{}},"nA":{"opcode":"text_setFont","next":"eq","parent":"q","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"eq":{"opcode":"text_setText","next":"nB","parent":"nA","inputs":{"TEXT":[3,"y_",[10,"Unnamed Map 1"]]},"fields":{}},"y_":{"opcode":"SPjson_getKey","next":null,"parent":"eq","inputs":{"KEY":[1,[10,"name"]],"OBJ":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"nB":{"opcode":"text_setColor","next":"nC","parent":"eq","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"nC":{"opcode":"text_setWidth","next":"y`","parent":"nB","inputs":{"WIDTH":[1,[4,"350"]]},"fields":{"ALIGN":["right",null]}},"y`":{"opcode":"looks_setsizeto","next":null,"parent":"nC","inputs":{"SIZE":[1,[4,"200"]]},"fields":{}},"y{":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"nD","parent":null,"inputs":{"INPUTB":[1,[10,"mainDate"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"nD":{"opcode":"control_forever","next":null,"parent":"y{","inputs":{"SUBSTACK":[2,"nE"]},"fields":{}},"nE":{"opcode":"motion_gotoxy","next":"r","parent":"nD","inputs":{"X":[1,[4,"170"]],"Y":[1,[4,"115"]]},"fields":{}},"r":{"opcode":"control_if_else","next":"nF","parent":"nE","inputs":{"CONDITION":[2,"y|"],"SUBSTACK":[2,"y}"],"SUBSTACK2":[2,"y~"]},"fields":{}},"y|":{"opcode":"operator_equals","next":null,"parent":"r","inputs":{"OPERAND1":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"y}":{"opcode":"looks_hide","next":null,"parent":"r","inputs":{},"fields":{}},"y~":{"opcode":"looks_show","next":null,"parent":"r","inputs":{},"fields":{}},"nF":{"opcode":"looks_setsizeto","next":"nG","parent":"r","inputs":{"SIZE":[1,[4,"80"]]},"fields":{}},"nG":{"opcode":"text_setFont","next":"er","parent":"nF","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"er":{"opcode":"text_setText","next":"nH","parent":"nG","inputs":{"TEXT":[3,"za",[10,"21:43, 22-7-2025"]]},"fields":{}},"za":{"opcode":"SPjson_getKey","next":null,"parent":"er","inputs":{"KEY":[1,[10,"timestamp"]],"OBJ":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"nH":{"opcode":"text_setColor","next":"zb","parent":"er","inputs":{"COLOR":[1,[9,"#afafaf"]]},"fields":{}},"zb":{"opcode":"text_setWidth","next":null,"parent":"nH","inputs":{"WIDTH":[1,[4,"350"]]},"fields":{"ALIGN":["right",null]}},"zc":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"nI","parent":null,"inputs":{"INPUTB":[1,[10,"mainDesc"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"nI":{"opcode":"control_forever","next":null,"parent":"zc","inputs":{"SUBSTACK":[2,"nJ"]},"fields":{}},"nJ":{"opcode":"motion_gotoxy","next":"s","parent":"nI","inputs":{"X":[1,[4,"170"]],"Y":[1,[4,"80"]]},"fields":{}},"s":{"opcode":"control_if_else","next":"nK","parent":"nJ","inputs":{"CONDITION":[2,"zd"],"SUBSTACK":[2,"ze"],"SUBSTACK2":[2,"zf"]},"fields":{}},"zd":{"opcode":"operator_equals","next":null,"parent":"s","inputs":{"OPERAND1":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"ze":{"opcode":"looks_hide","next":null,"parent":"s","inputs":{},"fields":{}},"zf":{"opcode":"looks_show","next":null,"parent":"s","inputs":{},"fields":{}},"nK":{"opcode":"looks_setsizeto","next":"nL","parent":"s","inputs":{"SIZE":[1,[4,"60"]]},"fields":{}},"nL":{"opcode":"text_setFont","next":"es","parent":"nK","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif",null]}},"es":{"opcode":"text_setText","next":"nM","parent":"nL","inputs":{"TEXT":[3,"zg",[10,"21:43, 22-7-2025"]]},"fields":{}},"zg":{"opcode":"SPjson_getKey","next":null,"parent":"es","inputs":{"KEY":[1,[10,"desc"]],"OBJ":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"nM":{"opcode":"text_setColor","next":"zh","parent":"es","inputs":{"COLOR":[1,[9,"#7d7d7d"]]},"fields":{}},"zh":{"opcode":"text_setWidth","next":null,"parent":"nM","inputs":{"WIDTH":[1,[4,"350"]]},"fields":{"ALIGN":["right",null]}},"zi":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"a~","parent":null,"inputs":{"INPUTB":[1,[10,"button"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"a~":{"opcode":"control_if","next":"ba","parent":"zi","inputs":{"CONDITION":[2,"zj"],"SUBSTACK":[2,"nN"]},"fields":{}},"zj":{"opcode":"operator_equals","next":null,"parent":"a~","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"nN":{"opcode":"looks_switchcostumeto","next":null,"parent":"a~","inputs":{"COSTUME":[1,"zk"]},"fields":{}},"zk":{"opcode":"looks_costume","next":null,"parent":"nN","inputs":{},"fields":{"COSTUME":["Delete",null]},"shadow":true},"ba":{"opcode":"control_if","next":"bb","parent":"a~","inputs":{"CONDITION":[2,"zl"],"SUBSTACK":[2,"nO"]},"fields":{}},"zl":{"opcode":"operator_equals","next":null,"parent":"ba","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"2"]]},"fields":{}},"nO":{"opcode":"looks_switchcostumeto","next":null,"parent":"ba","inputs":{"COSTUME":[1,"zm"]},"fields":{}},"zm":{"opcode":"looks_costume","next":null,"parent":"nO","inputs":{},"fields":{"COSTUME":["Export",null]},"shadow":true},"bb":{"opcode":"control_if","next":"nP","parent":"ba","inputs":{"CONDITION":[2,"zn"],"SUBSTACK":[2,"nQ"]},"fields":{}},"zn":{"opcode":"operator_equals","next":null,"parent":"bb","inputs":{"OPERAND1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[10,""]],"OPERAND2":[1,[10,"3"]]},"fields":{}},"nQ":{"opcode":"looks_switchcostumeto","next":null,"parent":"bb","inputs":{"COSTUME":[1,"zo"]},"fields":{}},"zo":{"opcode":"looks_costume","next":null,"parent":"nQ","inputs":{},"fields":{"COSTUME":["Open",null]},"shadow":true},"nP":{"opcode":"control_forever","next":null,"parent":"bb","inputs":{"SUBSTACK":[2,"t"]},"fields":{}},"t":{"opcode":"control_if_else","next":"u","parent":"nP","inputs":{"CONDITION":[2,"zp"],"SUBSTACK":[2,"zq"],"SUBSTACK2":[2,"zr"]},"fields":{}},"zp":{"opcode":"operator_equals","next":null,"parent":"t","inputs":{"OPERAND1":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"zq":{"opcode":"looks_hide","next":null,"parent":"t","inputs":{},"fields":{}},"zr":{"opcode":"looks_show","next":null,"parent":"t","inputs":{},"fields":{}},"u":{"opcode":"control_if_else","next":"nR","parent":"t","inputs":{"CONDITION":[2,"nS"],"SUBSTACK":[2,"bc"],"SUBSTACK2":[2,"nT"]},"fields":{}},"nS":{"opcode":"sensing_touchingobject","next":null,"parent":"u","inputs":{"TOUCHINGOBJECTMENU":[1,"zs"]},"fields":{}},"zs":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"nS","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"bc":{"opcode":"control_if_else","next":null,"parent":"u","inputs":{"CONDITION":[2,"zt"],"SUBSTACK":[2,"nU"],"SUBSTACK2":[2,"nV"]},"fields":{}},"zt":{"opcode":"sensing_mousedown","next":null,"parent":"bc","inputs":{},"fields":{}},"nU":{"opcode":"looks_changesizeby","next":null,"parent":"bc","inputs":{"CHANGE":[3,"nW",[4,"10"]]},"fields":{}},"nW":{"opcode":"operator_divide","next":null,"parent":"nU","inputs":{"NUM1":[3,"nX",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"nX":{"opcode":"operator_subtract","next":null,"parent":"nW","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"zu",[4,""]]},"fields":{}},"zu":{"opcode":"looks_size","next":null,"parent":"nX","inputs":{},"fields":{}},"nV":{"opcode":"looks_changesizeby","next":null,"parent":"bc","inputs":{"CHANGE":[3,"nY",[4,"10"]]},"fields":{}},"nY":{"opcode":"operator_divide","next":null,"parent":"nV","inputs":{"NUM1":[3,"nZ",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"nZ":{"opcode":"operator_subtract","next":null,"parent":"nY","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"zv",[4,""]]},"fields":{}},"zv":{"opcode":"looks_size","next":null,"parent":"nZ","inputs":{},"fields":{}},"nT":{"opcode":"looks_changesizeby","next":null,"parent":"u","inputs":{"CHANGE":[3,"n!",[4,"10"]]},"fields":{}},"n!":{"opcode":"operator_divide","next":null,"parent":"nT","inputs":{"NUM1":[3,"n#",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"n#":{"opcode":"operator_subtract","next":null,"parent":"n!","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"zw",[4,""]]},"fields":{}},"zw":{"opcode":"looks_size","next":null,"parent":"n#","inputs":{},"fields":{}},"nR":{"opcode":"motion_gotoxy","next":null,"parent":"u","inputs":{"X":[3,"n%",[4,"-27"]],"Y":[1,[4,"-161"]]},"fields":{}},"n%":{"opcode":"operator_add","next":null,"parent":"nR","inputs":{"NUM1":[1,[4,"-21"]],"NUM2":[3,"n(",[4,""]]},"fields":{}},"n(":{"opcode":"operator_multiply","next":null,"parent":"n%","inputs":{"NUM1":[3,"zx",[4,""]],"NUM2":[1,[4,"150"]]},"fields":{}},"zx":{"opcode":"operator_subtract","next":null,"parent":"n(","inputs":{"NUM1":[3,[12,"ID","mgn7h7:%z:n-@8rc2@NF"],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"zy":{"opcode":"event_whenbroadcastreceived","next":"et","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["reload menu","=i%GP?]ds):v:2M^M8UP"]},"topLevel":true},"et":{"opcode":"control_if","next":null,"parent":"zy","inputs":{"CONDITION":[2,"n)"],"SUBSTACK":[2,"n*"]},"fields":{}},"n)":{"opcode":"operator_not","next":null,"parent":"et","inputs":{"OPERAND":[2,"zz"]},"fields":{}},"zz":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"n)","inputs":{},"fields":{}},"n*":{"opcode":"event_broadcastandwait","next":"zA","parent":"et","inputs":{"BROADCAST_INPUT":[1,[11,"close load menu","wz*~2ndN#]DWn]f{xS]["]]},"fields":{}},"zA":{"opcode":"event_broadcast","next":null,"parent":"n*","inputs":{"BROADCAST_INPUT":[1,[11,"open load menu","},X}:]GF[kH=$m2a{`Y1"]]},"fields":{}},"zB":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"n+","parent":null,"inputs":{"INPUTB":[1,[10,"nomaps"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"n+":{"opcode":"motion_gotoxy","next":"eu","parent":"zB","inputs":{"X":[1,[4,"-247"]],"Y":[1,[4,"0"]]},"fields":{}},"eu":{"opcode":"looks_switchcostumeto","next":"zC","parent":"n+","inputs":{"COSTUME":[1,"zD"]},"fields":{}},"zD":{"opcode":"looks_costume","next":null,"parent":"eu","inputs":{},"fields":{"COSTUME":["noMaps",null]},"shadow":true},"zC":{"opcode":"looks_show","next":null,"parent":"eu","inputs":{},"fields":{}},"mX":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"mY","parent":"d=","inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]}},"zE":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"n,","parent":null,"inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["~}b-Y*G?*^%C*imX;Xh1",null]},"topLevel":true},"n-":{"opcode":"control_forever","next":null,"parent":"n,","inputs":{"SUBSTACK":[2,"ev"]},"fields":{}},"n.":{"opcode":"looks_setsizeto","next":"bd","parent":"n/","inputs":{"SIZE":[1,[4,"100"]]},"fields":{}},"n/":{"opcode":"motion_gotoxy","next":"n.","parent":"ev","inputs":{"X":[1,[4,"-72"]],"Y":[1,[4,"165"]]},"fields":{}},"n,":{"opcode":"looks_show","next":"n-","parent":"zE","inputs":{},"fields":{}},"bd":{"opcode":"control_if_else","next":null,"parent":"n.","inputs":{"CONDITION":[2,"n:"],"SUBSTACK":[2,"be"],"SUBSTACK2":[2,"n;"]},"fields":{}},"n:":{"opcode":"sensing_touchingobject","next":null,"parent":"bd","inputs":{"TOUCHINGOBJECTMENU":[1,"zF"]},"fields":{}},"zF":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"n:","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"be":{"opcode":"control_if_else","next":null,"parent":"bd","inputs":{"CONDITION":[2,"zG"],"SUBSTACK":[2,"n="],"SUBSTACK2":[2,"n?"]},"fields":{}},"zG":{"opcode":"sensing_mousedown","next":null,"parent":"be","inputs":{},"fields":{}},"n=":{"opcode":"looks_changesizeby","next":null,"parent":"be","inputs":{"CHANGE":[3,"n@",[4,"10"]]},"fields":{}},"n@":{"opcode":"operator_divide","next":null,"parent":"n=","inputs":{"NUM1":[3,"n[",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"n[":{"opcode":"operator_subtract","next":null,"parent":"n@","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"zH",[4,""]]},"fields":{}},"zH":{"opcode":"looks_size","next":null,"parent":"n[","inputs":{},"fields":{}},"n?":{"opcode":"looks_changesizeby","next":null,"parent":"be","inputs":{"CHANGE":[3,"n]",[4,"10"]]},"fields":{}},"n]":{"opcode":"operator_divide","next":null,"parent":"n?","inputs":{"NUM1":[3,"n^",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"n^":{"opcode":"operator_subtract","next":null,"parent":"n]","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"zI",[4,""]]},"fields":{}},"zI":{"opcode":"looks_size","next":null,"parent":"n^","inputs":{},"fields":{}},"n;":{"opcode":"looks_changesizeby","next":null,"parent":"bd","inputs":{"CHANGE":[3,"n_",[4,"10"]]},"fields":{}},"n_":{"opcode":"operator_divide","next":null,"parent":"n;","inputs":{"NUM1":[3,"n`",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"n`":{"opcode":"operator_subtract","next":null,"parent":"n_","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"zJ",[4,""]]},"fields":{}},"zJ":{"opcode":"looks_size","next":null,"parent":"n`","inputs":{},"fields":{}},"a_":{"opcode":"control_if","next":"a`","parent":"yY","inputs":{"CONDITION":[2,"zK"],"SUBSTACK":[2,"n{"]},"fields":{}},"zK":{"opcode":"operator_equals","next":null,"parent":"a_","inputs":{"OPERAND1":[3,[12,"clone type","~}b-Y*G?*^%C*imX;Xh1"],[10,""]],"OPERAND2":[1,[10,"x"]]},"fields":{}},"zL":{"opcode":"event_broadcast","next":null,"parent":"n{","inputs":{"BROADCAST_INPUT":[1,[11,"close load menu","wz*~2ndN#]DWn]f{xS]["]]},"fields":{}},"n{":{"opcode":"event_broadcast","next":"zL","parent":"a_","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"ev":{"opcode":"looks_switchcostumeto","next":"n/","parent":"n-","inputs":{"COSTUME":[1,"zM"]},"fields":{}},"zM":{"opcode":"looks_costume","next":null,"parent":"ev","inputs":{},"fields":{"COSTUME":["x",null]},"shadow":true},"eo":{"opcode":"Encoding_encode","next":null,"parent":"en","inputs":{"string":[3,"n|",[10,"apple"]],"code":[1,"zN"]},"fields":{}},"zN":{"opcode":"Encoding_menu_encode","next":null,"parent":"eo","inputs":{},"fields":{"encode":["Base64",null]},"shadow":true},"zO":{"opcode":"shovellzcompress_compress","next":null,"parent":null,"inputs":{"TEXT":[1,[10,"Hello world!"]],"TYPE":[1,"zP"]},"fields":{},"topLevel":true},"n|":{"opcode":"SPjson_convert","next":null,"parent":"eo","inputs":{"OBJ":[3,[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,"],[10,"{}"]],"TYPE":[1,"zQ"]},"fields":{}},"zQ":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"n|","inputs":{},"fields":{"CONVERTS":["string",null]},"shadow":true},"zP":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"zO","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"zR":{"opcode":"shovellzcompress_decompress","next":null,"parent":null,"inputs":{"TEXT":[1,[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"zS"]},"fields":{},"topLevel":true},"zS":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"zR","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"nu":{"opcode":"SPmessages_broadcastMsg","next":"y-","parent":"nt","inputs":{"MSG":[1,[10,"save blueprints"]],"DATA":[1,[10,""]]},"fields":{"WAIT":["continue"]}},"nr":{"opcode":"control_wait","next":"n}","parent":"ej","inputs":{"DURATION":[1,[5,"3"]]},"fields":{}},"n}":{"opcode":"looks_switchcostumeto","next":null,"parent":"nr","inputs":{"COSTUME":[1,"zT"]},"fields":{}},"zT":{"opcode":"looks_costume","next":null,"parent":"n}","inputs":{},"fields":{"COSTUME":["Delete",null]},"shadow":true},"B_":[12,"my blueprint json","UCN7r`h70?cd/U2e9p@D",-1580,100],"B`":[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,",-700,1540],"B{":[12,"SELECTED SLOT JSON","(`df=`+dfsF0VAhnB#2,",-278,2717]},"comments":{},"currentCostume":1,"costumes":[{"name":"x","bitmapResolution":1,"dataFormat":"svg","assetId":"0cd756e47baed25bc916e1e0c22e3cb9","md5ext":"0cd756e47baed25bc916e1e0c22e3cb9.svg","rotationCenterX":19.743708053691194,"rotationCenterY":19.743708053691222},{"name":"Mapslot0","bitmapResolution":1,"dataFormat":"svg","assetId":"8d5120411ae8f2658996d3d85e26fe48","md5ext":"8d5120411ae8f2658996d3d85e26fe48.svg","rotationCenterX":113.00000000000003,"rotationCenterY":35.25},{"name":"Mapslot1","bitmapResolution":1,"dataFormat":"svg","assetId":"8ca82acfa3955dc600aac6e7c6698a2f","md5ext":"8ca82acfa3955dc600aac6e7c6698a2f.svg","rotationCenterX":113.00000000000003,"rotationCenterY":35.25},{"name":"Mapslot2","bitmapResolution":1,"dataFormat":"svg","assetId":"b3768e4eb4b1aa7d5d49102470647bbc","md5ext":"b3768e4eb4b1aa7d5d49102470647bbc.svg","rotationCenterX":113.00000000000003,"rotationCenterY":35.25},{"name":"Mapslot3","bitmapResolution":1,"dataFormat":"svg","assetId":"d6118404005797b26d55c62690471b9a","md5ext":"d6118404005797b26d55c62690471b9a.svg","rotationCenterX":113.00000000000003,"rotationCenterY":35.25},{"name":"Slider","bitmapResolution":1,"dataFormat":"svg","assetId":"5c90315a2ab6e812d3f84a919f1ac07b","md5ext":"5c90315a2ab6e812d3f84a919f1ac07b.svg","rotationCenterX":12.25,"rotationCenterY":10.75},{"name":"noMaps","bitmapResolution":1,"dataFormat":"svg","assetId":"eaaff3ec00b2c5dcb7475447eca78d33","md5ext":"eaaff3ec00b2c5dcb7475447eca78d33.svg","rotationCenterX":100.86789712643696,"rotationCenterY":10.694447938232429},{"name":"Delete","bitmapResolution":1,"dataFormat":"svg","assetId":"f40e5e2be0c304e2fee84fdf14a460b3","md5ext":"f40e5e2be0c304e2fee84fdf14a460b3.svg","rotationCenterX":59.91666416666669,"rotationCenterY":22.7647078276334},{"name":"Confirm","bitmapResolution":1,"dataFormat":"svg","assetId":"3ab18741357ce62f8f48955207bdb75c","md5ext":"3ab18741357ce62f8f48955207bdb75c.svg","rotationCenterX":59.91666416666669,"rotationCenterY":22.764707827633373},{"name":"Open","bitmapResolution":1,"dataFormat":"svg","assetId":"d2adc44e67fcdc17ca9d204b5402f5cf","md5ext":"d2adc44e67fcdc17ca9d204b5402f5cf.svg","rotationCenterX":59.91666416666669,"rotationCenterY":22.764707827633373},{"name":"Export","bitmapResolution":1,"dataFormat":"svg","assetId":"13890c796c2240280fb0a4ffe936866e","md5ext":"13890c796c2240280fb0a4ffe936866e.svg","rotationCenterX":59.91666416666669,"rotationCenterY":22.764707827633345},{"name":"ExportConfirm","bitmapResolution":1,"dataFormat":"svg","assetId":"9d5200954467deb6f8a5444d678589ac","md5ext":"9d5200954467deb6f8a5444d678589ac.svg","rotationCenterX":59.91666416666669,"rotationCenterY":22.764707827633316}],"sounds":[],"volume":100,"layerOrder":6,"visible":false,"x":-72,"y":164.92885375494072,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"New Menu","variables":{"T}2JzdxgWFilw`k+~Ctm":["ID",3],"PrO#=MfD=.kLWL~l5s#v":["clone type",0]},"lists":{"do+o2/vF(Sq*EkJ9q!Ct":["a",[]]},"broadcasts":{},"blocks":{"n~":{"opcode":"procedures_definition","next":"oa","parent":null,"inputs":{"custom_block":[1,"zU"]},"fields":{},"topLevel":true},"zU":{"opcode":"procedures_prototype","next":null,"parent":"n~","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"new","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"oa":{"opcode":"data_setvariableto","next":"ew","parent":"n~","inputs":{"VALUE":[1,[10,""]]},"fields":{"VARIABLE":["HOVERED MAP","@$kuADgYF{|NSR;?Uj8l"]}},"ew":{"opcode":"looks_switchbackdropto","next":"ob","parent":"oa","inputs":{"BACKDROP":[1,"zV"]},"fields":{}},"zV":{"opcode":"looks_backdrops","next":null,"parent":"ew","inputs":{},"fields":{"BACKDROP":["Black",null]},"shadow":true},"ob":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"oc","parent":"ew","inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]}},"oc":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":"od","parent":"ob","inputs":{"INPUTB":[1,[10,"text"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]}},"od":{"opcode":"data_setvariableto","next":"oe","parent":"oc","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["ID","T}2JzdxgWFilw`k+~Ctm"]}},"oe":{"opcode":"control_repeat","next":null,"parent":"od","inputs":{"TIMES":[1,[6,"3"]],"SUBSTACK":[2,"og"]},"fields":{}},"og":{"opcode":"data_changevariableby","next":"zW","parent":"oe","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["ID","T}2JzdxgWFilw`k+~Ctm"]}},"zW":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"og","inputs":{"INPUTB":[1,[10,"map"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]}},"zX":{"opcode":"event_whenbroadcastreceived","next":"ex","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["open new menu","U73zwzF%}pH]@uFI8k/)"]},"topLevel":true},"ex":{"opcode":"control_if","next":null,"parent":"zX","inputs":{"CONDITION":[2,"oh"],"SUBSTACK":[2,"zY"]},"fields":{}},"oh":{"opcode":"operator_not","next":null,"parent":"ex","inputs":{"OPERAND":[2,"zZ"]},"fields":{}},"zZ":{"opcode":"lmsclonesplus_isClone","next":null,"parent":"oh","inputs":{},"fields":{}},"zY":{"opcode":"procedures_call","next":null,"parent":"ex","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"new","argumentids":"[]","warp":"true"}},"z!":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"oi","parent":null,"inputs":{"INPUTB":[1,[10,"map"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]},"topLevel":true},"oi":{"opcode":"looks_show","next":"oj","parent":"z!","inputs":{},"fields":{}},"oj":{"opcode":"control_forever","next":null,"parent":"oi","inputs":{"SUBSTACK":[2,"ey"]},"fields":{}},"ey":{"opcode":"motion_gotoxy","next":"ez","parent":"oj","inputs":{"X":[3,"ok",[4,"-150"]],"Y":[1,[4,"0"]]},"fields":{}},"ok":{"opcode":"operator_add","next":null,"parent":"ey","inputs":{"NUM1":[1,[4,"-110"]],"NUM2":[3,"ol",[4,""]]},"fields":{}},"ol":{"opcode":"operator_multiply","next":null,"parent":"ok","inputs":{"NUM1":[3,"z#",[4,""]],"NUM2":[1,[4,"110"]]},"fields":{}},"z#":{"opcode":"operator_subtract","next":null,"parent":"ol","inputs":{"NUM1":[3,[12,"ID","T}2JzdxgWFilw`k+~Ctm"],[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"ez":{"opcode":"looks_switchcostumeto","next":"bf","parent":"ey","inputs":{"COSTUME":[1,"z%"]},"fields":{}},"z%":{"opcode":"looks_costume","next":null,"parent":"ez","inputs":{},"fields":{"COSTUME":["Base",null]},"shadow":true},"bf":{"opcode":"control_if_else","next":null,"parent":"ez","inputs":{"CONDITION":[2,"om"],"SUBSTACK":[2,"bg"],"SUBSTACK2":[2,"eA"]},"fields":{}},"om":{"opcode":"sensing_touchingobject","next":null,"parent":"bf","inputs":{"TOUCHINGOBJECTMENU":[1,"z("]},"fields":{}},"z(":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"om","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"bg":{"opcode":"looks_switchcostumeto","next":"eB","parent":"bf","inputs":{"COSTUME":[3,"on","z)"]},"fields":{}},"on":{"opcode":"operator_add","next":null,"parent":"bg","inputs":{"NUM1":[3,"z*",[4,""]],"NUM2":[3,[12,"ID","T}2JzdxgWFilw`k+~Ctm"],[4,""]]},"fields":{}},"z*":{"opcode":"looks_costumenumbername","next":null,"parent":"on","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"z)":{"opcode":"looks_costume","next":null,"parent":"bg","inputs":{},"fields":{"COSTUME":["body",null]},"shadow":true},"eB":{"opcode":"data_setvariableto","next":"bh","parent":"bg","inputs":{"VALUE":[3,"z+",[10,"0"]]},"fields":{"VARIABLE":["HOVERED MAP","@$kuADgYF{|NSR;?Uj8l"]}},"z+":{"opcode":"looks_costumenumbername","next":null,"parent":"eB","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"bh":{"opcode":"control_if_else","next":null,"parent":"eB","inputs":{"CONDITION":[2,"z,"],"SUBSTACK":[2,"oo"],"SUBSTACK2":[2,"op"]},"fields":{}},"z,":{"opcode":"sensing_mousedown","next":null,"parent":"bh","inputs":{},"fields":{}},"oo":{"opcode":"looks_changesizeby","next":null,"parent":"bh","inputs":{"CHANGE":[3,"oq",[4,"10"]]},"fields":{}},"oq":{"opcode":"operator_divide","next":null,"parent":"oo","inputs":{"NUM1":[3,"or",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"or":{"opcode":"operator_subtract","next":null,"parent":"oq","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"z-",[4,""]]},"fields":{}},"z-":{"opcode":"looks_size","next":null,"parent":"or","inputs":{},"fields":{}},"op":{"opcode":"looks_changesizeby","next":null,"parent":"bh","inputs":{"CHANGE":[3,"os",[4,"10"]]},"fields":{}},"os":{"opcode":"operator_divide","next":null,"parent":"op","inputs":{"NUM1":[3,"ot",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"ot":{"opcode":"operator_subtract","next":null,"parent":"os","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"z.",[4,""]]},"fields":{}},"z.":{"opcode":"looks_size","next":null,"parent":"ot","inputs":{},"fields":{}},"eA":{"opcode":"looks_changesizeby","next":"eC","parent":"bf","inputs":{"CHANGE":[3,"ou",[4,"10"]]},"fields":{}},"ou":{"opcode":"operator_divide","next":null,"parent":"eA","inputs":{"NUM1":[3,"ov",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"ov":{"opcode":"operator_subtract","next":null,"parent":"ou","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"z/",[4,""]]},"fields":{}},"z/":{"opcode":"looks_size","next":null,"parent":"ov","inputs":{},"fields":{}},"eC":{"opcode":"looks_switchcostumeto","next":null,"parent":"eA","inputs":{"COSTUME":[3,"ow","z:"]},"fields":{}},"ow":{"opcode":"operator_add","next":null,"parent":"eC","inputs":{"NUM1":[3,"z;",[4,""]],"NUM2":[3,[12,"ID","T}2JzdxgWFilw`k+~Ctm"],[4,""]]},"fields":{}},"z;":{"opcode":"looks_costumenumbername","next":null,"parent":"ow","inputs":{},"fields":{"NUMBER_NAME":["number",null]}},"z:":{"opcode":"looks_costume","next":null,"parent":"eC","inputs":{},"fields":{"COSTUME":["body",null]},"shadow":true},"z=":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"ox","parent":null,"inputs":{"INPUTB":[1,[10,"x"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]},"topLevel":true},"ox":{"opcode":"looks_show","next":"oy","parent":"z=","inputs":{},"fields":{}},"oy":{"opcode":"control_forever","next":null,"parent":"ox","inputs":{"SUBSTACK":[2,"eD"]},"fields":{}},"eD":{"opcode":"looks_switchcostumeto","next":"oz","parent":"oy","inputs":{"COSTUME":[1,"z?"]},"fields":{}},"z?":{"opcode":"looks_costume","next":null,"parent":"eD","inputs":{},"fields":{"COSTUME":["x",null]},"shadow":true},"oz":{"opcode":"motion_gotoxy","next":"bi","parent":"eD","inputs":{"X":[1,[4,"-330"]],"Y":[1,[4,"160"]]},"fields":{}},"bi":{"opcode":"control_if_else","next":null,"parent":"oz","inputs":{"CONDITION":[2,"oA"],"SUBSTACK":[2,"bj"],"SUBSTACK2":[2,"oB"]},"fields":{}},"oA":{"opcode":"sensing_touchingobject","next":null,"parent":"bi","inputs":{"TOUCHINGOBJECTMENU":[1,"z@"]},"fields":{}},"z@":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"oA","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"bj":{"opcode":"control_if_else","next":null,"parent":"bi","inputs":{"CONDITION":[2,"z["],"SUBSTACK":[2,"oC"],"SUBSTACK2":[2,"oD"]},"fields":{}},"z[":{"opcode":"sensing_mousedown","next":null,"parent":"bj","inputs":{},"fields":{}},"oC":{"opcode":"looks_changesizeby","next":null,"parent":"bj","inputs":{"CHANGE":[3,"oE",[4,"10"]]},"fields":{}},"oE":{"opcode":"operator_divide","next":null,"parent":"oC","inputs":{"NUM1":[3,"oF",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"oF":{"opcode":"operator_subtract","next":null,"parent":"oE","inputs":{"NUM1":[1,[4,"95"]],"NUM2":[3,"z]",[4,""]]},"fields":{}},"z]":{"opcode":"looks_size","next":null,"parent":"oF","inputs":{},"fields":{}},"oD":{"opcode":"looks_changesizeby","next":null,"parent":"bj","inputs":{"CHANGE":[3,"oG",[4,"10"]]},"fields":{}},"oG":{"opcode":"operator_divide","next":null,"parent":"oD","inputs":{"NUM1":[3,"oH",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"oH":{"opcode":"operator_subtract","next":null,"parent":"oG","inputs":{"NUM1":[1,[4,"115"]],"NUM2":[3,"z^",[4,""]]},"fields":{}},"z^":{"opcode":"looks_size","next":null,"parent":"oH","inputs":{},"fields":{}},"oB":{"opcode":"looks_changesizeby","next":null,"parent":"bi","inputs":{"CHANGE":[3,"oI",[4,"10"]]},"fields":{}},"oI":{"opcode":"operator_divide","next":null,"parent":"oB","inputs":{"NUM1":[3,"oJ",[4,""]],"NUM2":[1,[4,"2"]]},"fields":{}},"oJ":{"opcode":"operator_subtract","next":null,"parent":"oI","inputs":{"NUM1":[1,[4,"100"]],"NUM2":[3,"z_",[4,""]]},"fields":{}},"z_":{"opcode":"looks_size","next":null,"parent":"oJ","inputs":{},"fields":{}},"z`":{"opcode":"event_whenthisspriteclicked","next":"bk","parent":null,"inputs":{},"fields":{},"topLevel":true},"bk":{"opcode":"control_if","next":"eE","parent":"z`","inputs":{"CONDITION":[2,"z{"],"SUBSTACK":[2,"oK"]},"fields":{}},"z{":{"opcode":"operator_equals","next":null,"parent":"bk","inputs":{"OPERAND1":[3,[12,"clone type","PrO#=MfD=.kLWL~l5s#v"],[10,""]],"OPERAND2":[1,[10,"x"]]},"fields":{}},"oK":{"opcode":"event_broadcast","next":"z|","parent":"bk","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"z|":{"opcode":"event_broadcast","next":null,"parent":"oK","inputs":{"BROADCAST_INPUT":[1,[11,"close new menu","VoSDF)ek5|l4xI@%*3.O"]]},"fields":{}},"eE":{"opcode":"control_if","next":null,"parent":"bk","inputs":{"CONDITION":[2,"z}"],"SUBSTACK":[2,"eF"]},"fields":{}},"z}":{"opcode":"operator_equals","next":null,"parent":"eE","inputs":{"OPERAND1":[3,[12,"clone type","PrO#=MfD=.kLWL~l5s#v"],[10,""]],"OPERAND2":[1,[10,"map"]]},"fields":{}},"eF":{"opcode":"SPmessages_broadcastMsg","next":"z~","parent":"eE","inputs":{"MSG":[1,[10,"CreateMap"]],"DATA":[3,"Aa",[10,"hello world"]]},"fields":{"WAIT":["continue",null]}},"Aa":{"opcode":"looks_costumenumbername","next":null,"parent":"eF","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"z~":{"opcode":"event_broadcast","next":null,"parent":"eF","inputs":{"BROADCAST_INPUT":[1,[11,"close new menu","VoSDF)ek5|l4xI@%*3.O"]]},"fields":{}},"Ab":{"opcode":"event_whenbroadcastreceived","next":"Ac","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["close new menu","VoSDF)ek5|l4xI@%*3.O"]},"topLevel":true},"Ac":{"opcode":"control_delete_this_clone","next":null,"parent":"Ab","inputs":{},"fields":{}},"Ad":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"oL","parent":null,"inputs":{"INPUTB":[1,[10,"text"]]},"fields":{"INPUTA":["PrO#=MfD=.kLWL~l5s#v",null]},"topLevel":true},"oL":{"opcode":"control_forever","next":null,"parent":"Ad","inputs":{"SUBSTACK":[2,"v"]},"fields":{}},"v":{"opcode":"control_if_else","next":"bl","parent":"oL","inputs":{"CONDITION":[2,"Ae"],"SUBSTACK":[2,"Af"],"SUBSTACK2":[2,"Ag"]},"fields":{}},"Ae":{"opcode":"operator_equals","next":null,"parent":"v","inputs":{"OPERAND1":[3,[12,"HOVERED MAP","@$kuADgYF{|NSR;?Uj8l"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"Af":{"opcode":"looks_hide","next":null,"parent":"v","inputs":{},"fields":{}},"Ag":{"opcode":"looks_show","next":null,"parent":"v","inputs":{},"fields":{}},"bl":{"opcode":"looks_switchcostumeto","next":"Ah","parent":"v","inputs":{"COSTUME":[3,"Ai","Aj"]},"fields":{}},"Ai":{"opcode":"operator_join","next":null,"parent":"bl","inputs":{"STRING1":[3,[12,"HOVERED MAP","@$kuADgYF{|NSR;?Uj8l"],[10,"apple "]],"STRING2":[1,[10,"Text"]]},"fields":{}},"Aj":{"opcode":"looks_costume","next":null,"parent":"bl","inputs":{},"fields":{"COSTUME":["x",null]},"shadow":true},"Ah":{"opcode":"motion_gotoxy","next":null,"parent":"bl","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"-150"]]},"fields":{}}},"comments":{},"currentCostume":4,"costumes":[{"name":"x","bitmapResolution":1,"dataFormat":"svg","assetId":"0cd756e47baed25bc916e1e0c22e3cb9","md5ext":"0cd756e47baed25bc916e1e0c22e3cb9.svg","rotationCenterX":19.743708053691194,"rotationCenterY":19.743708053691222},{"name":"Base","bitmapResolution":1,"dataFormat":"svg","assetId":"17d7e571566a8df1cd347b861695a49d","md5ext":"17d7e571566a8df1cd347b861695a49d.svg","rotationCenterX":45,"rotationCenterY":45},{"name":"Capital","bitmapResolution":1,"dataFormat":"svg","assetId":"0d0c380d146f84fc65932765a54adc4c","md5ext":"0d0c380d146f84fc65932765a54adc4c.svg","rotationCenterX":45,"rotationCenterY":45},{"name":"Dogville","bitmapResolution":1,"dataFormat":"svg","assetId":"7f5f72181697c28c66bd1ddeb9c04af5","md5ext":"7f5f72181697c28c66bd1ddeb9c04af5.svg","rotationCenterX":45.52935500000001,"rotationCenterY":45},{"name":"None","bitmapResolution":1,"dataFormat":"svg","assetId":"2f360d6fe3eeb07a23727aad79bb4615","md5ext":"2f360d6fe3eeb07a23727aad79bb4615.svg","rotationCenterX":44.99998500000004,"rotationCenterY":45},{"name":"map base","bitmapResolution":1,"dataFormat":"svg","assetId":"e6f871eed07783889eef0f8d231f6267","md5ext":"e6f871eed07783889eef0f8d231f6267.svg","rotationCenterX":33.29068000000001,"rotationCenterY":27.78416999999999},{"name":"CapitalText","bitmapResolution":1,"dataFormat":"svg","assetId":"a5a8519fc96d590e5840a46a5cf17d65","md5ext":"a5a8519fc96d590e5840a46a5cf17d65.svg","rotationCenterX":63.322299999999984,"rotationCenterY":6.42546735229493},{"name":"DogvilleText","bitmapResolution":1,"dataFormat":"svg","assetId":"703dd4649a5060bb48fe52e1f29e943d","md5ext":"703dd4649a5060bb48fe52e1f29e943d.svg","rotationCenterX":113.87230000000005,"rotationCenterY":6.425464704589871},{"name":"NoneText","bitmapResolution":1,"dataFormat":"svg","assetId":"afeeff7026096bcb17f8d50b7e7a2f77","md5ext":"afeeff7026096bcb17f8d50b7e7a2f77.svg","rotationCenterX":63.322299999999984,"rotationCenterY":6.425467352294902}],"sounds":[],"volume":100,"layerOrder":4,"visible":false,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"new":{"color":"#ffffff"}}}},{"isStage":false,"name":"Local Storage","variables":{"!D)h@.Q^al*CXuZ=8ZrF":["access key",""],"V}N%JLbM)cehuLy[HVG/":["i","0"]},"lists":{"MY5DQJD{tzCGe}D~p0*r":["ptydzgmb",["PL-sOEDv-YuKQ-7035259$"]],"%B2=Kk,aV$i4G-%(Zqzr":["KEY EXPIRATION DATE",[1753706621644]],"vhKm@XsU2E;?1mBlA-o!":["INVALID KEYS",[]]},"broadcasts":{},"blocks":{"Ak":{"opcode":"event_whenflagclicked","next":"oM","parent":null,"inputs":{},"fields":{},"topLevel":true},"oN":{"opcode":"localstorage_setProjectId","next":"oP","parent":"oO","inputs":{"ID":[1,[10,"falkospearle.958741890x12"]]},"fields":{}},"oP":{"opcode":"data_deletealloflist","next":"oQ","parent":"oN","inputs":{},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"oQ":{"opcode":"SPmessages_broadcastMsg","next":"eG","parent":"oP","inputs":{"MSG":[1,[10,"load blueprints"]],"DATA":[1,[10,""]]},"fields":{"WAIT":["wait",null]}},"eG":{"opcode":"data_setvariableto","next":"bm","parent":"oQ","inputs":{"VALUE":[3,"Al",[10,"0"]]},"fields":{"VARIABLE":["access key","!D)h@.Q^al*CXuZ=8ZrF"]}},"Al":{"opcode":"localstorage_get","next":null,"parent":"eG","inputs":{"KEY":[1,[10,"accesskey"]]},"fields":{}},"bn":{"opcode":"control_if_else","next":null,"parent":"bm","inputs":{"CONDITION":[2,"Am"],"SUBSTACK":[2,"bo"],"SUBSTACK2":[2,"bp"]},"fields":{}},"Am":{"opcode":"data_listcontainsitem","next":null,"parent":"bn","inputs":{"ITEM":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,"thing"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"An":{"opcode":"event_broadcast","next":null,"parent":"bo","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"bp":{"opcode":"control_if","next":"eH","parent":"bn","inputs":{"CONDITION":[2,"oR"],"SUBSTACK":[2,"Ao"]},"fields":{}},"oR":{"opcode":"operator_not","next":null,"parent":"bp","inputs":{"OPERAND":[2,"Ap"]},"fields":{}},"Ap":{"opcode":"operator_equals","next":null,"parent":"oR","inputs":{"OPERAND1":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"Ao":{"opcode":"localstorage_set","next":null,"parent":"bp","inputs":{"KEY":[1,[10,"accesskey"]],"VALUE":[1,[10,""]]},"fields":{}},"eH":{"opcode":"looks_switchbackdropto","next":"bq","parent":"bp","inputs":{"BACKDROP":[1,"Aq"]},"fields":{}},"Aq":{"opcode":"looks_backdrops","next":null,"parent":"eH","inputs":{},"fields":{"BACKDROP":["Black",null]},"shadow":true},"Ar":{"opcode":"SPmessages_whenReceive1","next":"eI","parent":null,"inputs":{"MSG":[1,[10,"save blueprints"]]},"fields":{},"topLevel":true},"eI":{"opcode":"xmerclosecontrol_setControl","next":"oS","parent":"Ar","inputs":{"OPTION":[1,"As"]},"fields":{}},"As":{"opcode":"xmerclosecontrol_menu_option","next":null,"parent":"eI","inputs":{},"fields":{"option":["false",null]},"shadow":true},"oS":{"opcode":"localstorage_set","next":null,"parent":"eI","inputs":{"KEY":[1,[10,"blueprints"]],"VALUE":[3,"oT",[10,"1000"]]},"fields":{}},"oT":{"opcode":"lmsData_getListArray","next":null,"parent":"oS","inputs":{"LIST":[1,"At"]},"fields":{}},"At":{"opcode":"lmsData_menu_lists","next":null,"parent":"oT","inputs":{},"fields":{"lists":["PEARL MAP BLUEPRINTS",null]},"shadow":true},"Au":{"opcode":"SPmessages_whenReceive1","next":"eJ","parent":null,"inputs":{"MSG":[1,[10,"load blueprints"]]},"fields":{},"topLevel":true},"eJ":{"opcode":"lmsData_setListArray","next":null,"parent":"Au","inputs":{"LIST":[1,"Av"],"ARRAY":[3,"Aw",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"Av":{"opcode":"lmsData_menu_lists","next":null,"parent":"eJ","inputs":{},"fields":{"lists":["PEARL MAP BLUEPRINTS",null]},"shadow":true},"Aw":{"opcode":"localstorage_get","next":null,"parent":"eJ","inputs":{"KEY":[1,[10,"blueprints"]]},"fields":{}},"oU":{"opcode":"lmsData_setListArray","next":null,"parent":null,"inputs":{"LIST":[1,"Ax"],"ARRAY":[3,"Ay",[10,"[\"apple\",\"banana\"]"]]},"fields":{},"topLevel":true},"Ax":{"opcode":"lmsData_menu_lists","next":null,"parent":"oU","inputs":{},"fields":{"lists":["PEARL MAP BLUEPRINTS",null]},"shadow":true},"Ay":{"opcode":"localstorage_get","next":null,"parent":"oU","inputs":{"KEY":[1,[10,"blueprints"]]},"fields":{}},"oV":{"opcode":"procedures_definition","next":"oW","parent":null,"inputs":{"custom_block":[1,"Az"]},"fields":{},"topLevel":true},"Az":{"opcode":"procedures_prototype","next":null,"parent":"oV","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"random access code","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"oW":{"opcode":"SPtempVars_setVar","next":"eK","parent":"oV","inputs":{"NAME":[1,[10,"s"]],"VALUE":[1,[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"eK":{"opcode":"control_repeat","next":"eL","parent":"oW","inputs":{"TIMES":[1,[6,"5"]],"SUBSTACK":[2,"br"]},"fields":{}},"br":{"opcode":"control_if_else","next":null,"parent":"eK","inputs":{"CONDITION":[2,"oX"],"SUBSTACK":[2,"oY"],"SUBSTACK2":[2,"oZ"]},"fields":{}},"oX":{"opcode":"operator_equals","next":null,"parent":"br","inputs":{"OPERAND1":[3,"AA",[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"AA":{"opcode":"operator_random","next":null,"parent":"oX","inputs":{"FROM":[1,[4,"1"]],"TO":[1,[4,"2"]]},"fields":{}},"oY":{"opcode":"SPtempVars_setVar","next":null,"parent":"br","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"eM",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"eM":{"opcode":"operator_join","next":null,"parent":"oY","inputs":{"STRING1":[3,"AB",[10,"apple "]],"STRING2":[3,"AC",[10,"banana"]]},"fields":{}},"AB":{"opcode":"SPtempVars_getVar","next":null,"parent":"eM","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"AC":{"opcode":"SPmoreOPs_randomCharRange","next":null,"parent":"eM","inputs":{"ONE":[1,[10,"A"]],"TWO":[1,[10,"Z"]]},"fields":{}},"oZ":{"opcode":"SPtempVars_setVar","next":null,"parent":"br","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"eN",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"eN":{"opcode":"operator_join","next":null,"parent":"oZ","inputs":{"STRING1":[3,"AD",[10,"apple "]],"STRING2":[3,"AE",[10,"banana"]]},"fields":{}},"AD":{"opcode":"SPtempVars_getVar","next":null,"parent":"eN","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"AE":{"opcode":"SPmoreOPs_randomCharRange","next":null,"parent":"eN","inputs":{"ONE":[1,[10,"a"]],"TWO":[1,[10,"z"]]},"fields":{}},"eL":{"opcode":"SPtempVars_setVar","next":"eO","parent":"eK","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"o!",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"o!":{"opcode":"operator_join","next":null,"parent":"eL","inputs":{"STRING1":[3,"AF",[10,"apple "]],"STRING2":[1,[10,"-"]]},"fields":{}},"AF":{"opcode":"SPtempVars_getVar","next":null,"parent":"o!","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"eO":{"opcode":"control_repeat","next":"eP","parent":"eL","inputs":{"TIMES":[1,[6,"4"]],"SUBSTACK":[2,"bs"]},"fields":{}},"bs":{"opcode":"control_if_else","next":null,"parent":"eO","inputs":{"CONDITION":[2,"o#"],"SUBSTACK":[2,"o%"],"SUBSTACK2":[2,"o("]},"fields":{}},"o#":{"opcode":"operator_equals","next":null,"parent":"bs","inputs":{"OPERAND1":[3,"AG",[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"AG":{"opcode":"operator_random","next":null,"parent":"o#","inputs":{"FROM":[1,[4,"1"]],"TO":[1,[4,"2"]]},"fields":{}},"o%":{"opcode":"SPtempVars_setVar","next":null,"parent":"bs","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"eQ",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"eQ":{"opcode":"operator_join","next":null,"parent":"o%","inputs":{"STRING1":[3,"AH",[10,"apple "]],"STRING2":[3,"AI",[10,"banana"]]},"fields":{}},"AH":{"opcode":"SPtempVars_getVar","next":null,"parent":"eQ","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"AI":{"opcode":"SPmoreOPs_randomCharRange","next":null,"parent":"eQ","inputs":{"ONE":[1,[10,"A"]],"TWO":[1,[10,"Z"]]},"fields":{}},"o(":{"opcode":"SPtempVars_setVar","next":null,"parent":"bs","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"eR",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"eR":{"opcode":"operator_join","next":null,"parent":"o(","inputs":{"STRING1":[3,"AJ",[10,"apple "]],"STRING2":[3,"AK",[10,"banana"]]},"fields":{}},"AJ":{"opcode":"SPtempVars_getVar","next":null,"parent":"eR","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"AK":{"opcode":"SPmoreOPs_randomCharRange","next":null,"parent":"eR","inputs":{"ONE":[1,[10,"a"]],"TWO":[1,[10,"z"]]},"fields":{}},"eS":{"opcode":"SPtempVars_setVar","next":"o)","parent":"eT","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"o*",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"o*":{"opcode":"operator_join","next":null,"parent":"eS","inputs":{"STRING1":[3,"AL",[10,"apple "]],"STRING2":[1,[10,"$"]]},"fields":{}},"AL":{"opcode":"SPtempVars_getVar","next":null,"parent":"o*","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"o)":{"opcode":"procedures_return","next":null,"parent":"eS","inputs":{"VALUE":[3,"AM",[10,""]]},"fields":{}},"AM":{"opcode":"SPtempVars_getVar","next":null,"parent":"o)","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"AN":{"opcode":"procedures_call","next":null,"parent":"eU","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"random access code","argumentids":"[]","warp":"true","return":"1"}},"o+":{"opcode":"SPpopups_deletePopup","next":"o,","parent":"AO","inputs":{"ID":[1,[10,"access"]]},"fields":{}},"o,":{"opcode":"SPpopups_createPopup","next":"o-","parent":"o+","inputs":{"ID":[1,[10,"access"]]},"fields":{}},"o-":{"opcode":"SPpopups_createPopLabel","next":"eV","parent":"o,","inputs":{"ID":[1,[10,"txt"]],"TEXT":[1,[10,"Access key not recognized, please enter a valid access key."]]},"fields":{}},"eV":{"opcode":"SPpopups_append2Popup","next":"eW","parent":"o-","inputs":{"TYPE":[1,"AP"],"ELEMENT_ID":[1,[10,"txt"]],"POP_ID":[1,[10,"access"]]},"fields":{}},"AP":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"eV","inputs":{},"fields":{"UI_ELEMENTS":["label",null]},"shadow":true},"eW":{"opcode":"SPpopups_createPopInput","next":"eX","parent":"eV","inputs":{"TYPE":[1,"AQ"],"ID":[1,[10,"key"]]},"fields":{}},"AQ":{"opcode":"SPpopups_menu_INPUTS","next":null,"parent":"eW","inputs":{},"fields":{"INPUTS":["text",null]},"shadow":true},"eX":{"opcode":"SPpopups_append2Popup","next":"o.","parent":"eW","inputs":{"TYPE":[1,"AR"],"ELEMENT_ID":[1,[10,"key"]],"POP_ID":[1,[10,"access"]]},"fields":{}},"AR":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"eX","inputs":{},"fields":{"UI_ELEMENTS":["input",null]},"shadow":true},"o.":{"opcode":"SPpopups_createBtnRow","next":"o/","parent":"eX","inputs":{"ID":[1,[10,"sub"]]},"fields":{}},"o/":{"opcode":"SPpopups_createPopBtn","next":"o:","parent":"o.","inputs":{"ID":[1,[10,"subb"]],"TEXT":[1,[10,"Submit"]]},"fields":{}},"o:":{"opcode":"SPpopups_append2Row","next":"eY","parent":"o/","inputs":{"BTN_ID":[1,[10,"subb"]],"ROW_ID":[1,[10,"sub"]]},"fields":{}},"eY":{"opcode":"SPpopups_append2Popup","next":"bt","parent":"o:","inputs":{"TYPE":[1,"AS"],"ELEMENT_ID":[1,[10,"sub"]],"POP_ID":[1,[10,"access"]]},"fields":{}},"AS":{"opcode":"SPpopups_menu_UI_ELEMENTS","next":null,"parent":"eY","inputs":{},"fields":{"UI_ELEMENTS":["buttonRow",null]},"shadow":true},"bt":{"opcode":"SPpopups_setElementAtt","next":"bu","parent":"eY","inputs":{"PARAM":[1,"AT"],"ELEMENT":[1,"AU"],"ID":[1,[10,"access"]],"VALUE":[1,[10,"#121317"]]},"fields":{}},"AT":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"bt","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"AU":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"bt","inputs":{},"fields":{"UI_MAIN":["popup",null]},"shadow":true},"bu":{"opcode":"SPpopups_setElementAtt","next":"bv","parent":"bt","inputs":{"PARAM":[1,"AV"],"ELEMENT":[1,"AW"],"ID":[1,[10,"txt"]],"VALUE":[1,[10,"#ffffff"]]},"fields":{}},"AV":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"bu","inputs":{},"fields":{"POP_STYLES":["color",null]},"shadow":true},"AW":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"bu","inputs":{},"fields":{"UI_MAIN":["label",null]},"shadow":true},"bv":{"opcode":"SPpopups_setInputFont","next":"bw","parent":"bu","inputs":{"ELEMENT":[1,"AX"],"ID":[1,[10,"txt"]],"FONT":[1,"AY"]},"fields":{}},"AX":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"bv","inputs":{},"fields":{"UI_MAIN2":["label",null]},"shadow":true},"AY":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"bv","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"bw":{"opcode":"SPpopups_setElementAtt","next":"bx","parent":"bv","inputs":{"PARAM":[1,"AZ"],"ELEMENT":[1,"A!"],"ID":[1,[10,"key"]],"VALUE":[1,[10,"#ffffff"]]},"fields":{}},"AZ":{"opcode":"SPpopups_menu_POP_STYLES","next":null,"parent":"bw","inputs":{},"fields":{"POP_STYLES":["background",null]},"shadow":true},"A!":{"opcode":"SPpopups_menu_UI_MAIN","next":null,"parent":"bw","inputs":{},"fields":{"UI_MAIN":["input",null]},"shadow":true},"bx":{"opcode":"SPpopups_setInputFont","next":"by","parent":"bw","inputs":{"ELEMENT":[1,"A#"],"ID":[1,[10,"subb"]],"FONT":[1,"A%"]},"fields":{}},"A#":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"bx","inputs":{},"fields":{"UI_MAIN2":["button",null]},"shadow":true},"A%":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"bx","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"o;":{"opcode":"SPpopups_showPopup","next":"eZ","parent":"bq","inputs":{"ID":[1,[10,"access"]]},"fields":{"TYPE":["wait",null]}},"by":{"opcode":"SPpopups_setInputFont","next":"A(","parent":"bx","inputs":{"ELEMENT":[1,"A)"],"ID":[1,[10,"key"]],"FONT":[1,"A*"]},"fields":{}},"A)":{"opcode":"SPpopups_menu_UI_MAIN2","next":null,"parent":"by","inputs":{},"fields":{"UI_MAIN2":["input",null]},"shadow":true},"A*":{"opcode":"SPpopups_menu_FONTS","next":null,"parent":"by","inputs":{},"fields":{"FONTS":["\"VCR_OSD_MONO_1\", Sans Serif",null]},"shadow":true},"AO":{"opcode":"event_whenflagclicked","next":"o+","parent":null,"inputs":{},"fields":{},"topLevel":true},"bq":{"opcode":"control_repeat_until","next":"bz","parent":"eH","inputs":{"SUBSTACK":[2,"o;"],"CONDITION":[2,"A+"]},"fields":{}},"eZ":{"opcode":"data_setvariableto","next":"e!","parent":"o;","inputs":{"VALUE":[3,"A,",[10,"0"]]},"fields":{"VARIABLE":["access key","!D)h@.Q^al*CXuZ=8ZrF"]}},"A,":{"opcode":"SPpopups_userInput","next":null,"parent":"eZ","inputs":{"ID":[1,[10,"access"]]},"fields":{}},"A+":{"opcode":"data_listcontainsitem","next":null,"parent":"bq","inputs":{"ITEM":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,"thing"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"A-":{"opcode":"event_broadcast","next":null,"parent":"o=","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"A(":{"opcode":"SPpopups_setInputAlign","next":null,"parent":"by","inputs":{"ID":[1,[10,"key"]]},"fields":{"TYPE":["center",null]}},"eU":{"opcode":"data_addtolist","next":"o@","parent":"o?","inputs":{"ITEM":[3,"AN",[10,"thing"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"o=":{"opcode":"localstorage_set","next":"A-","parent":"bz","inputs":{"KEY":[1,[10,"accesskey"]],"VALUE":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,""]]},"fields":{}},"oM":{"opcode":"data_setvariableto","next":"oO","parent":"Ak","inputs":{"VALUE":[1,[10,"false"]]},"fields":{"VARIABLE":["IS ADMIN?","O4leA.^BaJIzoPCKl@7:"]}},"bm":{"opcode":"control_if_else","next":null,"parent":"eG","inputs":{"CONDITION":[2,"o["],"SUBSTACK2":[2,"bn"],"SUBSTACK":[2,"o]"]},"fields":{}},"o[":{"opcode":"operator_equals","next":null,"parent":"bm","inputs":{"OPERAND1":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,""]],"OPERAND2":[3,"o^",[10,""]]},"fields":{}},"o^":{"opcode":"shovellzcompress_compress","next":null,"parent":"o[","inputs":{"TEXT":[1,[10,"Falk8r8uJUUUU¤þ¤¤©eocwawxljfo"]],"TYPE":[1,"A."]},"fields":{}},"A.":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"o^","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"B|":{"opcode":"operator_equals","next":null,"parent":null,"inputs":{"OPERAND1":[1,[10,""]],"OPERAND2":[1,[10,"50"]]},"fields":{},"topLevel":true},"A/":{"opcode":"event_broadcast","next":null,"parent":"o]","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"o]":{"opcode":"data_setvariableto","next":"A/","parent":"bm","inputs":{"VALUE":[1,[10,"true"]]},"fields":{"VARIABLE":["IS ADMIN?","O4leA.^BaJIzoPCKl@7:"]}},"o_":{"opcode":"localstorage_set","next":"A:","parent":"bz","inputs":{"KEY":[1,[10,"new"]],"VALUE":[1,[10,"true"]]},"fields":{}},"A;":{"opcode":"localstorage_get","next":null,"parent":"o`","inputs":{"KEY":[1,[10,"new"]]},"fields":{}},"o`":{"opcode":"operator_equals","next":null,"parent":"bz","inputs":{"OPERAND1":[3,"A;",[10,""]],"OPERAND2":[1,[10,""]]},"fields":{}},"bz":{"opcode":"control_if","next":"o=","parent":"bq","inputs":{"CONDITION":[2,"o`"],"SUBSTACK":[2,"o_"]},"fields":{}},"A:":{"opcode":"data_changevariableby","next":null,"parent":"o_","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["☁ unique logins","|,Ig$Ks^*EHS$(#gT=F."]}},"o?":{"opcode":"procedures_definition","next":"eU","parent":null,"inputs":{"custom_block":[1,"o{"]},"fields":{},"topLevel":true},"o{":{"opcode":"procedures_prototype","next":null,"parent":"o?","inputs":{"P/{/Nd={^*RuD?(=EGpq":[3,null,"A="],"HtX7LnIEyi|bx7Drr4W]":[1,"A?"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Create new access key that expires in %s days","argumentids":"[\"HtX7LnIEyi|bx7Drr4W]\"]","argumentnames":"[\"days\"]","argumentdefaults":"[\"\",\"\",\"\"]","warp":"true"}},"A=":{"opcode":"argument_reporter_string_number","next":null,"parent":null,"inputs":{},"fields":{"VALUE":["timestamp",null]},"shadow":true,"topLevel":true},"o@":{"opcode":"data_addtolist","next":null,"parent":"eU","inputs":{"ITEM":[3,"e#",[10,"thing"]]},"fields":{"LIST":["KEY EXPIRATION DATE","%B2=Kk,aV$i4G-%(Zqzr"]}},"A?":{"opcode":"argument_reporter_string_number","next":null,"parent":"o{","inputs":{},"fields":{"VALUE":["days",null]},"shadow":true},"A@":{"opcode":"sipctime_Timestamp","next":null,"parent":"e#","inputs":{},"fields":{}},"B}":{"opcode":"operator_divide","next":null,"parent":null,"inputs":{"NUM1":[1,[4,""]],"NUM2":[1,[4,"86400"]]},"fields":{},"topLevel":true},"e#":{"opcode":"operator_add","next":null,"parent":"o@","inputs":{"NUM1":[3,"A@",[4,""]],"NUM2":[3,"o|",[4,""]]},"fields":{}},"B~":{"opcode":"operator_divide","next":null,"parent":null,"inputs":{"NUM1":[1,[4,""]],"NUM2":[1,[4,"86400000"]]},"fields":{},"topLevel":true},"o|":{"opcode":"operator_multiply","next":null,"parent":"e#","inputs":{"NUM1":[1,[4,"86400000"]],"NUM2":[3,"A[",[4,""]]},"fields":{}},"A[":{"opcode":"argument_reporter_string_number","next":null,"parent":"o|","inputs":{},"fields":{"VALUE":["days",null]}},"o}":{"opcode":"procedures_definition","next":"o~","parent":null,"inputs":{"custom_block":[1,"A]"]},"fields":{},"topLevel":true},"A]":{"opcode":"procedures_prototype","next":null,"parent":"o}","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"invalidate expired keys","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"e%":{"opcode":"control_repeat","next":null,"parent":"pa","inputs":{"TIMES":[3,"A^",[6,"10"]],"SUBSTACK":[2,"pb"]},"fields":{}},"A^":{"opcode":"data_lengthoflist","next":null,"parent":"e%","inputs":{},"fields":{"LIST":["KEY EXPIRATION DATE","%B2=Kk,aV$i4G-%(Zqzr"]}},"pb":{"opcode":"data_changevariableby","next":"e(","parent":"e%","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["i","V}N%JLbM)cehuLy[HVG/"]}},"pa":{"opcode":"data_setvariableto","next":"e%","parent":"o~","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["i","V}N%JLbM)cehuLy[HVG/"]}},"e(":{"opcode":"control_if","next":null,"parent":"pb","inputs":{"CONDITION":[2,"e)"],"SUBSTACK":[2,"pc"]},"fields":{}},"e)":{"opcode":"operator_gt","next":null,"parent":"e(","inputs":{"OPERAND1":[3,"A_",[10,""]],"OPERAND2":[3,"pd",[10,"50"]]},"fields":{}},"pd":{"opcode":"operator_subtract","next":null,"parent":"e)","inputs":{"NUM1":[3,"A`",[4,""]],"NUM2":[1,[4,"1000"]]},"fields":{}},"A`":{"opcode":"data_itemoflist","next":null,"parent":"pd","inputs":{"INDEX":[3,[12,"i","V}N%JLbM)cehuLy[HVG/"],[7,"1"]]},"fields":{"LIST":["KEY EXPIRATION DATE","%B2=Kk,aV$i4G-%(Zqzr"]}},"A_":{"opcode":"sipctime_Timestamp","next":null,"parent":"e)","inputs":{},"fields":{}},"Ca":{"opcode":"procedures_call","next":null,"parent":null,"inputs":{"HtX7LnIEyi|bx7Drr4W]":[1,[10,"1"]]},"fields":{},"topLevel":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Create new access key that expires in %s days","argumentids":"[\"HtX7LnIEyi|bx7Drr4W]\"]","warp":"true"}},"o~":{"opcode":"data_deletealloflist","next":"pa","parent":"o}","inputs":{},"fields":{"LIST":["INVALID KEYS","vhKm@XsU2E;?1mBlA-o!"]}},"pc":{"opcode":"data_addtolist","next":null,"parent":"e(","inputs":{"ITEM":[3,"A{",[10,"thing"]]},"fields":{"LIST":["INVALID KEYS","vhKm@XsU2E;?1mBlA-o!"]}},"A{":{"opcode":"data_itemoflist","next":null,"parent":"pc","inputs":{"INDEX":[3,[12,"i","V}N%JLbM)cehuLy[HVG/"],[7,"1"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"bo":{"opcode":"control_if_else","next":null,"parent":"bn","inputs":{"CONDITION":[2,"A|"],"SUBSTACK2":[2,"An"],"SUBSTACK":[2,"pe"]},"fields":{}},"A|":{"opcode":"data_listcontainsitem","next":null,"parent":"bo","inputs":{"ITEM":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,"thing"]]},"fields":{"LIST":["INVALID KEYS","vhKm@XsU2E;?1mBlA-o!"]}},"oO":{"opcode":"procedures_call","next":"oN","parent":"oM","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"invalidate expired keys","argumentids":"[]","warp":"true"}},"A}":{"opcode":"data_deletealloflist","next":"A~","parent":null,"inputs":{},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]},"topLevel":true},"A~":{"opcode":"data_deletealloflist","next":null,"parent":"A}","inputs":{},"fields":{"LIST":["KEY EXPIRATION DATE","%B2=Kk,aV$i4G-%(Zqzr"]}},"pe":{"opcode":"localstorage_set","next":"Ba","parent":"bo","inputs":{"KEY":[1,[10,"accesskey"]],"VALUE":[1,[10,""]]},"fields":{}},"Ba":{"opcode":"runtimeoptions_greenFlag","next":null,"parent":"pe","inputs":{},"fields":{}},"pf":{"opcode":"procedures_definition","next":"bA","parent":null,"inputs":{"custom_block":[1,"pg"]},"fields":{},"topLevel":true},"pg":{"opcode":"procedures_prototype","next":null,"parent":"pf","inputs":{"6[h|]7pa*?sqe:MY0Y%=":[1,"Bb"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get expiration date of key %s","argumentids":"[\"6[h|]7pa*?sqe:MY0Y%=\"]","argumentnames":"[\"key\"]","argumentdefaults":"[\"\"]","warp":"true","return":1}},"Bb":{"opcode":"argument_reporter_string_number","next":null,"parent":"pg","inputs":{},"fields":{"VALUE":["key",null]},"shadow":true},"ph":{"opcode":"procedures_return","next":null,"parent":"bA","inputs":{"VALUE":[3,"pi",[10,""]]},"fields":{}},"pj":{"opcode":"data_itemnumoflist","next":null,"parent":"pk","inputs":{"ITEM":[3,"Bc",[10,"thing"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"pk":{"opcode":"data_itemoflist","next":null,"parent":"pi","inputs":{"INDEX":[3,"pj",[7,"1"]]},"fields":{"LIST":["KEY EXPIRATION DATE","%B2=Kk,aV$i4G-%(Zqzr"]}},"Bc":{"opcode":"argument_reporter_string_number","next":null,"parent":"pj","inputs":{},"fields":{"VALUE":["key",null]}},"pi":{"opcode":"sipctime_TimestampToTime","next":null,"parent":"ph","inputs":{"timestamp":[3,"pk",[4,"1591657163000"]]},"fields":{}},"Cb":{"opcode":"procedures_call","next":null,"parent":null,"inputs":{"HtX7LnIEyi|bx7Drr4W]":[1,[10,"3"]]},"fields":{},"topLevel":true,"mutation":{"tagName":"mutation","children":[],"proccode":"Create new access key that expires in %s days","argumentids":"[\"HtX7LnIEyi|bx7Drr4W]\"]","warp":"true"}},"bA":{"opcode":"control_if_else","next":null,"parent":"pf","inputs":{"SUBSTACK":[2,"ph"],"CONDITION":[2,"pl"],"SUBSTACK2":[2,"Bd"]},"fields":{}},"pl":{"opcode":"data_listcontainsitem","next":null,"parent":"bA","inputs":{"ITEM":[3,"Be",[10,"thing"]]},"fields":{"LIST":["ptydzgmb","MY5DQJD{tzCGe}D~p0*r"]}},"Be":{"opcode":"argument_reporter_string_number","next":null,"parent":"pl","inputs":{},"fields":{"VALUE":["key",null]}},"Bd":{"opcode":"procedures_return","next":null,"parent":"bA","inputs":{"VALUE":[1,[10,"Key does not exist!"]]},"fields":{}},"eP":{"opcode":"SPtempVars_setVar","next":"eT","parent":"eO","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"pm",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"pm":{"opcode":"operator_join","next":null,"parent":"eP","inputs":{"STRING1":[3,"Bf",[10,"apple "]],"STRING2":[1,[10,"-"]]},"fields":{}},"Bf":{"opcode":"SPtempVars_getVar","next":null,"parent":"pm","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"eT":{"opcode":"control_repeat","next":"eS","parent":"eP","inputs":{"TIMES":[1,[6,"7"]],"SUBSTACK":[2,"pn"]},"fields":{}},"pn":{"opcode":"SPtempVars_setVar","next":null,"parent":"eT","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"e*",[10,"PL-"]]},"fields":{"TYPE":["sprite",null]}},"e*":{"opcode":"operator_join","next":null,"parent":"pn","inputs":{"STRING1":[3,"Bg",[10,"apple "]],"STRING2":[3,"Bh",[10,"banana"]]},"fields":{}},"Bg":{"opcode":"SPtempVars_getVar","next":null,"parent":"e*","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["sprite",null]}},"Bh":{"opcode":"operator_random","next":null,"parent":"e*","inputs":{"FROM":[1,[4,"0"]],"TO":[1,[4,"9"]]},"fields":{}},"po":{"opcode":"localstorage_set","next":"Bi","parent":"e!","inputs":{"KEY":[1,[10,"accesskey"]],"VALUE":[1,[10,"ᢄ〶ൠᰄʪ뤁⠟﯐䪂頏怱胮⊐ޘŘ٨倀"]]},"fields":{}},"e!":{"opcode":"control_if","next":null,"parent":"eZ","inputs":{"CONDITION":[2,"pp"],"SUBSTACK":[2,"po"]},"fields":{}},"pp":{"opcode":"operator_equals","next":null,"parent":"e!","inputs":{"OPERAND1":[3,[12,"access key","!D)h@.Q^al*CXuZ=8ZrF"],[10,""]],"OPERAND2":[3,"pq",[10,""]]},"fields":{}},"pq":{"opcode":"shovellzcompress_compress","next":null,"parent":"pp","inputs":{"TEXT":[1,[10,"Falk8r8uJUUUU¤þ¤¤©eocwawxljfo"]],"TYPE":[1,"Bj"]},"fields":{}},"Bj":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"pq","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"Bi":{"opcode":"runtimeoptions_greenFlag","next":null,"parent":"po","inputs":{},"fields":{}},"Cc":{"opcode":"localstorage_set","next":null,"parent":null,"inputs":{"KEY":[1,[10,"accesskey"]],"VALUE":[1,[10,""]]},"fields":{},"topLevel":true},"Bk":{"opcode":"shovellzcompress_compress","next":null,"parent":null,"inputs":{"TEXT":[1,[10,"Falk8r8uJUUUU¤þ¤¤©eocwawxljfo"]],"TYPE":[1,"Bl"]},"fields":{},"topLevel":true},"Bl":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"Bk","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"3339a2953a3bf62bb80e54ff575dbced","md5ext":"3339a2953a3bf62bb80e54ff575dbced.svg","rotationCenterX":0,"rotationCenterY":0}],"sounds":[],"volume":100,"layerOrder":7,"visible":true,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"random access code":{"color":"#bb00ff"},"Create new access key that expires in %s days":{"color":"#bb00ff"},"invalidate expired keys":{"color":"#bb00ff"},"get expiration date of key %s":{"color":"#bb00ff"}}}},{"isStage":false,"name":"logo","variables":{},"lists":{},"broadcasts":{},"blocks":{},"comments":{},"currentCostume":1,"costumes":[{"name":"Logo SVG","bitmapResolution":1,"dataFormat":"svg","assetId":"140f89be53a1ed13bb8af54a4f1f6140","md5ext":"140f89be53a1ed13bb8af54a4f1f6140.svg","rotationCenterX":31.142857142857167,"rotationCenterY":31.142857142857167},{"name":"Logo PNG","bitmapResolution":2,"dataFormat":"png","assetId":"2788a011ada43affc770f86c5c33dbb3","md5ext":"2788a011ada43affc770f86c5c33dbb3.png","rotationCenterX":271,"rotationCenterY":271}],"sounds":[],"volume":100,"layerOrder":8,"visible":false,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"Import","variables":{},"lists":{},"broadcasts":{},"blocks":{"Bm":{"opcode":"event_whenbroadcastreceived","next":"pr","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["import menu","+,XHYX,TQU[VJg7=^h;U"]},"topLevel":true},"pr":{"opcode":"looks_show","next":"e+","parent":"Bm","inputs":{},"fields":{}},"e+":{"opcode":"looks_switchcostumeto","next":"e,","parent":"pr","inputs":{"COSTUME":[1,"Bn"]},"fields":{}},"Bn":{"opcode":"looks_costume","next":null,"parent":"e+","inputs":{},"fields":{"COSTUME":["Insert",null]},"shadow":true},"e,":{"opcode":"shovelcss_changecss","next":"e-","parent":"e+","inputs":{"COLORABLE":[1,"Bo"],"COLOR":[1,[9,"#313131"]]},"fields":{}},"Bo":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e,","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt background",null]},"shadow":true},"e-":{"opcode":"shovelcss_changecss","next":"e.","parent":"e,","inputs":{"COLORABLE":[1,"Bp"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"Bp":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e-","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt question text",null]},"shadow":true},"e.":{"opcode":"shovelcss_changecss","next":"e/","parent":"e-","inputs":{"COLORABLE":[1,"Bq"],"COLOR":[1,[9,"#848484"]]},"fields":{}},"Bq":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e.","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt input background",null]},"shadow":true},"e/":{"opcode":"shovelcss_changecss","next":"e:","parent":"e.","inputs":{"COLORABLE":[1,"Br"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"Br":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e/","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt input border",null]},"shadow":true},"e:":{"opcode":"shovelcss_changecss","next":"e;","parent":"e/","inputs":{"COLORABLE":[1,"Bs"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"Bs":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e:","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt input text",null]},"shadow":true},"e;":{"opcode":"shovelcss_changecss","next":"ps","parent":"e:","inputs":{"COLORABLE":[1,"Bt"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"Bt":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"e;","inputs":{},"fields":{"COLORABLE_MENU":["ask prompt button background",null]},"shadow":true},"ps":{"opcode":"HyperSense2SP_advancedAsk","next":"e=","parent":"e;","inputs":{"QUESTION":[1,[10,"Insert a MAP BLUEPRINT"]]},"fields":{"TYPE":["stage",null],"WAIT":["wait",null]}},"e=":{"opcode":"SPtempVars_setVar","next":"bB","parent":"ps","inputs":{"NAME":[1,[10,"import"]],"VALUE":[3,"e?",[10,"0"]]},"fields":{"TYPE":["global",null]}},"e?":{"opcode":"Encoding_decode","next":null,"parent":"e=","inputs":{"string":[3,"Bu",[10,"YXBwbGU="]],"code":[1,"Bv"]},"fields":{}},"Bu":{"opcode":"sensing_answer","next":null,"parent":"e?","inputs":{},"fields":{}},"Bv":{"opcode":"Encoding_menu_encode","next":null,"parent":"e?","inputs":{},"fields":{"encode":["Base64",null]},"shadow":true},"bB":{"opcode":"control_if_else","next":null,"parent":"e=","inputs":{"CONDITION":[2,"pt"],"SUBSTACK":[2,"e@"],"SUBSTACK2":[2,"e["]},"fields":{}},"pt":{"opcode":"skyhigh173JSON_json_is_valid","next":null,"parent":"bB","inputs":{"json":[3,"Bw",[10,"{\"key\":\"value\"}"]]},"fields":{}},"Bw":{"opcode":"SPtempVars_getVar","next":null,"parent":"pt","inputs":{"NAME":[1,[10,"import"]]},"fields":{"TYPE":["global",null]}},"e@":{"opcode":"data_insertatlist","next":"e]","parent":"bB","inputs":{"ITEM":[3,"e^",[10,"thing"]],"INDEX":[1,[7,"1"]]},"fields":{"LIST":["PEARL MAP BLUEPRINTS","[jr-`lry:7j1m@BW66B`"]}},"e^":{"opcode":"shovellzcompress_compress","next":null,"parent":"e@","inputs":{"TEXT":[3,"Bx",[10,"Hello world!"]],"TYPE":[1,"By"]},"fields":{}},"Bx":{"opcode":"SPtempVars_getVar","next":null,"parent":"e^","inputs":{"NAME":[1,[10,"import"]]},"fields":{"TYPE":["global",null]}},"By":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"e^","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"e]":{"opcode":"looks_switchcostumeto","next":"pu","parent":"e@","inputs":{"COSTUME":[1,"Bz"]},"fields":{}},"Bz":{"opcode":"looks_costume","next":null,"parent":"e]","inputs":{},"fields":{"COSTUME":["Blueprint Success",null]},"shadow":true},"pu":{"opcode":"control_wait","next":"pv","parent":"e]","inputs":{"DURATION":[1,[5,"2"]]},"fields":{}},"pv":{"opcode":"event_broadcast","next":"BA","parent":"pu","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"BA":{"opcode":"SPmessages_broadcastMsg","next":null,"parent":"pv","inputs":{"MSG":[1,[10,"save blueprints"]],"DATA":[1,[10,""]]},"fields":{"WAIT":["continue",null]}},"e[":{"opcode":"looks_switchcostumeto","next":"pw","parent":"bB","inputs":{"COSTUME":[1,"BB"]},"fields":{}},"BB":{"opcode":"looks_costume","next":null,"parent":"e[","inputs":{},"fields":{"COSTUME":["Blueprint Error",null]},"shadow":true},"pw":{"opcode":"SPtempVars_setVar","next":"bC","parent":"e[","inputs":{"NAME":[1,[10,"s"]],"VALUE":[1,[10,"15"]]},"fields":{"TYPE":["global",null]}},"bC":{"opcode":"control_repeat_until","next":"px","parent":"pw","inputs":{"CONDITION":[2,"py"],"SUBSTACK":[2,"bD"]},"fields":{}},"py":{"opcode":"operator_equals","next":null,"parent":"bC","inputs":{"OPERAND1":[3,"pz",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"pz":{"opcode":"operator_round","next":null,"parent":"py","inputs":{"NUM":[3,"BC",[4,""]]},"fields":{}},"BC":{"opcode":"SPtempVars_getVar","next":null,"parent":"pz","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"bD":{"opcode":"motion_gotoxy","next":"pA","parent":"bC","inputs":{"X":[3,"e_",[4,"0"]],"Y":[3,"e`",[4,"0"]]},"fields":{}},"e_":{"opcode":"operator_random","next":null,"parent":"bD","inputs":{"FROM":[3,"pB",[4,"1"]],"TO":[3,"BD",[4,"10"]]},"fields":{}},"pB":{"opcode":"operator_subtract","next":null,"parent":"e_","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,"BE",[4,""]]},"fields":{}},"BE":{"opcode":"SPtempVars_getVar","next":null,"parent":"pB","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"BD":{"opcode":"SPtempVars_getVar","next":null,"parent":"e_","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"e`":{"opcode":"operator_random","next":null,"parent":"bD","inputs":{"FROM":[3,"pC",[4,"1"]],"TO":[3,"BF",[4,"10"]]},"fields":{}},"pC":{"opcode":"operator_subtract","next":null,"parent":"e`","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,"BG",[4,""]]},"fields":{}},"BG":{"opcode":"SPtempVars_getVar","next":null,"parent":"pC","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"BF":{"opcode":"SPtempVars_getVar","next":null,"parent":"e`","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"pA":{"opcode":"SPtempVars_setVar","next":null,"parent":"bD","inputs":{"NAME":[1,[10,"s"]],"VALUE":[3,"pD",[10,"15"]]},"fields":{"TYPE":["global",null]}},"pD":{"opcode":"operator_multiply","next":null,"parent":"pA","inputs":{"NUM1":[3,"BH",[4,""]],"NUM2":[1,[4,"0.8"]]},"fields":{}},"BH":{"opcode":"SPtempVars_getVar","next":null,"parent":"pD","inputs":{"NAME":[1,[10,"s"]]},"fields":{"TYPE":["global",null]}},"px":{"opcode":"control_wait","next":"BI","parent":"bC","inputs":{"DURATION":[1,[5,"1"]]},"fields":{}},"BI":{"opcode":"event_broadcast","next":null,"parent":"px","inputs":{"BROADCAST_INPUT":[1,[11,"index","!p4QU`0%aon,VrOvsNfH"]]},"fields":{}},"BJ":{"opcode":"shovellzcompress_decompress","next":null,"parent":null,"inputs":{"TEXT":[1,[10,"҅〶惶@✰Ӏ葀"]],"TYPE":[1,"BK"]},"fields":{},"topLevel":true},"BK":{"opcode":"shovellzcompress_menu_COMPRESSIONTYPES","next":null,"parent":"BJ","inputs":{},"fields":{"COMPRESSIONTYPES":["Raw",null]},"shadow":true},"BL":{"opcode":"event_whenflagclicked","next":"BM","parent":null,"inputs":{},"fields":{},"topLevel":true},"BM":{"opcode":"looks_hide","next":null,"parent":"BL","inputs":{},"fields":{}},"BN":{"opcode":"event_whenbroadcastreceived","next":"BO","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["index","!p4QU`0%aon,VrOvsNfH"]},"topLevel":true},"BO":{"opcode":"looks_hide","next":null,"parent":"BN","inputs":{},"fields":{}},"pE":{"opcode":"SPjson_convert","next":null,"parent":null,"inputs":{"OBJ":[3,"e{",[10,"{}"]],"TYPE":[1,"BP"]},"fields":{},"topLevel":true},"e{":{"opcode":"Encoding_decode","next":null,"parent":"pE","inputs":{"string":[3,"BQ",[10,"YXBwbGU="]],"code":[1,"BR"]},"fields":{}},"BQ":{"opcode":"sensing_answer","next":null,"parent":"e{","inputs":{},"fields":{}},"BR":{"opcode":"Encoding_menu_encode","next":null,"parent":"e{","inputs":{},"fields":{"encode":["Base64",null]},"shadow":true},"BP":{"opcode":"SPjson_menu_CONVERTS","next":null,"parent":"pE","inputs":{},"fields":{"CONVERTS":["JSON",null]},"shadow":true},"Cd":{"opcode":"SPtempVars_getVar","next":null,"parent":null,"inputs":{"NAME":[1,[10,"import"]]},"fields":{"TYPE":["global",null]},"topLevel":true},"BS":{"opcode":"Encoding_decode","next":null,"parent":null,"inputs":{"string":[1,[10,"a="]],"code":[1,"BT"]},"fields":{},"topLevel":true},"BT":{"opcode":"Encoding_menu_encode","next":null,"parent":"BS","inputs":{},"fields":{"encode":["Base64",null]},"shadow":true},"Ce":{"opcode":"sensing_answer","next":null,"parent":null,"inputs":{},"fields":{},"topLevel":true}},"comments":{},"currentCostume":1,"costumes":[{"name":"Insert","bitmapResolution":1,"dataFormat":"svg","assetId":"f4e3993b648101df8a5ef840294399fc","md5ext":"f4e3993b648101df8a5ef840294399fc.svg","rotationCenterX":133.57812499999997,"rotationCenterY":41.25},{"name":"Blueprint Error","bitmapResolution":1,"dataFormat":"svg","assetId":"36646ee5ce42f159641d363d7e80405e","md5ext":"36646ee5ce42f159641d363d7e80405e.svg","rotationCenterX":133.57812499999997,"rotationCenterY":41.25},{"name":"Blueprint Success","bitmapResolution":1,"dataFormat":"svg","assetId":"ef6bddaf103bd066964ec8e5f7506e8a","md5ext":"ef6bddaf103bd066964ec8e5f7506e8a.svg","rotationCenterX":133.57812499999997,"rotationCenterY":41.25}],"sounds":[],"volume":100,"layerOrder":9,"visible":false,"x":-0.45639337287451065,"y":-0.026761923704432755,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"ADMIN ONLY","variables":{"9xj59M4--QWph`fw]i8Y":["clone type",0]},"lists":{},"broadcasts":{},"blocks":{"pF":{"opcode":"procedures_definition","next":"pG","parent":null,"inputs":{"custom_block":[1,"BU"]},"fields":{},"topLevel":true},"BU":{"opcode":"procedures_prototype","next":null,"parent":"pF","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"is admin?","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true","return":2}},"pG":{"opcode":"procedures_return","next":null,"parent":"pF","inputs":{"VALUE":[3,"BV",[10,""]]},"fields":{}},"BV":{"opcode":"operator_equals","next":null,"parent":"pG","inputs":{"OPERAND1":[3,[12,"IS ADMIN?","O4leA.^BaJIzoPCKl@7:"],[10,""]],"OPERAND2":[1,[10,"true"]]},"fields":{}},"BW":{"opcode":"event_whenbroadcastreceived","next":"e|","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["index","!p4QU`0%aon,VrOvsNfH"]},"topLevel":true},"e|":{"opcode":"control_if","next":null,"parent":"BW","inputs":{"CONDITION":[2,"BX"],"SUBSTACK":[2,"BY"]},"fields":{}},"BX":{"opcode":"procedures_call","next":null,"parent":"e|","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"is admin?","argumentids":"[]","warp":"true","return":"2"}},"BY":{"opcode":"lmsclonesplus_createCloneOfMyselfWithVar","next":null,"parent":"e|","inputs":{"INPUTB":[1,[10,"unique logins"]]},"fields":{"INPUTA":["9xj59M4--QWph`fw]i8Y",null]}},"BZ":{"opcode":"event_whenbroadcastreceived","next":"e}","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["remove index","%a=ltqYnL$9^ES,#^GqR"]},"topLevel":true},"e}":{"opcode":"control_if","next":null,"parent":"BZ","inputs":{"CONDITION":[2,"B!"],"SUBSTACK":[2,"B#"]},"fields":{}},"B!":{"opcode":"operator_equals","next":null,"parent":"e}","inputs":{"OPERAND1":[3,[12,"clone type","9xj59M4--QWph`fw]i8Y"],[10,""]],"OPERAND2":[1,[10,"unique logins"]]},"fields":{}},"B%":{"opcode":"lmsclonesplus_whenCloneStartsWithVar","next":"pH","parent":null,"inputs":{"INPUTB":[1,[10,"unique logins"]]},"fields":{"INPUTA":["9xj59M4--QWph`fw]i8Y"]},"topLevel":true},"pI":{"opcode":"motion_gotoxy","next":"pJ","parent":"pH","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"-185"]]},"fields":{}},"pH":{"opcode":"control_forever","next":null,"parent":"B%","inputs":{"SUBSTACK":[2,"pI"]},"fields":{}},"pJ":{"opcode":"text_setFont","next":"e~","parent":"pI","inputs":{},"fields":{"FONT":["\"VCR_OSD_MONO_1\", Sans Serif"]}},"e~":{"opcode":"text_setText","next":"pK","parent":"pJ","inputs":{"TEXT":[3,"B(",[10,"Unnamed Map 1"]]},"fields":{}},"pK":{"opcode":"text_setColor","next":"pL","parent":"e~","inputs":{"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"pL":{"opcode":"text_setWidth","next":"B)","parent":"pK","inputs":{"WIDTH":[1,[4,"710"]]},"fields":{"ALIGN":["right"]}},"B)":{"opcode":"looks_setsizeto","next":null,"parent":"pL","inputs":{"SIZE":[1,[4,"60"]]},"fields":{}},"B(":{"opcode":"operator_join","next":null,"parent":"e~","inputs":{"STRING1":[1,[10,"Unique NON-ADMIN Users: "]],"STRING2":[3,[12,"☁ unique logins","|,Ig$Ks^*EHS$(#gT=F."],[10,"banana"]]},"fields":{}},"B#":{"opcode":"control_delete_this_clone","next":null,"parent":"e}","inputs":{},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"3339a2953a3bf62bb80e54ff575dbced","md5ext":"3339a2953a3bf62bb80e54ff575dbced.svg","rotationCenterX":0,"rotationCenterY":0}],"sounds":[],"volume":100,"layerOrder":10,"visible":true,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around","extensionStorage":{"SPmbpCST":{"is admin?":{"color":"#ffffff","global":false,"return":2}}}}],"monitors":[{"id":"pJYin=ozFkh^I_5jcMgj","mode":"list","opcode":"data_listcontents","params":{"LIST":"legit numbers"},"spriteName":"Parser","value":[],"width":0,"height":0,"x":5,"y":5,"visible":false},{"id":"Z,8q[h^R_vya6E:nxmrk","mode":"list","opcode":"data_listcontents","params":{"LIST":"legit dividers"},"spriteName":"Parser","value":[],"width":0,"height":0,"x":5,"y":5,"visible":false},{"id":"pn4#^nEr498zHtuEDCqp","mode":"default","opcode":"data_variable","params":{"VARIABLE":"MAP - SELECT X"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":202,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"I[NY_?Ojezs6{5QHF{i4","mode":"default","opcode":"data_variable","params":{"VARIABLE":"MAP - SELECT Y"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":223,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"xwO9/sE*6/~([E59OA;!","mode":"slider","opcode":"data_variable","params":{"VARIABLE":"MAP SIZE"},"spriteName":null,"value":0,"width":0,"height":0,"x":1,"y":44,"visible":false,"sliderMin":1,"sliderMax":2,"isDiscrete":false},{"id":"d|@:u;#VUQ:)scIMSRO.","mode":"default","opcode":"data_variable","params":{"VARIABLE":"MAP X"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"p/0=*C#`qWrKW#+$q_@+","mode":"default","opcode":"data_variable","params":{"VARIABLE":"cam x accel"},"spriteName":"pearle brain","value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"4l~Wn7LrJ7(J{%9wehep","mode":"default","opcode":"data_variable","params":{"VARIABLE":"CAMERA X"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"pX[/jIE_$ix%fheGYaYL","mode":"default","opcode":"data_variable","params":{"VARIABLE":"CAMERA Y"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":21,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"2fH9uf^)^0WhE[,Fofn=","mode":"slider","opcode":"data_variable","params":{"VARIABLE":"MAP BRIGHTNESS"},"spriteName":null,"value":0,"width":0,"height":0,"x":18,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"mHdm#bkM-wL!FNqK9d(c","mode":"default","opcode":"data_variable","params":{"VARIABLE":"IN VIEWPORT?"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"*?zWJy/75f0mzO$rPYE#","mode":"default","opcode":"data_variable","params":{"VARIABLE":"DASHBOARD PAGE"},"spriteName":null,"value":0,"width":0,"height":0,"x":180,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"MFG;NW2f2BoX-3V2nHhf","mode":"list","opcode":"data_listcontents","params":{"LIST":"CURRENT PEARL MAP"},"spriteName":null,"value":[],"width":0,"height":0,"x":0,"y":0,"visible":false},{"id":"wjV7bgGgdeT~k]jbXJ~f","mode":"list","opcode":"data_listcontents","params":{"LIST":"CURRENT MAP METADATA"},"spriteName":null,"value":[],"width":0,"height":0,"x":0,"y":0,"visible":false},{"id":"[jr-`lry:7j1m@BW66B`","mode":"list","opcode":"data_listcontents","params":{"LIST":"PEARL MAP BLUEPRINTS"},"spriteName":null,"value":[],"width":397,"height":227,"x":0,"y":0,"visible":false},{"id":"5.QoRH[G2X_*u_OC;-Xh","mode":"default","opcode":"data_variable","params":{"VARIABLE":"ID"},"spriteName":"Navigator","value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"f!iB]v5R5Yg!8XPm+@`c","mode":"list","opcode":"data_listcontents","params":{"LIST":"a"},"spriteName":"Navigator","value":[],"width":0,"height":0,"x":0,"y":0,"visible":false},{"id":"H]{?V--pdKLq##EluzqH","mode":"default","opcode":"data_variable","params":{"VARIABLE":"CURRENT MAP"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"@$kuADgYF{|NSR;?Uj8l","mode":"default","opcode":"data_variable","params":{"VARIABLE":"HOVERED MAP"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"MY5DQJD{tzCGe}D~p0*r","mode":"list","opcode":"data_listcontents","params":{"LIST":"ptydzgmb"},"spriteName":"Local Storage","value":[],"width":179,"height":210,"x":0,"y":0,"visible":false},{"id":"%B2=Kk,aV$i4G-%(Zqzr","mode":"list","opcode":"data_listcontents","params":{"LIST":"KEY EXPIRATION DATE"},"spriteName":"Local Storage","value":[],"width":185,"height":209,"x":57,"y":0,"visible":false},{"id":"vhKm@XsU2E;?1mBlA-o!","mode":"list","opcode":"data_listcontents","params":{"LIST":"INVALID KEYS"},"spriteName":"Local Storage","value":[],"width":0,"height":0,"x":0,"y":206,"visible":false}],"extensions":["SP0zMenuMaker","SPmbpCST","SPtempVars","shovellzcompress","SPjson","strings","textcomparison","lmsclonesplus","truefantommath","utilities","SPmessages","sipctime","lmsData","HyperSense2SP","SPpopups","text","tw","lmsLooksPlus","SPspriteParent","clipboard","Encoding","localstorage","xmerclosecontrol","SPmoreOPs","runtimeoptions","shovelcss","skyhigh173JSON"],"extensionURLs":{"SP0zMenuMaker":"data:text/javascript;base64,Ly8gTmFtZTogRHJvcGRvd24gTWFrZXIKLy8gSUQ6IFNQMHpNZW51TWFrZXIKLy8gRGVzY3JpcHRpb246IENyZWF0ZSBDdXN0b20gRHJvcGRvd25zCi8vIEJ5OiBTaGFya1Bvb2wKLy8gQnk6IDB6bnp3IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy8wem56dy8+Ci8vIEJ5OiBDU1QxMjI5IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy9DU1QxMjI5Lz4KLy8gTGljZW5zZTogTUlUIEFORCBMR1BMdjMKCi8vIFZlcnNpb24gVi4xLjAuMQoKKGZ1bmN0aW9uIChTY3JhdGNoKSB7CiAgInVzZSBzdHJpY3QiOwogIGlmICghU2NyYXRjaC5leHRlbnNpb25zLnVuc2FuZGJveGVkKSB0aHJvdyBuZXcgRXJyb3IoIk1lbnUgTWFrZXIgbmVlZHMgdG8gcnVuIHVuc2FuZGJveGVkISIpOwoKICBjb25zdCBkZWxldGVTVkcgPQogICAgImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek9TNDNNellpSUdobGFXZG9kRDBpTXprdU56TTJJaUIyYVdWM1FtOTRQU0l3SURBZ016a3VOek0ySURNNUxqY3pOaUkrUEhCaGRHZ2daRDBpVFRFeUxqVTBNU0F6TlM0eE9UVmhPQ0E0SURBZ01DQXhMVGd0T0ZZeE1pNDFOREZoT0NBNElEQWdNQ0F4SURndE9HZ3hOQzQyTlRSaE9DQTRJREFnTUNBeElEZ2dPSFl4TkM0Mk5UUmhPQ0E0SURBZ01DQXhMVGdnT0hvaUlHWnBiR3c5SWlObVpqUmtOR1FpTHo0OGNHRjBhQ0JrUFNKTk1DQXpPUzQzTXpaV01HZ3pPUzQzTXpaMk16a3VOek0yZWlJZ1ptbHNiRDBpYm05dVpTSXZQanh3WVhSb0lHUTlJazB4TWk0MU5ERWdNelV1TVRrMVlUZ2dPQ0F3SURBZ01TMDRMVGhXTVRJdU5UUXhZVGdnT0NBd0lEQWdNU0E0TFRob01UUXVOalUwWVRnZ09DQXdJREFnTVNBNElEaDJNVFF1TmpVMFlUZ2dPQ0F3SURBZ01TMDRJRGg2SWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVdGIzQmhZMmwwZVQwaUxqSTFNU0lnYzNSeWIydGxQU0lqTURBd0lpQnpkSEp2YTJVdGQybGtkR2c5SWpVaUx6NDhjR0YwYUNCa1BTSk5NVE11TVRBNElESXlMalU1T1dFeUxqWTNJREl1TmpjZ01DQXdJREV0TWk0Mk55MHlMalkzZGkwdU1USXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TQXlMalkzTFRJdU5qZG9NVE11TlRKaE1pNDJOeUF5TGpZM0lEQWdNQ0F4SURJdU5qY2dNaTQyTjNZdU1USXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TMHlMalkzSURJdU5qZDZJaUJtYVd4c1BTSWpabVptSWk4K1BDOXpkbWMrIjsKICBjb25zdCBhZGRTVkcgPQogICAgImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek9TNDNNellpSUdobGFXZG9kRDBpTXprdU56TTJJaUIyYVdWM1FtOTRQU0l3SURBZ016a3VOek0ySURNNUxqY3pOaUkrUEhCaGRHZ2daRDBpVFRFeUxqVTBNU0F6TlM0eE9UVmhPQ0E0SURBZ01DQXhMVGd0T0ZZeE1pNDFOREZoT0NBNElEQWdNQ0F4SURndE9HZ3hOQzQyTlRSaE9DQTRJREFnTUNBeElEZ2dPSFl4TkM0Mk5UUmhPQ0E0SURBZ01DQXhMVGdnT0hvaUlHWnBiR3c5SWlNMU1tWm1NMlVpTHo0OGNHRjBhQ0JrUFNKTk1USXVOVFF4SURNMUxqRTVOV0U0SURnZ01DQXdJREV0T0MwNFZqRXlMalUwTVdFNElEZ2dNQ0F3SURFZ09DMDRhREUwTGpZMU5HRTRJRGdnTUNBd0lERWdPQ0E0ZGpFMExqWTFOR0U0SURnZ01DQXdJREV0T0NBNGVpSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxMVzl3WVdOcGRIazlJaTR5TlRFaUlITjBjbTlyWlQwaUl6QXdNQ0lnYzNSeWIydGxMWGRwWkhSb1BTSTFJaTgrUEhCaGRHZ2daRDBpVFRFekxqRXdPQ0F5TWk0MU9UbGhNaTQyTnlBeUxqWTNJREFnTUNBeExUSXVOamN0TWk0Mk4zWXRMakV5TW1FeUxqWTNJREl1TmpjZ01DQXdJREVnTWk0Mk55MHlMalkzYURFekxqVXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TQXlMalkzSURJdU5qZDJMakV5TW1FeUxqWTNJREl1TmpjZ01DQXdJREV0TWk0Mk55QXlMalkzZWlJZ1ptbHNiRDBpSTJabVppSXZQanh3WVhSb0lHUTlJazB4Tnk0eE16Y2dNVE11TVRBNFlUSXVOamNnTWk0Mk55QXdJREFnTVNBeUxqWTNMVEl1Tmpkb0xqRXlNbUV5TGpZM0lESXVOamNnTUNBd0lERWdNaTQyTnlBeUxqWTNkakV6TGpVeVlUSXVOamNnTWk0Mk55QXdJREFnTVMweUxqWTNJREl1Tmpkb0xTNHhNakpoTWk0Mk55QXlMalkzSURBZ01DQXhMVEl1TmpjdE1pNDJOM29pSUdacGJHdzlJaU5tWm1ZaUx6NDhjR0YwYUNCa1BTSk5NQ0F6T1M0M016WldNR2d6T1M0M016WjJNemt1TnpNMmVpSWdabWxzYkQwaWJtOXVaU0l2UGp3dmMzWm5QZz09IjsKICBjb25zdCBlZGl0U1ZHID0KICAgICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXpPUzQzTXpZaUlHaGxhV2RvZEQwaU16a3VOek0ySWlCMmFXVjNRbTk0UFNJd0lEQWdNemt1TnpNMklETTVMamN6TmlJK1BIQmhkR2dnWkQwaVRURXlMalUwTVNBek5TNHhPVFZoT0NBNElEQWdNQ0F4TFRndE9GWXhNaTQxTkRGaE9DQTRJREFnTUNBeElEZ3RPR2d4TkM0Mk5UUmhPQ0E0SURBZ01DQXhJRGdnT0hZeE5DNDJOVFJoT0NBNElEQWdNQ0F4TFRnZ09Ib2lJR1pwYkd3OUlpTTBNR1E0Wm1ZaUx6NDhjR0YwYUNCa1BTSk5NVEl1TlRReElETTFMakU1TldFNElEZ2dNQ0F3SURFdE9DMDRWakV5TGpVME1XRTRJRGdnTUNBd0lERWdPQzA0YURFMExqWTFOR0U0SURnZ01DQXdJREVnT0NBNGRqRTBMalkxTkdFNElEZ2dNQ0F3SURFdE9DQTRlaUlnWm1sc2JEMGlibTl1WlNJZ2MzUnliMnRsTFc5d1lXTnBkSGs5SWk0eU5URWlJSE4wY205clpUMGlJekF3TUNJZ2MzUnliMnRsTFhkcFpIUm9QU0kxSWk4K1BIQmhkR2dnWkQwaVRURXlMalU0TnlBeU15NHdPVGhqTGpFd01pMHVORE11TXpjM0xTNDROaTQzTXpRdE1TNHlMak15TVMwdU16QTFJRFF1T0RNNElEUXVNVFk0SURRdU5UUTRJRFF1TkRnekxTNHpORFF1TXpjekxTNDNPRGd1TmpZekxURXVNak14TGpjMk9Hd3RNeTQ0TkM0NU1UWmpMUzQ0TVRjdU1UazBMVEV1TXpJeExTNHpNUzB4TGpFeU55MHhMakV5Tm5wdE1URXVNVEU0TFRFd0xqQXpObUV4TGpBNU5TQXhMakE1TlNBd0lEQWdNU0F3TFRFdU5UUTRiQzQ1TmpZdExqazJOMkV4TGpBNU5TQXhMakE1TlNBd0lEQWdNU0F4TGpVME9TQXdiREl1T1RZNUlESXVPVGRqTGpReU55NDBNamN1TkRJM0lERXVNVElnTUNBeExqVTBPR3d0TGprMk55NDVOalpoTVM0d09UVWdNUzR3T1RVZ01DQXdJREV0TVM0MU5EZ2dNSHB0TFRndU16a3hJRGd1TXpreFlURXVNRGsxSURFdU1EazFJREFnTUNBeElEQXRNUzQxTkRoc05pNHdNUzAyTGpBeFlURXVNRGsxSURFdU1EazFJREFnTUNBeElERXVOVFE0SURCc01pNDVOamtnTWk0NU5qbGpMalF5T0M0ME1qZ3VOREk0SURFdU1USWdNQ0F4TGpVME9Hd3ROaTR3TVNBMkxqQXhZVEV1TURrMUlERXVNRGsxSURBZ01DQXhMVEV1TlRRNElEQjZJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaVRUQWdNemt1TnpNMlZqQm9Nemt1TnpNMmRqTTVMamN6Tm5vaUlHWnBiR3c5SW01dmJtVWlMejQ4TDNOMlp6ND0iOwogIGNvbnN0IG1lbnVJY29uVVJJID0KICAgICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhNRFl1TkRFNUlpQm9aV2xuYUhROUlqRXdOaTQwTVRraUlIWnBaWGRDYjNnOUlqQWdNQ0F4TURZdU5ERTVJREV3Tmk0ME1Ua2lQanh3WVhSb0lHUTlJazB5TGpVZ05UTXVNakZETWk0MUlESTFMakl3TkNBeU5TNHlNRFFnTWk0MUlEVXpMakl4SURJdU5YTTFNQzQzTVNBeU1pNDNNRFFnTlRBdU56RWdOVEF1TnpFdE1qSXVOekEwSURVd0xqY3hMVFV3TGpjeElEVXdMamN4VXpJdU5TQTRNUzR5TVRZZ01pNDFJRFV6TGpJeGVpSWdabWxzYkQwaUl6Qm1ZbVE0WXlJZ2MzUnliMnRsUFNJak1HRTRNRFZsSWlCemRISnZhMlV0ZDJsa2RHZzlJalVpTHo0OGNHRjBhQ0JrUFNKTk1Ua3VPVElnTlRNdU1qRmpNQzB4T0M0ek9EWWdNVFF1T1RBMExUTXpMakk1SURNekxqSTVMVE16TGpJNVV6ZzJMalVnTXpRdU9ESTBJRGcyTGpVZ05UTXVNakVnTnpFdU5UazJJRGcyTGpVZ05UTXVNakVnT0RZdU5TQXhPUzQ1TWlBM01TNDFPVFlnTVRrdU9USWdOVE11TWpGNklpQm1hV3hzUFNJak1HTTVPVGN4SWlCemRISnZhMlU5SWlNd1lUZ3dOV1VpSUhOMGNtOXJaUzEzYVdSMGFEMGlOQzQxSWk4K1BIQmhkR2dnWkQwaVRUWTNMak0wT0NBME9TNDRNREpoTlM0ek5pQTFMak0ySURBZ01DQXhMVEV1TlRnZ015NDRNamRzTFRndU56SWdPQzQzTW1FMUxqUTFJRFV1TkRVZ01DQXdJREV0Tnk0Mk56WWdNR3d0T0M0Mk9UZ3RPQzQzTW1FMUxqTTRJRFV1TXpnZ01DQXdJREV0TVM0Mk1ESXRNeTQ0TWpjZ05TNDFNaUExTGpVeUlEQWdNQ0F4SURFdU5UZ3RNeTQ0TkRsakxqWTBOUzB1TlRNMElERXVOakF4TFRFdU5UZ2dNVEl1TlRjdE1TNDFPQ0F4TUM0NU5qY2dNQ0F4TVM0NU9TQXhMakF5TkNBeE1pNDFORFlnTVM0MU9HRTFMalF6SURVdU5ETWdNQ0F3SURFZ01TNDFPQ0F6TGpnMWVpSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxQU0lqTUdFNE1EVmxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqY3VOU0l2UGp4d1lYUm9JR1E5SWswMk55NHpORGdnTkRrdU9EQXlZVFV1TXpZZ05TNHpOaUF3SURBZ01TMHhMalU0SURNdU9ESTNiQzA0TGpjeUlEZ3VOekpoTlM0ME5TQTFMalExSURBZ01DQXhMVGN1TmpjMklEQnNMVGd1TmprNExUZ3VOekpoTlM0ek9DQTFMak00SURBZ01DQXhMVEV1TmpBeUxUTXVPREkzSURVdU5USWdOUzQxTWlBd0lEQWdNU0F4TGpVNExUTXVPRFE1WXk0Mk5EVXRMalV6TkNBeExqWXdNUzB4TGpVNElERXlMalUzTFRFdU5UZ2dNVEF1T1RZM0lEQWdNVEV1T1RrZ01TNHdNalFnTVRJdU5UUTJJREV1TlRoaE5TNDBNeUExTGpReklEQWdNQ0F4SURFdU5UZ2dNeTQ0TlNJZ1ptbHNiRDBpSTJabVppSXZQand2YzNablBnPT0iOwoKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgcnVudGltZSA9IHZtLnJ1bnRpbWU7CiAgY29uc3QgaXNQTSA9IFNjcmF0Y2guZXh0ZW5zaW9ucy5pc1Blbmd1aW5Nb2Q7CiAgY29uc3QgVEVNUF9CTE9DS19PUENPREUgPSAiU1Awek1lbnVNYWtlcl9fX1NQMHpNZW51TWFrZXJfVEVNUF9CTE9DSyI7IC8vIG9wY29kZSBvZiB0aGUgdGVtcG9yYXJ5IGJsb2NrIGFkZGVkIHRvIGtlZXAgdGhlIGV4dGVuc2lvbiBpbiB0aGUgcHJvamVjdAoKICBsZXQgZXh0UmV2bW92YWJsZSA9IGZhbHNlLCBleHRlbnNpb25JbnN0YW5jZTsgLy8gY3JlYXRlZCB3aGVuIHRoZSBleHRlbnNpb24gaXMgInJlZ2lzdGVyZWQiCiAgbGV0IG1lbnVzWE1MID0gYDxsYWJlbCB0ZXh0PSJUcnkgY3JlYXRpbmcgc29tZSBtZW51cyEiIC8+YDsKICBsZXQgY3VzdG9tTWVudXMgPSB7CiAgICAibmV3LW1lbnUtMSI6IHsgaXRlbXM6IFt7IHRleHQ6ICJmb28iLCB2YWx1ZTogImJhciIgfV0sIGFjY2VwdFJlcG9ydGVyczogZmFsc2UgfQogIH07CgogIC8vIEhlbHBlciBGdW5jcwogIGNvbnN0IGhhc093biA9IChvYmosIGtleSkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTsKCiAgY29uc3QgeG1sRXNjYXBlID0gZnVuY3Rpb24gKHVuc2FmZSkgewogICAgcmV0dXJuIFNjcmF0Y2guQ2FzdC50b1N0cmluZyh1bnNhZmUpLnJlcGxhY2UoL1s8PiYnIl0vZywgYyA9PiB7CiAgICAgIHN3aXRjaCAoYykgewogICAgICAgIGNhc2UgIjwiOiByZXR1cm4gIiZsdDsiOwogICAgICAgIGNhc2UgIj4iOiByZXR1cm4gIiZndDsiOwogICAgICAgIGNhc2UgIiYiOiByZXR1cm4gIiZhbXA7IjsKICAgICAgICBjYXNlICInIjogcmV0dXJuICImYXBvczsiOwogICAgICAgIGNhc2UgIlwiIjogcmV0dXJuICImcXVvdDsiOwogICAgICB9CiAgICB9KTsKICB9OwoKICBmdW5jdGlvbiByZWZyZXNoTWFnaWMoKSB7CiAgICBtZW51c1hNTCA9IE9iamVjdC5rZXlzKGN1c3RvbU1lbnVzKS5tYXAobWVudU5hbWUgPT4gewogICAgICBjb25zdCBtZW51QmxvY2sgPSBgU1Awek1lbnVNYWtlcl9tZW51XyR7eG1sRXNjYXBlKG1lbnVOYW1lKX1gOwogICAgICByZXR1cm4gYDxibG9jayB0eXBlPSIke21lbnVCbG9ja30iIGlkPSIke21lbnVCbG9ja30iPjwvYmxvY2s+YDsKICAgIH0pLmpvaW4oIiIpIHx8IGA8bGFiZWwgdGV4dD0iVHJ5IGNyZWF0aW5nIHNvbWUgbWVudXMhIiAvPmA7CiAgICB2bS5leHRlbnNpb25NYW5hZ2VyLnJlZnJlc2hCbG9ja3MoIlNQMHpNZW51TWFrZXIiKS50aGVuKCgpID0+IHZtLnJlZnJlc2hXb3Jrc3BhY2UoKSk7CiAgfQoKICBmdW5jdGlvbiBwYXRjaERpdkNvbG9yKGNvbnRhaW5lciwgaXNEYXJrKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGNoaWxkID0gY29udGFpbmVyLmNoaWxkTm9kZXNbaV07CiAgICAgIGNoaWxkLnN0eWxlLmJhY2tncm91bmQgPSBpICUgMiAhPT0gMCA/IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAke2lzRGFyayA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In0gODAlLCByZ2JhKDAsMCwwLDApKWAgOiAiIjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHBhdGNoTmFtZShuYW1lLCBhcnJheSkgewogICAgaWYgKGFycmF5LmluZGV4T2YobmFtZSkgPiAtMSkgewogICAgICBjb25zdCBhcHBlYXJhbmNlID0gYXJyYXkuZmlsdGVyKCh2KSA9PiB2ID09PSBuYW1lKS5sZW5ndGg7CiAgICAgIGNvbnN0IGxhc3REYXNoID0gbmFtZS5sYXN0SW5kZXhPZigiLSIpOwogICAgICBsZXQgbmV3TmFtZSA9IGAke25hbWV9LSR7YXBwZWFyYW5jZX1gOwogICAgICBpZiAobGFzdERhc2ggIT09IC0xKSB7CiAgICAgICAgY29uc3QgbGFzdFBhcnQgPSBuYW1lLnNsaWNlKGxhc3REYXNoICsgMSk7CiAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChsYXN0UGFydCkpKSBuZXdOYW1lID0gbmFtZS5zbGljZSgwLCBsYXN0RGFzaCkgKyBgLSR7cGFyc2VJbnQobGFzdFBhcnQpICsgYXBwZWFyYW5jZX1gOwogICAgICB9CiAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKG5ld05hbWUpID4gLTEgPyBwYXRjaE5hbWUobmV3TmFtZSwgYXJyYXkpIDogbmV3TmFtZTsKICAgIH0KICAgIHJldHVybiBuYW1lOwogIH0KCiAgLy8gR1VJCiAgZnVuY3Rpb24gbWFrZVRpdGxlKHR4dCkgewogICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHRpdGxlLnRleHRDb250ZW50ID0gdHh0OwogICAgdGl0bGUuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRleHQtYWxpZ246IGNlbnRlcjsgd2lkdGg6IDQ3JTsgbWFyZ2luLXJpZ2h0OiA4cHg7IG1hcmdpbi1sZWZ0OiA4cHg7IHBhZGRpbmc6IDBweCAwcHggMjBweDsiKTsKICAgIHJldHVybiB0aXRsZTsKICB9CgogIGZ1bmN0aW9uIG1ha2VMYWJlbCh0eHQpIHsKICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBsYWJlbC50ZXh0Q29udGVudCA9IHR4dDsKICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAibWFyZ2luOiA1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIC01NSUpOyIpOwogICAgcmV0dXJuIGxhYmVsOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ29udGFpbihjbGFzUywgZGFya0dVSSkgewogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBib3guY2xhc3NMaXN0LmFkZChjbGFzUyk7CiAgICBib3guc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvdmVyZmxvdzogaGlkZGVuIHNjcm9sbDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogNDclOyBoZWlnaHQ6IDIwMHB4OyBwYWRkaW5nOiAycHg7IG1hcmdpbi1yaWdodDogOHB4OyBtYXJnaW4tbGVmdDogOHB4OyBib3JkZXItcmFkaXVzOiA1cHg7Iik7CiAgICBib3guc3R5bGUuYm9yZGVyID0gYHNvbGlkICR7ZGFya0dVSSA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In0gMnB4YDsKICAgIHJldHVybiBib3g7CiAgfQoKICBmdW5jdGlvbiBtYWtlQnV0dG9uKGltZywgY2xhc1MpIHsKICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoY2xhc1MpOwogICAgYnV0dG9uLnNyYyA9IGltZzsKICAgIGJ1dHRvbi53aWR0aCA9ICIzMiI7CiAgICBidXR0b24uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgcmV0dXJuIGJ1dHRvbjsKICB9CgogIGZ1bmN0aW9uIG1ha2VJbnB1dCh0eXBlLCBkZWZhdWx0Viwgb3B0cykgewogICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgaW5wdXQudHlwZSA9IHR5cGU7CiAgICBpbnB1dC52YWx1ZSA9IGRlZmF1bHRWOwogICAgaW5wdXQuc3R5bGUud2lkdGggPSBvcHRzPy53aWR0aCA/PyAiMTMwcHgiOwogICAgaW5wdXQuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgwJSwgLTQ1JSkiOwogICAgaW5wdXQuc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgcmV0dXJuIGlucHV0OwogIH0KCiAgZnVuY3Rpb24gZ2hvc3RJbnB1dFJlbW92ZShzZWxlY3RvcikgewogICAgLy8gQmxvY2sgVGV4dCBpbnB1dCBEb2VzbnQgc2hvdyBpbW1lZGlhdGVseSA6KAogICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7CiAgICBlbHNlIHNldFRpbWVvdXQoKCkgPT4gZ2hvc3RJbnB1dFJlbW92ZShzZWxlY3RvciksIDUpOwogIH0KCiAgZnVuY3Rpb24gbWFrZU1lbnVOYW1lUm93KG5hbWUsIG5hbWVzQXJyYXksIGlzRGFyaywgY29udGFpbikgewogICAgY29uc3Qgcm93RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICByb3dEaXYuc3R5bGUuaGVpZ2h0ID0gIjE3JSI7CiAgICBpZiAobmFtZXNBcnJheS5pbmRleE9mKG5hbWUpICUgMiAhPT0gMCkgcm93RGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgJHtpc0RhcmsgPyAiIzM0MzQzNCIgOiAiI0Q5RDlEOSJ9IDgwJSwgcmdiYSgwLDAsMCwwKSlgOwoKICAgIC8vIERlbGV0ZSBCdXR0b24KICAgIGNvbnN0IGRlbCA9IG1ha2VCdXR0b24oZGVsZXRlU1ZHLCAiZGVsZXRlIik7CiAgICByb3dEaXYuYXBwZW5kQ2hpbGQoZGVsKTsKICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgLy8gU3VwZXIgc2VjcmV0IGNvbW1lbnQgZnJvbSBhc2hpbWUgPDMKICAgICAgZGVsZXRlIGN1c3RvbU1lbnVzW25hbWVdOwogICAgICBuYW1lc0FycmF5LnNwbGljZShuYW1lc0FycmF5LmluZGV4T2YobmFtZSksIDEpOwogICAgICByb3dEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb3dEaXYpOwogICAgICBwYXRjaERpdkNvbG9yKGNvbnRhaW4sIGlzRGFyayk7CgogICAgICAvLyBSZW1vdmUgSXRlbXMgQ29udGFpbmVyCiAgICAgIGNvbnN0IGl0ZW1Db24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3M9Iml0ZW1zIl1gKTsKICAgICAgaXRlbUNvbi5pbm5lckhUTUwgPSAiIjsKICAgIH0pOwoKICAgIC8vIEVkaXQgQnV0dG9uCiAgICBjb25zdCBlZGl0ID0gbWFrZUJ1dHRvbihlZGl0U1ZHLCAiZWRpdCIpOwogICAgcm93RGl2LmFwcGVuZENoaWxkKGVkaXQpOwogICAgZWRpdC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgcGF0Y2hEaXZDb2xvcihjb250YWluLCBpc0RhcmspOwogICAgICByb3dEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjYTNhM2EzIDgwJSwgcmdiYSgwLDAsMCwwKSlgOwogICAgICByZW5kZXJJdGVtTGlzdChjdXN0b21NZW51c1tuYW1lXSwgaXNEYXJrLCBuYW1lKTsKICAgIH0pOwoKICAgIC8vIFRleHQgJiBJbnB1dAogICAgY29uc3QgbGlzdEl0ZW0gPSBtYWtlSW5wdXQoInRleHQiLCBuYW1lKTsKICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgY29uc3Qgb2xkVmFsdWUgPSBjdXN0b21NZW51c1tuYW1lXTsKICAgICAgZGVsZXRlIGN1c3RvbU1lbnVzW25hbWVdOwogICAgICBjb25zdCBuZXdOYW1lID0gcGF0Y2hOYW1lKGxpc3RJdGVtLnZhbHVlLCBuYW1lc0FycmF5KTsKICAgICAgY3VzdG9tTWVudXNbbmV3TmFtZV0gPSBvbGRWYWx1ZTsKICAgICAgbmFtZXNBcnJheVtuYW1lc0FycmF5LmluZGV4T2YobmFtZSldID0gbmV3TmFtZTsKCiAgICAgIC8vIHJlZnJlc2ggbW9kYWwgKHdpbGwgYnVnIG91dCBpZiBub3QgcmVmcmVzaGVkKQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBwYXJlbnQgPSByb3dEaXYucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgIGZvciAobGV0IGkgPSBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpLS07ICkgcGFyZW50LmNoaWxkTm9kZXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgY3JlYXRlTWVudUxpc3QoT2JqZWN0LmtleXMoY3VzdG9tTWVudXMpLCBwYXJlbnQsIGlzRGFyayk7CiAgICAgIH0sIDUpOwogICAgfSk7CiAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgcGF0Y2hEaXZDb2xvcihjb250YWluLCBpc0RhcmspOwogICAgICByb3dEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjYTNhM2EzIDgwJSwgcmdiYSgwLDAsMCwwKSlgOwogICAgICByZW5kZXJJdGVtTGlzdChjdXN0b21NZW51c1tuYW1lXSwgaXNEYXJrLCBuYW1lKTsKICAgIH0pOwogICAgcm93RGl2LmFwcGVuZChtYWtlTGFiZWwoIk5hbWU6IiksIGxpc3RJdGVtKTsKICAgIHJldHVybiByb3dEaXY7CiAgfQoKICBmdW5jdGlvbiBtYWtlSXRlbVJvdyhpdGVtLCBpbmRleCwgaXNEYXJrLCBjb250YWluLCBuYW1lKSB7CiAgICBjb25zdCByb3dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHJvd0Rpdi5zdHlsZS5oZWlnaHQgPSAiMTclIjsKICAgIGlmIChpbmRleCAlIDIgIT09IDApIHJvd0Rpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJhZGlhbC1ncmFkaWVudChjaXJjbGUsICR7aXNEYXJrID8gIiMzNDM0MzQiIDogIiNEOUQ5RDkifSA4MCUsIHJnYmEoMCwwLDAsMCkpYDsKCiAgICAvLyBEZWxldGUgQnV0dG9uCiAgICBjb25zdCBkZWwgPSBtYWtlQnV0dG9uKGRlbGV0ZVNWRywgImRlbGV0ZSIpOwogICAgcm93RGl2LmFwcGVuZENoaWxkKGRlbCk7CiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIGN1c3RvbU1lbnVzW25hbWVdLml0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHJlbmRlckl0ZW1MaXN0KGN1c3RvbU1lbnVzW25hbWVdLCBpc0RhcmssIG5hbWUpOwogICAgfSk7CgogICAgLy8gVGV4dCAmIElucHV0CiAgICBjb25zdCB0ZXh0ID0gbWFrZUlucHV0KCJ0ZXh0IiwgaXRlbS50ZXh0LCB7IHdpZHRoOiAiNjVweCIgfSk7CiAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsgY3VzdG9tTWVudXNbbmFtZV0uaXRlbXNbaW5kZXhdLnRleHQgPSB0ZXh0LnZhbHVlIH0pOwogICAgY29uc3QgdmFsdWUgPSBtYWtlSW5wdXQoInRleHQiLCBpdGVtLnZhbHVlLCB7IHdpZHRoOiAiNjVweCIgfSk7CiAgICB2YWx1ZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoKSA9PiB7IGN1c3RvbU1lbnVzW25hbWVdLml0ZW1zW2luZGV4XS52YWx1ZSA9IHZhbHVlLnZhbHVlIH0pOwogICAgcm93RGl2LmFwcGVuZChtYWtlTGFiZWwoIlRleHQ6IiksIHRleHQsIG1ha2VMYWJlbCgiVmFsdWU6IiksIHZhbHVlKTsKICAgIHJldHVybiByb3dEaXY7CiAgfQoKICAvLyBJbnRlcm5hbCBHVUkKICBmdW5jdGlvbiBjcmVhdGVNZW51TGlzdChuYW1lc0FycmF5LCBwYXJlbnQsIGlzRGFyaykgewogICAgLy8gSW5uZXIgVGl0bGVzIGFuZCBDb250YWluZXJzCiAgICBjb25zdCB0aXRsZTEgPSBtYWtlVGl0bGUoIkNyZWF0ZWQgRHJvcGRvd25zIiksIHRpdGxlMiA9IG1ha2VUaXRsZSgiSXRlbXMgaW4gRHJvcGRvd24iKTsKICAgIGNvbnN0IGxpc3RDb24gPSBjcmVhdGVDb250YWluKCJtZW51cyIsIGlzRGFyayk7CiAgICBuYW1lc0FycmF5LmZvckVhY2goKG5hbWUpID0+IHsKICAgICAgbGlzdENvbi5hcHBlbmRDaGlsZChtYWtlTWVudU5hbWVSb3cobmFtZSwgbmFtZXNBcnJheSwgaXNEYXJrLCBsaXN0Q29uKSk7CiAgICB9KTsKCiAgICAvLyBBZGQgQnV0dG9uCiAgICBjb25zdCBhZGQgPSBtYWtlQnV0dG9uKGFkZFNWRywgImFkZCIpOwogICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBjb25zdCBuZXdOID0gcGF0Y2hOYW1lKGBuZXctbWVudS0ke25hbWVzQXJyYXkubGVuZ3RoICsgMX1gLCBuYW1lc0FycmF5KTsKICAgICAgY3VzdG9tTWVudXNbbmV3Tl0gPSB7IGl0ZW1zOiBbeyB0ZXh0OiAiZm9vIiwgdmFsdWU6ICJiYXIiIH1dLCBhY2NlcHRSZXBvcnRlcnM6IGZhbHNlIH07CiAgICAgIG5hbWVzQXJyYXkucHVzaChuZXdOKTsKICAgICAgbGlzdENvbi5pbnNlcnRCZWZvcmUobWFrZU1lbnVOYW1lUm93KG5ld04sIG5hbWVzQXJyYXksIGlzRGFyaywgbGlzdENvbiksIGFkZCk7CiAgICAgIHBhdGNoRGl2Q29sb3IobGlzdENvbiwgaXNEYXJrKTsKICAgIH0pOwogICAgbGlzdENvbi5hcHBlbmRDaGlsZChhZGQpOwoKICAgIC8vIE1lbnUgSXRlbXMgQ29udGFpbmVyIChJbml0aWFsbHkgQmxhbmspCiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZUNvbnRhaW4oIml0ZW1zIiwgaXNEYXJrKSwgcGFyZW50LmNoaWxkcmVuWzBdKTsKICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobGlzdENvbiwgcGFyZW50LmNoaWxkcmVuWzBdKTsKICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGl0bGUyLCBwYXJlbnQuY2hpbGRyZW5bMF0pOwogICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aXRsZTEsIHBhcmVudC5jaGlsZHJlblswXSk7CiAgfQoKICBmdW5jdGlvbiByZW5kZXJJdGVtTGlzdChpdGVtcywgaXNEYXJrLCBrZXkpIHsKICAgIGNvbnN0IGl0ZW1Db24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3M9Iml0ZW1zIl1gKTsKICAgIGl0ZW1Db24uaW5uZXJIVE1MID0gIiI7IC8vIGNsZWFuc2UgaXRlbXMKICAgIGl0ZW1zID0gaXRlbXMuaXRlbXM7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSBpdGVtQ29uLmFwcGVuZENoaWxkKG1ha2VJdGVtUm93KGl0ZW1zW2ldLCBpLCBpc0RhcmssIGl0ZW1Db24sIGtleSkpOwoKICAgIC8vIEFkZCBCdXR0b24KICAgIGNvbnN0IGFkZCA9IG1ha2VCdXR0b24oYWRkU1ZHLCAiYWRkSXRlbSIpOwogICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBjdXN0b21NZW51c1trZXldLml0ZW1zLnB1c2goeyB0ZXh0OiAibmV3IGl0ZW0iLCB2YWx1ZTogIm5ldyB2YWx1ZSIgfSk7CiAgICAgIHJlbmRlckl0ZW1MaXN0KGN1c3RvbU1lbnVzW2tleV0sIGlzRGFyaywga2V5KTsKICAgIH0pOwogICAgaXRlbUNvbi5hcHBlbmRDaGlsZChhZGQpOwogIH0KCiAgZnVuY3Rpb24gaW5pdE1lbnVNYWtlcigpIHsKICAgIGV4dFJldm1vdmFibGUgPSBmYWxzZTsKICAgIGNvbnN0IGFsbEJsb2NrcyA9IFNjcmF0Y2hCbG9ja3MubWFpbldvcmtzcGFjZS5ibG9ja0RCXzsgLy8gQ3VzdG9tIEJsb2NrIE1vZGFsIE92ZXJyaWRlcyBCbG9ja0RCCiAgICBTY3JhdGNoQmxvY2tzLlByb2NlZHVyZXMuY3JlYXRlUHJvY2VkdXJlRGVmQ2FsbGJhY2tfKCk7CiAgICBjb25zdCBpc0RhcmsgPSBpc1BNID8gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoInRoZW1lIikgPT09ICJkYXJrIiA6IFJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLnRoZW1lLnRoZW1lLmd1aSA9PT0gImRhcmsiOwoKICAgIC8vIENsZWFuIE1vZGFsCiAgICBjb25zdCBibG9ja1NwYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2NsYXNzXj0iY3VzdG9tLXByb2NlZHVyZXNfd29ya3NwYWNlXyJdYCk7CiAgICBibG9ja1NwYWNlLnJlbW92ZSgpOwogICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtjbGFzcyo9ImN1c3RvbS1wcm9jZWR1cmVzX2JvZHlfIl1gKTsKICAgIGZvciAobGV0IGkgPSBidXR0b25zLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGktLTspIGJ1dHRvbnMucmVtb3ZlQ2hpbGQoYnV0dG9ucy5maXJzdENoaWxkKTsKCiAgICAvLyBOZXcgVGl0bGUKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2NsYXNzKj0ibW9kYWxfaGVhZGVyLWl0ZW0tdGl0bGVfIl1gKTsKICAgIHRpdGxlLnRleHRDb250ZW50ID0gIk1ha2UgYSBEcm9wZG93biI7CgogICAgY3JlYXRlTWVudUxpc3QoT2JqZWN0LmtleXMoY3VzdG9tTWVudXMpLCBidXR0b25zLCBpc0RhcmspOwogICAgZ2hvc3RJbnB1dFJlbW92ZShgW2NsYXNzKj0icmVtb3ZhYmxlVGV4dElucHV0Il1gKTsKCiAgICAvLyBPdmVycmlkZSAiT0siIEJ1dHRvbgogICAgY29uc3Qgb2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3NePSJjdXN0b20tcHJvY2VkdXJlc19vay1idXR0b25fIl1gKTsKICAgIGNvbnN0IGNsb25lZE9rQnRuID0gb2tCdG4uY2xvbmVOb2RlKHRydWUpOwogICAgb2tCdG4ucmVwbGFjZVdpdGgoY2xvbmVkT2tCdG4pOwogICAgY2xvbmVkT2tCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIC8vIEFsbCBNZW51cyBzaG91bGQgSGF2ZSBBdCBsZWFzdCAxIGluIGEgTWVudQogICAgICBmb3IgKGNvbnN0IFtrZXksIG1lbnVdIG9mIE9iamVjdC5lbnRyaWVzKGN1c3RvbU1lbnVzKSkgewogIAlpZiAobWVudS5pdGVtcy5sZW5ndGggPT09IDApIG1lbnUuaXRlbXMgPSBbeyB0ZXh0OiAiZm9vIiwgdmFsdWU6ICJiYXIiIH1dOwogICAgICB9CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtjbGFzc149ImNsb3NlLWJ1dHRvbl9jbG9zZS1idXR0b25fIl1gKS5jbGljaygpOwogICAgICByZWZyZXNoTWFnaWMoKTsKCiAgICAgIC8vIFJlbW92ZSBNZW51IEJsb2NrcyB0aGF0IG5vIExvbmdlciBFeGlzdAogICAgICBjb25zdCBtZW51TmFtZXMgPSBPYmplY3Qua2V5cyhjdXN0b21NZW51cyk7CiAgICAgIGZvciAoY29uc3QgW2tleSwgYmxvY2tdIG9mIE9iamVjdC5lbnRyaWVzKGFsbEJsb2NrcykpIHsKICAgICAgICBpZiAoYmxvY2sudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnVfIikpIHsKICAgICAgICAgIGlmIChtZW51TmFtZXMuaW5kZXhPZihibG9jay50eXBlLnJlcGxhY2UoIlNQMHpNZW51TWFrZXJfbWVudV8iLCAiIikpID09PSAtMSkgYmxvY2suZGlzcG9zZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQoKICAvLyBNZW51IEJsb2NrIENvbG9yIFNldHRlcnMKICBmdW5jdGlvbiB1cGRhdGVNZW51Q29sb3IoaWQsIG1haW5Xb3Jrc3BhY2UsIHRyZWUpIHsKICAgIGNvbnN0IGJsb2NrID0gbWFpbldvcmtzcGFjZS5nZXRCbG9ja0J5SWQoaWQpOwogICAgaWYgKCFibG9jayB8fCAhYmxvY2sudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnUiKSkgewogICAgICBpZiAoYmxvY2sgJiYgdHJlZSAmJiBibG9jay5jaGlsZEJsb2Nrc18pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrLmNoaWxkQmxvY2tzXy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgY2hpbGQgPSBibG9jay5jaGlsZEJsb2Nrc19baV07CiAgICAgICAgICBpZiAoY2hpbGQudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnUiKSkgdXBkYXRlTWVudUNvbG9yKGNoaWxkLmlkLCBtYWluV29ya3NwYWNlLCBmYWxzZSk7CiAgICAgICAgICBlbHNlIGlmIChjaGlsZC5jaGlsZEJsb2Nrc18pIHVwZGF0ZU1lbnVDb2xvcihjaGlsZC5pZCwgbWFpbldvcmtzcGFjZSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IHBhcmVudCA9IGJsb2NrLnBhcmVudEJsb2NrXzsKICAgIGNvbnN0IGJveCA9IGJsb2NrLmlucHV0TGlzdFswXT8uZmllbGRSb3dbMF0/LmJveF87CiAgICBpZiAoIWJveCkgcmV0dXJuOwogICAgaWYgKHBhcmVudCkgewogICAgICBibG9jay5zZXRDb2xvdXIocGFyZW50LmNvbG91cl8sIHBhcmVudC5jb2xvdXJTZWNvbmRhcnlfLCBwYXJlbnQuY29sb3VyVGVydGlhcnlfKTsKICAgICAgYm94LnNldEF0dHJpYnV0ZSgiZmlsbCIsIHBhcmVudC5jb2xvdXJfKTsKICAgICAgYm94LnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgcGFyZW50LmNvbG91clRlcnRpYXJ5Xyk7CiAgICB9IGVsc2UgewogICAgICBibG9jay5zZXRDb2xvdXIoIiMwRkJEOEMiLCAiIzBlYWE3ZSIsICIjMGM5NzcwIik7CiAgICAgIGJveC5zZXRBdHRyaWJ1dGUoImZpbGwiLCAiIzBGQkQ4QyIpOwogICAgICBib3guc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiIzBjOTc3MCIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkgewogICAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICAgIGNvbnN0IG1haW5Xb3Jrc3BhY2UgPSBTQi5tYWluV29ya3NwYWNlOwogICAgICBpZiAoIW1haW5Xb3Jrc3BhY2U/LnJlbmRlcmVkKSByZXR1cm47CiAgICAgIGNvbnN0IHdvcmtzcGFjZUV2ZW50cyA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUudHlwZSA9PSBTQi5FdmVudHMuRU5EX0RSQUcgJiYgT2JqZWN0Lmhhc093bihlLCAiYmxvY2tJZCIpKSB7CiAgICAgICAgICBpZiAobWFpbldvcmtzcGFjZS5pZCA9PT0gZS53b3Jrc3BhY2VJZCkgdXBkYXRlTWVudUNvbG9yKGUuYmxvY2tJZCwgbWFpbldvcmtzcGFjZSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIG1haW5Xb3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIod29ya3NwYWNlRXZlbnRzKTsKICAgICAgY29uc3QgdXBkYXRlQWxsQmxvY2tzID0gKCkgPT4gewogICAgICAgIGZvciAoY29uc3QgW2tleSwgYmxvY2tdIG9mIE9iamVjdC5lbnRyaWVzKG1haW5Xb3Jrc3BhY2UuYmxvY2tEQl8pKSB1cGRhdGVNZW51Q29sb3IoYmxvY2suaWQsIG1haW5Xb3Jrc3BhY2UsIGZhbHNlKTsKICAgICAgfTsKICAgICAgdm0ub24oIndvcmtzcGFjZVVwZGF0ZSIsIHVwZGF0ZUFsbEJsb2Nrcyk7CiAgICAgIHVwZGF0ZUFsbEJsb2NrcygpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHN0YXJ0TGlzdGVuZXJXb3JrZXIoKSB7CiAgICBpZiAodHlwZW9mIFJlZHV4U3RvcmUgPT09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICBjb25zdCBjaGVja0luRWRpdG9yID0gKCkgPT4gIVJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLm1vZGUuaXNQbGF5ZXJPbmx5OwogICAgbGV0IGluRWRpdG9yID0gY2hlY2tJbkVkaXRvcigpOwogICAgaWYgKGluRWRpdG9yKSBhdHRhY2hFdmVudHMoKTsKICAgIFJlZHV4U3RvcmUuc3Vic2NyaWJlKCgpID0+IHsKICAgICAgY29uc3QgY3VycmVudGx5SW5FZGl0b3IgPSBjaGVja0luRWRpdG9yKCk7CiAgICAgIGlmIChpbkVkaXRvciAhPT0gY3VycmVudGx5SW5FZGl0b3IpIHsKICAgICAgICBpbkVkaXRvciA9IGN1cnJlbnRseUluRWRpdG9yOwogICAgICAgIGlmIChpbkVkaXRvcikgYXR0YWNoRXZlbnRzKCk7CiAgICAgIH0KICAgIH0pOwogIH0KICBpZiAodHlwZW9mIHNjYWZmb2xkaW5nID09PSAidW5kZWZpbmVkIikgc3RhcnRMaXN0ZW5lcldvcmtlcigpOwoKICBjbGFzcyBTUDB6TWVudU1ha2VyIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAvKiB1c2VkIGJ5IE15IEJsb2NrcysgKi8KICAgICAgdGhpcy5yZWZyZXNoQ2F0ZWdvcnkgPSByZWZyZXNoTWFnaWM7CiAgICAgIHRoaXMuZ2V0TWVudXMgPSAoKSA9PiBjdXN0b21NZW51czsKICAgICAgdGhpcy5zZXRNZW51cyA9IChtZW51LCB2YWx1ZSkgPT4gewogICAgICAgIGlmIChjdXN0b21NZW51c1ttZW51XSkgY3VzdG9tTWVudXNbbWVudV0uaXRlbXMgPSB2YWx1ZTsKICAgICAgICBlbHNlIGN1c3RvbU1lbnVzW21lbnVdID0geyBpdGVtczogdmFsdWUsIGFjY2VwdFJlcG9ydGVyczogZmFsc2UgfTsKICAgICAgfQoKICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7IC8vIFRvIGF2b2lkIHNsb3cgd3JpdGVzIGV2ZXJ5IHRpbWUgYSBtZW51IGlzIGNoYW5nZWQKICAgICAgY29uc3Qgb2xkVG9KU09OID0gdm0uY29uc3RydWN0b3IucHJvdG90eXBlLnRvSlNPTjsKICAgICAgdm0uY29uc3RydWN0b3IucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICguLi5hcmdzKSB7CiAgICAgICAgaWYgKGV4dFJldm1vdmFibGUpIHJldHVybiBvbGRUb0pTT04uYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgaWYgKCFpc1BNKSBydW50aW1lLmV4dGVuc2lvblN0b3JhZ2UuU1Awek1lbnVNYWtlciA9IHNlbGYuc2VyaWFsaXplKCkuU1Awek1lbnVNYWtlcjsKCiAgICAgICAgLy8gTWFrZSB0aGUgZXh0ZW5zaW9uIHN0YXkgYnkgYWRkaW5nIGEgZHVtbXkgYmxvY2sKICAgICAgICBjb25zdCBibG9ja3MgPSBydW50aW1lLnRhcmdldHNbMF0uYmxvY2tzOwogICAgICAgIGJsb2Nrcy5fYmxvY2tzW1RFTVBfQkxPQ0tfT1BDT0RFXSA9IHsKICAgICAgICAgIG9wY29kZTogVEVNUF9CTE9DS19PUENPREUsIGlkOiBURU1QX0JMT0NLX09QQ09ERSwgZmllbGRzOiB7fSwKICAgICAgICAgIG5leHQ6IG51bGwsIHBhcmVudDogbnVsbCwgc2hhZG93OiBmYWxzZSwgdG9MZXZlbDogdHJ1ZSwKICAgICAgICAgIHg6IHVuZGVmaW5lZCwgeTogdW5kZWZpbmVkCiAgICAgICAgfQogICAgICAgIGNvbnN0IGpzb25TdHIgPSBvbGRUb0pTT04uYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgLy8gQmxvY2sgSURzIG1heSBoYXZlIGJlZW4gY29tcHJlc3NlZCBhdCB0aGlzIHBvaW50CiAgICAgICAgY29uc3QgdGVtcEJsb2NrSWQgPSBPYmplY3QudmFsdWVzKGJsb2Nrcy5fYmxvY2tzKS5maW5kKG8gPT4gby5vcGNvZGUgPT09IFRFTVBfQkxPQ0tfT1BDT0RFKT8uaWQ7CiAgICAgICAgaWYgKHRlbXBCbG9ja0lkKSBkZWxldGUgYmxvY2tzLl9ibG9ja3NbdGVtcEJsb2NrSWRdOwogICAgICAgIHJldHVybiBqc29uU3RyOwogICAgICB9OwoKICAgICAgY29uc3Qgb2xkaW5zdGFsbFRhcmdldHMgPSB2bS5pbnN0YWxsVGFyZ2V0czsKICAgICAgdm0uaW5zdGFsbFRhcmdldHMgPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgICAgIC8vIFJlbW92ZSB0aGUgZHVtbXkgYmxvY2sKICAgICAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdWzBdKSB7CiAgICAgICAgICBjb25zdCB0ZW1wQmxvY2tJZCA9IE9iamVjdC52YWx1ZXMoYXJnc1swXVswXS5ibG9ja3MuX2Jsb2NrcykuZmluZChvID0+IG8ub3Bjb2RlID09PSBURU1QX0JMT0NLX09QQ09ERSk/LmlkOwogICAgICAgICAgaWYgKHRlbXBCbG9ja0lkKSBkZWxldGUgYXJnc1swXVswXS5ibG9ja3MuX2Jsb2Nrc1t0ZW1wQmxvY2tJZF07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvbGRpbnN0YWxsVGFyZ2V0cy5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgfTsKCiAgICAgIC8vIExvYWQgdGhlIG1lbnVzCiAgICAgIHRoaXMucmVmcmVzaFN0b3JhZ2UoKTsKICAgICAgdm0ucnVudGltZS5vbigiUFJPSkVDVF9MT0FERUQiLCAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVmcmVzaFdvcmtzcGFjZSA9IHZtLnJlZnJlc2hXb3Jrc3BhY2U7CiAgICAgICAgdm0ucmVmcmVzaFdvcmtzcGFjZSA9ICgpID0+IHt9OwogICAgICAgIHRoaXMucmVmcmVzaFN0b3JhZ2UoKTsKICAgICAgICB2bS5leHRlbnNpb25NYW5hZ2VyLnJlZnJlc2hCbG9ja3MoIlNQMHpNZW51TWFrZXIiKTsKICAgICAgICB2bS5yZWZyZXNoV29ya3NwYWNlID0gcmVmcmVzaFdvcmtzcGFjZTsKICAgICAgICB2bS5vbmNlKCJCRUZPUkVfRVhFQ1VURSIsICgpID0+IHZtLnJlZnJlc2hXb3Jrc3BhY2UoKSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJlZnJlc2hTdG9yYWdlKCkgeyAvLyBUdXJib1dhcnAgc3VwcG9ydAogICAgICBpZiAoIWlzUE0pIHRoaXMuZGVzZXJpYWxpemUocnVudGltZS5leHRlbnNpb25TdG9yYWdlKTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIC8vIFVzZWQgdG8gTG9hZCB0aGUgTWVudXMKICAgICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoKSB7CiAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSBmYWxzZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlZnJlc2hNYWdpYygpLCAwKTsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiU1Awek1lbnVNYWtlciIsCiAgICAgICAgbmFtZTogIkRyb3Bkb3duIE1ha2VyIiwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBibG9ja3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgZnVuYzogIm1ha2VNZW51IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CVVRUT04sCiAgICAgICAgICAgIHRleHQ6ICJPcGVuIE1lbnUgRWRpdG9yIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgZnVuYzogInJlbW92ZUV4dCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQlVUVE9OLAogICAgICAgICAgICB0ZXh0OiAiUmVtb3ZlIHRoaXMgRXh0ZW5zaW9uIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiaW1wb3J0TWVudXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJpbXBvcnQgY3VzdG9tIGRyb3Bkb3duIEpTT04gW01FTlVTXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE1FTlVTOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyAibXlNZW51LTEiOiB7ICJpdGVtcyI6IFt7ICJ0ZXh0IjogIm9uZSIsICJ2YWx1ZSI6ICIxIiB9XSB9IH1gIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZXhwb3J0TWVudXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiY3VzdG9tIGRyb3Bkb3ducyBKU09OIgogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogIk15IE1lbnVzIiB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlhNTCwgeG1sOiBtZW51c1hNTCB9CiAgICAgICAgXSwKICAgICAgICBtZW51czogY3VzdG9tTWVudXMsCiAgICAgIH07CiAgICB9CgogICAgbWFrZU1lbnUoKSB7IGluaXRNZW51TWFrZXIoKSB9CgogICAgcmVtb3ZlRXh0KCkgewogICAgICBleHRSZXZtb3ZhYmxlID0gdHJ1ZTsKICAgICAgY29uc3QgZGVsZXRlQmxvY2sgPSAodGFyZ2V0LCBibG9ja0lkKSA9PiB7CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdm0uZWRpdGluZ1RhcmdldCAmJiBTY3JhdGNoLmd1aSkgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gU0IuZ2V0TWFpbldvcmtzcGFjZSgpLmdldEJsb2NrQnlJZChibG9ja0lkKT8uZGlzcG9zZSh0cnVlLCBmYWxzZSkpOwogICAgICAgIGVsc2UgdGFyZ2V0LmJsb2Nrcy5kZWxldGVCbG9jayhibG9ja0lkKTsKICAgICAgfTsKICAgICAgY3VzdG9tTWVudXMgPSB7fTsKICAgICAgbWVudXNYTUwgPSBgPGxhYmVsIHRleHQ9IlRyeSBjcmVhdGluZyBzb21lIG1lbnVzISIgLz5gOwogICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBydW50aW1lLnRhcmdldHMpIHsKICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIE9iamVjdC52YWx1ZXModGFyZ2V0LmJsb2Nrcy5fYmxvY2tzKSkgewogICAgICAgICAgaWYgKGJsb2NrLm9wY29kZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyXyIpKSBkZWxldGVCbG9jayh0YXJnZXQsIGJsb2NrLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdm0uZXh0ZW5zaW9uTWFuYWdlci5yZWZyZXNoQmxvY2tzKCJTUDB6TWVudU1ha2VyIik7CiAgICAgIGFsZXJ0KCJTYXZlIGFuZCByZWxvYWQgdGhlIHByb2plY3QgZm9yIHRoZSBleHRlbnNpb24gdG8gZnVsbHkgYmUgcmVtb3ZlZC4iKTsKICAgIH0KCiAgICBpbXBvcnRNZW51cyhhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWVudXMgPSBKU09OLnBhcnNlKGFyZ3MuTUVOVVMpOwogICAgICAgIGlmICh0eXBlb2YgbWVudXMgIT09ICJvYmplY3QiIHx8IG1lbnVzID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkobWVudXMpKSByZXR1cm4gYWxlcnQoIkltcG9ydGVkIEpTT04gTXVzdCBiZSBhbiBPYmplY3QiKTsKICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZW51cykgewogICAgICAgICAgaWYgKGhhc093bihtZW51cywga2V5KSkgewogICAgICAgICAgICBjb25zdCBpbm5lck9iamVjdCA9IG1lbnVzW2tleV07CiAgICAgICAgICAgIGlmICghaGFzT3duKGlubmVyT2JqZWN0LCAiaXRlbXMiKSkgcmV0dXJuIGFsZXJ0KGAke2tleX0gTWVudSBOZWVkcyBhbiAiaXRlbXMiIEtleWApOwogICAgICAgICAgICBmb3IgKGNvbnN0IGlubmVyS2V5IGluIGlubmVyT2JqZWN0KSB7CiAgICAgICAgICAgICAgaWYgKGhhc093bihpbm5lck9iamVjdCwgaW5uZXJLZXkpICYmIGlubmVyS2V5ICE9PSAiaXRlbXMiKSBkZWxldGUgaW5uZXJPYmplY3RbaW5uZXJLZXldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1lbnVzW2tleV0uYWNjZXB0UmVwb3J0ZXJzID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gaW5uZXJPYmplY3QuaXRlbXM7CiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHJldHVybiBhbGVydChgIml0ZW1zIiBrZXkgaW4gJHtrZXl9IE1lbnUgTXVzdCBiZSBhbiBBcnJheWApOwogICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gYWxlcnQoYCJpdGVtcyIga2V5IGluICR7a2V5fSBNZW51IE11c3QgaGF2ZSBhdCBMZWFzdCAxIEl0ZW1gKTsKICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtICE9PSAib2JqZWN0IiB8fCBpdGVtID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoaXRlbSkpIHJldHVybiBhbGVydChgaXRlbXMgaW4gIml0ZW1zIiBrZXkgaW4gJHtrZXl9IE1lbnUgTXVzdCBiZSBPYmplY3RzYCk7CiAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGl0ZW0pOwogICAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMiB8fCAha2V5cy5pbmNsdWRlcygidGV4dCIpIHx8ICFrZXlzLmluY2x1ZGVzKCJ2YWx1ZSIpKSByZXR1cm4gYWxlcnQoYGl0ZW1zIGluICJpdGVtcyIga2V5IGluICR7a2V5fSBNZW51IE11c3QgaGF2ZSAyIGtleXMsICJ0ZXh0IiBhbmQgInZhbHVlImApOwogICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS50ZXh0ICE9PSAic3RyaW5nIiB8fCB0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInN0cmluZyIpIHJldHVybiBhbGVydChgIml0ZW0iIHZhbHVlcyBpbiAke2tleX0gTWVudSBNdXN0IGJlIFN0cmluZ3NgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjdXN0b21NZW51cyA9IG1lbnVzOwogICAgICAgIHJlZnJlc2hNYWdpYygpOwogICAgICAgIGlmICh0eXBlb2Ygc2NhZmZvbGRpbmcgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAvLyBSZW1vdmUgTWVudSBCbG9ja3MgdGhhdCBubyBMb25nZXIgRXhpc3QKICAgICAgICAgIGNvbnN0IGFsbEJsb2NrcyA9IFNjcmF0Y2hCbG9ja3MubWFpbldvcmtzcGFjZS5ibG9ja0RCXzsKICAgICAgICAgIGNvbnN0IG1lbnVOYW1lcyA9IE9iamVjdC5rZXlzKGN1c3RvbU1lbnVzKTsKICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgYmxvY2tdIG9mIE9iamVjdC5lbnRyaWVzKGFsbEJsb2NrcykpIHsKICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUuc3RhcnRzV2l0aCgiU1Awek1lbnVNYWtlcl9tZW51XyIpKSB7CiAgICAgICAgICAgICAgaWYgKG1lbnVOYW1lcy5pbmRleE9mKGJsb2NrLnR5cGUucmVwbGFjZSgiU1Awek1lbnVNYWtlcl9tZW51XyIsICIiKSkgPT09IC0xKSBibG9jay5kaXNwb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggeyBhbGVydCgiQ291bGRudCBQYXJzZSBJbXBvcnRlZCBDdXN0b20gTWVudSBKU09OIikgfQogICAgfQoKICAgIGV4cG9ydE1lbnVzKCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY3VzdG9tTWVudXMpIH0KCiAgICAvLyBQZW5ndWluTW9kICsgSW50ZXJtZWRpYXJ5VFcgU3RvcmFnZQogICAgc2VyaWFsaXplKCkgeyByZXR1cm4geyBTUDB6TWVudU1ha2VyIDogeyBtZW51cyA6IGN1c3RvbU1lbnVzIH0gfSB9CiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7CiAgICAgIGlmIChkYXRhLlNQMHpNZW51TWFrZXIgIT09IHVuZGVmaW5lZCkgY3VzdG9tTWVudXMgPSBkYXRhLlNQMHpNZW51TWFrZXIubWVudXM7CiAgICAgIGVsc2Ugc3RhcnRMaXN0ZW5lcldvcmtlcigpOwogICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRydWU7CiAgICB9CiAgfQogIFNjcmF0Y2guZXh0ZW5zaW9ucy5yZWdpc3RlcigoZXh0ZW5zaW9uSW5zdGFuY2UgPSBuZXcgU1Awek1lbnVNYWtlcigpKSk7CiAgaWYgKGlzUE0gJiYgdHlwZW9mIHNjYWZmb2xkaW5nID09PSAidW5kZWZpbmVkIikgewogICAgcmVmcmVzaE1hZ2ljKCk7CiAgICBzdGFydExpc3RlbmVyV29ya2VyKCk7CiAgfQogIHJ1bnRpbWUuZXh0X1NQMHpNZW51TWFrZXIgPSBleHRlbnNpb25JbnN0YW5jZTsKfSkoU2NyYXRjaCk7Cg==","SPmbpCST":"data:text/javascript;base64,Ly8gTmFtZTogTXkgQmxvY2tzKwovLyBJRDogU1BtYnBDU1QKLy8gRGVzY3JpcHRpb246IENyZWF0ZSBCZXR0ZXIgQ3VzdG9tIEJsb2NrcwovLyBCeTogU2hhcmtQb29sCi8vIEJ5OiBDU1QxMjI5IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy9DU1QxMjI5Lz4KLy8gQnk6IDB6bnp3IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy8wem56dy8+Ci8vIExpY2Vuc2U6IE1JVAoKLy8gVmVyc2lvbiBWLjEuMi4zNAoKKGZ1bmN0aW9uKFNjcmF0Y2gpIHsKICAidXNlIHN0cmljdCI7CiAgaWYgKCFTY3JhdGNoLmV4dGVuc2lvbnMudW5zYW5kYm94ZWQpIHRocm93IG5ldyBFcnJvcigiTXkgQmxvY2tzKyBtdXN0IHJ1biB1bnNhbmRib3hlZCEiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQogICAgImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJME55NDVORGdpSUdobGFXZG9kRDBpTkRjdU9UUTRJaUIyYVdWM1FtOTRQU0l3SURBZ05EY3VPVFE0SURRM0xqazBPQ0krUEhCaGRHZ2daRDBpVFRBZ01qTXVPVGMwUXpBZ01UQXVOek0wSURFd0xqY3pNeUF3SURJekxqazNOQ0F3Y3pJekxqazNOQ0F4TUM0M016TWdNak11T1RjMElESXpMamszTkMweE1DNDNNek1nTWpNdU9UYzBMVEl6TGprM05DQXlNeTQ1TnpSVE1DQXpOeTR5TVRVZ01DQXlNeTQ1TnpRaUlHWnBiR3c5SWlOall6VXlOallpTHo0OGNHRjBhQ0JrUFNKTk1pNHlNVEVnTWpNdU9UYzBZekF0TVRJdU1ESWdPUzQzTkRRdE1qRXVOell6SURJeExqYzJNeTB5TVM0M05qTnpNakV1TnpZeklEa3VOelEwSURJeExqYzJNeUF5TVM0M05qTXRPUzQzTkRRZ01qRXVOell6TFRJeExqYzJNeUF5TVM0M05qTlRNaTR5TVRFZ016VXVPVGt6SURJdU1qRXhJREl6TGprM05DSWdabWxzYkQwaUkyWm1Oalk0TUNJdlBqeHdZWFJvSUdROUlrMHpPUzR4TlRJZ01UUXVORFUxZGpFNUxqQXpPR0V4TGpFeUlERXVNVElnTUNBd0lERXRMalkxSURFdU1ERTViQzB4TkM0MU5UZ2dOaTQzTVRsaE1TNHhNaUF4TGpFeUlEQWdNQ0F4TFM0NU5DQXdiQzB4TkM0MU5UZ3ROaTQzTW1FeExqRXlJREV1TVRJZ01DQXdJREV0TGpZMUxURXVNREU0VmpFMExqUTFOR0V4TGpFeUlERXVNVElnTUNBd0lERWdMalkxTFRFdU1ERTViREUwTGpVMU9DMDJMamN4T1dFeExqRXlJREV1TVRJZ01DQXdJREVnTGprMElEQnNNVFF1TlRVNElEWXVOekpqTGpNNU55NHhPRE11TmpVeExqVTRMalkxSURFdU1ERTRiUzB5Tnk0MU5pQXdJREV4TGpnNE1pQTFMalE0T0NBeE1TNDRPREl0TlM0ME9EZ3RNVEV1T0RneUxUVXVORGczZW0wdE1TNDFOVFlnTVRndU16SXhJREV5TGpNeE9DQTFMalk0T1ZZeU1TNDRPV3d0TVRJdU16RTRMVFV1TmpnNWVtMHlOaTQ0TnpZZ01GWXhOaTR5TURGc0xURXlMak14T0NBMUxqWTVkakUyTGpVM00zb2lJR1pwYkd3OUlpTm1abVlpTHo0OGNHRjBhQ0JrUFNKTk16SXVNelEySURNMkxqRTJPWFl0TWk0Mk56aG9MVEl1TmpjNFl5MHhMak0yTlNBd0xUSXVORGN5TFM0NU5UTXRNaTQwTnpJdE1pNHhNamh6TVM0eE1EY3RNaTR4TWpnZ01pNDBOekl0TWk0eE1qaG9NaTQyTnpoMkxUSXVOamM0WXpBdE1TNHpOalV1T1RVekxUSXVORGN5SURJdU1USTRMVEl1TkRjeWN6SXVNVEk0SURFdU1UQTNJREl1TVRJNElESXVORGN5ZGpJdU5qYzRhREl1TmpjNFl6RXVNelkxSURBZ01pNDBOekl1T1RVeUlESXVORGN5SURJdU1USTRJREFnTVM0eE56VXRNUzR4TURjZ01pNHhNamd0TWk0ME56SWdNaTR4TWpob0xUSXVOamM0ZGpJdU5qYzRZekFnTVM0ek5qVXRMamsxTXlBeUxqUTNNaTB5TGpFeU9DQXlMalEzTW5NdE1pNHhNamd0TVM0eE1EY3RNaTR4TWpndE1pNDBOeko2SWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVOUlpTm1aalkyT0RBaUlITjBjbTlyWlMxM2FXUjBhRDBpTkNJdlBqeHdZWFJvSUdROUlrMHpNaTR6TkRZZ016WXVNVFk1ZGkweUxqWTNPR2d0TWk0Mk56aGpMVEV1TXpZMUlEQXRNaTQwTnpJdExqazFNeTB5TGpRM01pMHlMakV5T0hNeExqRXdOeTB5TGpFeU9TQXlMalEzTWkweUxqRXlPV2d5TGpZM09IWXRNaTQyTnpkak1DMHhMak0yTlM0NU5UTXRNaTQwTnpJZ01pNHhNamd0TWk0ME56SnpNaTR4TWpnZ01TNHhNRGNnTWk0eE1qZ2dNaTQwTnpKMk1pNDJOemRvTWk0Mk56aGpNUzR6TmpVZ01DQXlMalEzTWk0NU5UTWdNaTQwTnpJZ01pNHhNamtnTUNBeExqRTNOUzB4TGpFd055QXlMakV5T0MweUxqUTNNaUF5TGpFeU9HZ3RNaTQyTnpoMk1pNDJOemhqTUNBeExqTTJOUzB1T1RVeUlESXVORGN5TFRJdU1USTRJREl1TkRjeUxURXVNVGMxSURBdE1pNHhNamd0TVM0eE1EY3RNaTR4TWpndE1pNDBOeklpSUdacGJHdzlJaU5tWm1ZaUx6NDhMM04yWno0PSI7CgogIGNvbnN0IGd1aVVSSXMgPSAobmFtZSkgPT4gewogICAgY29uc3Qgc3RhcnQgPSAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0kiOwogICAgcmV0dXJuIHN0YXJ0ICsgewogICAgICAiZHJvcGR3biI6ICIxTnlJZ2FHVnBaMmgwUFNJME9TSWdkbWxsZDBKdmVEMGlNQ0F3SURVM0lEUTVJajQ4WnlCemRISnZhMlV0YldsMFpYSnNhVzFwZEQwaU1UQWlQanh3WVhSb0lHUTlJazAwTGpVZ05EZ3VOV0UwSURRZ01DQXdJREV0TkMwMGRpMDBNR0UwSURRZ01DQXdJREVnTkMwMGFEUTRZVFFnTkNBd0lEQWdNU0EwSURSMk5EQmhOQ0EwSURBZ01DQXhMVFFnTkhvaUlHWnBiR3c5SWlObVpqWTJPREFpSUhOMGNtOXJaVDBpSTJZek5TSXZQanh3WVhSb0lHUTlJazB4TWk0eE1qTWdNemt1T0ROakxURXVOVEEzSURBdE1pNDNNeTB4TGpFME5DMHlMamN6TFRJdU5UVTFkaTB5TlM0MU5XTXdMVEV1TkRFeElERXVNakl6TFRJdU5UVTFJREl1TnpNdE1pNDFOVFZvTXpJdU56VTBZekV1TlRBM0lEQWdNaTQzTXlBeExqRTBOQ0F5TGpjeklESXVOVFUxZGpJMUxqVTFZekFnTVM0ME1URXRNUzR5TWpNZ01pNDFOVFV0TWk0M015QXlMalUxTlhvaUlHWnBiR3c5SWlObVpqUmtObUVpSUhOMGNtOXJaVDBpSTJZek5TSXZQanh3WVhSb0lHUTlJazB6Tmk0d09EUWdNakl1TVRZM1lUSXVPRGdnTWk0NE9DQXdJREFnTVMwdU9EUTRJREl1TURVemJDMDBMalkzTnlBMExqWTNOMkV5TGpreU5DQXlMamt5TkNBd0lEQWdNUzAwTGpFeE9DQXdiQzAwTGpZMk5TMDBMalkzTjJFeUxqa2dNaTQ1SURBZ01DQXhMUzQ0TmkweUxqQTFNeUF5TGprMklESXVPVFlnTUNBd0lERWdMamcwT0MweUxqQTJOR011TXpRMkxTNHlPRGN1T0RVNUxTNDRORGdnTmk0M05ESXRMamcwT0hNMkxqUXpNaTQxTlNBMkxqY3pMamcwT0dNdU5UUTJMalUwT0M0NE5TQXhMakk1TGpnME9DQXlMakEyTkNJZ1ptbHNiRDBpSTJZek5TSXZQanh3WVhSb0lHUTlJazB5T0M0MU1EWWdNamd1TlRVeFlURXVOeUF4TGpjZ01DQXdJREV0TVM0eE9UTXRMalZzTFRRdU56QXlMVFF1TmpjNVlURXVOeklnTVM0M01pQXdJREFnTVNBd0xUSXVNemcyWXk0Mk5qZ3RMalkyT1NBeE1TNHhNUzB1TmpZNUlERXhMamMzT0NBd0lDNDJORE11TmpZMUxqWTBNeUF4TGpjeUlEQWdNaTR6T0Rac0xUUXVOamM0SURRdU5qYzRZeTB1TXpJdU16SXRMamMxTXk0MUxURXVNakExTGpVd01TSWdabWxzYkQwaUkyWm1aaUl2UGp3dlp6NDhMM04yWno0PSIsCiAgICAgICJjb2xvclBrciI6ICJ5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbWxsZDBKdmVEMGlMVElnTFRNZ01qQWdNakFpUGp4d1lYUm9JR1E5SWsweE1TNHdOalFnTlM0MU5qSWdPUzQwTURrZ015NDVNRGhzTFRNdU9UUWdNeTQ1TW1NdExqRXlMakV6TnkwdU1qQTFMakkzTkMwdU1qUXVOREV0TGpFNE55NDROVEl0TGpneE9DQXhMalV0TVM0MU1UY2dNUzQzTWpKaE1TQXhJREFnTUNBd0xTNDFPQzQxTVRGc0xTNDRNellnTVM0M09XTXRMakExTVM0eE1pMHVNRFV4TGpFNE9DMHVNRFV4TGpJd05Xd3VNamN6TGpJMU5XRXVOaTQySURBZ01DQXdJQzR4T0RjdExqQTFiREV1TnpjMExTNDRNelpqTGpJMExTNHhNaTQwTmkwdU16VTRMalV6TFM0MU9DNHlNRFF0TGpZNU9TNDROeTB4TGpNeklERXVOVFk0TFRFdU5EZ3pMakkzTXkwdU1EWTRMalF5TnkwdU1UVXpMalUwTmkwdU1qbDZiVEl1TURNdE1TNDNPUzR4TXpZdU1UTTJMalU0TGpVNFlTNDRPRFF1T0RnMElEQWdNQ0F4SURBZ01TNHlORFJzTFM0Mk5qVXVOalE0WVM0NE5EY3VPRFEzSURBZ01DQXhMVEV1TVRZdU1EWTRiQzB6TGprMU9DQXpMamt6T0dFeUxqQTNJREl1TURjZ01DQXdJREV0TVM0d01EWXVOVGszWXkwdU5ERXVNRGcxTFM0M01UWXVNemMxTFM0M09EVXVOalEzTFM0eE55NDFOak10TGpZME9DQXhMakE1TVMweExqSXhJREV1TXpZMGJDMHhMamM1TWk0NE16WmpMUzR5TXprdU1UQXlMUzQwT1RVdU1UY3RMamN4Tmk0eE4yRXhMaklnTVM0eUlEQWdNQ0F4TFM0NE55MHVNelJzTFM0ek5ERXRMak0wTW1NdExqTTNOaTB1TXpreUxTNDBORFF0TVM0d01EWXRMakUzTVMweExqWXdNbXd1T0RNMkxURXVOemN6WXk0eU5UWXRMalUyTXk0NE1ESXRNUzR3TkNBeExqTTJOQzB4TGpJeExqSTNNeTB1TURnMkxqVTJNeTB1TXpjMkxqWXhOUzB1TmpNeExqRXhPUzB1TlRFeUxqTXlOQzB1T0RjdU5qRTBMVEV1TVRjM2JETXVPVFUzTFRNdU9UTTNZeTB1TWprdExqTTBNUzB1TWpjekxTNDRNell1TURVeExURXVNVGMzYkM0Mk5qVXRMalkwT0dFdU9EZzJMamc0TmlBd0lEQWdNU0F4TGpJME5pQXdiQzQxTkRZdU5UUTJMakUzTGpFM1RERXlMalk0TkM0ek9UWmhNUzR6TXlBeExqTXpJREFnTUNBeElERXVPRGswSURCakxqSTFOaTR5TlRZdU16a3lMalU1Tnk0ek9USXVPVE00Y3kwdU1UTTJMalk1T1MwdU16a3lMamsxTlhvaUlHWnBiR3c5SW01dmJtVWlJSE4wY205clpTMXZjR0ZqYVhSNVBTSXVNalVpSUhOMGNtOXJaVDBpSXpBd01DSWdjM1J5YjJ0bExYZHBaSFJvUFNJeklpOCtQSEJoZEdnZ1pEMGlUVEV4TGpBMk5DQTFMalUyTWlBNUxqUXdPU0F6TGprd09Hd3RNeTQ1TkNBekxqa3lZeTB1TVRJdU1UTTNMUzR5TURVdU1qYzBMUzR5TkM0ME1TMHVNVGczTGpnMU1pMHVPREU0SURFdU5TMHhMalV4TnlBeExqY3lNbUV4SURFZ01DQXdJREF0TGpVNExqVXhNV3d0TGpnek5pQXhMamM1WXkwdU1EVXhMakV5TFM0d05URXVNVGc0TFM0d05URXVNakExYkM0eU56TXVNalUxWVM0MkxqWWdNQ0F3SURBZ0xqRTROeTB1TURWc01TNDNOelF0TGpnek5tTXVNalF0TGpFeUxqUTJMUzR6TlRndU5UTXRMalU0TGpJd05DMHVOams1TGpnM0xURXVNek1nTVM0MU5qa3RNUzQwT0RNdU1qY3lMUzR3TmpndU5ESTJMUzR4TlRNdU5UUTFMUzR5T1hwdE1pNHdNeTB4TGpjNUxqRXpOaTR4TXpZdU5UZ3VOVGhoTGpnNE5DNDRPRFFnTUNBd0lERWdNQ0F4TGpJME5Hd3RMalkyTlM0Mk5EaGhMamcwTnk0NE5EY2dNQ0F3SURFdE1TNHhOaTR3Tmpoc0xUTXVPVFU0SURNdU9UTTRZVEl1TURjZ01pNHdOeUF3SURBZ01TMHhMakF3Tmk0MU9UZGpMUzQwTVM0d09EVXRMamN4Tmk0ek56VXRMamM0TlM0Mk5EY3RMakUzTGpVMk15MHVOalE0SURFdU1Ea3hMVEV1TWpFZ01TNHpOalJzTFRFdU56a3lMamd6Tm1NdExqSXpPUzR4TURJdExqUTVOUzR4TnkwdU56RTJMakUzWVRFdU1pQXhMaklnTUNBd0lERXRMamczTFM0ek5ERnNMUzR6TkRFdExqTTBZeTB1TXpjMkxTNHpPVE10TGpRME5DMHhMakF3TnkwdU1UY3hMVEV1TmpBemJDNDRNell0TVM0M056TmpMakkxTmkwdU5UWXpMamd3TWkweExqQTBJREV1TXpZMExURXVNakV1TWpjekxTNHdPRFl1TlRZekxTNHpOell1TmpFMUxTNDJNekV1TVRFNUxTNDFNVEl1TXpJMExTNDROeTQyTVRRdE1TNHhOemRzTXk0NU5UY3RNeTQ1TXpoakxTNHlPUzB1TXpRdExqSTNNeTB1T0RNMUxqQTFNUzB4TGpFM05td3VOalkyTFM0Mk5EaGhMamc0Tmk0NE9EWWdNQ0F3SURFZ01TNHlORFVnTUd3dU5UUTJMalUwTmk0eE55NHhOMHd4TWk0Mk9EUXVNemsyWVRFdU16TWdNUzR6TXlBd0lEQWdNU0F4TGpnNU5DQXdZeTR5TlRZdU1qVTJMak01TWk0MU9UY3VNemt5TGprek9ITXRMakV6Tmk0Mk9Ua3RMak01TWk0NU5UVjZJaUJtYVd4c1BTSWpabVptSWk4K1BDOXpkbWMrIiwKICAgICAgImJyYW5jaFN0YXJ0IjogInlNQzR6T1RraUlHaGxhV2RvZEQwaU1qRXVOREl5SWlCMmFXVjNRbTk0UFNJd0lEQWdNakF1TXprNUlESXhMalF5TWlJK1BIQmhkR2dnWkQwaVRURXpMalkxSURFMkxqYzBObU10TGpZMU5TMHVNamd0TVMwdU9TMHhMVEV1TlhZdE1TNDJZeTB4TGpNdExqRXRNaTQxTFM0MUxUTXVOaTB4TGpGc0xTNHhORFl0TGpBM09HTXVNRFUwTGpZME5pNHdPRGNnTVM0d09DNHdPVFlnTVM0eU1EUm9NUzQyWXk0MklEQWdNUzR5TVRndU16UWdNUzQxSURGekxqQTVOaUF4TGpFNE5pMHVNeUF4TGpoakxTNHdOak11TURrNExUUXVOU0EwTGpVdE5DNDFJRFF1TlMwdU55NDJMVEV1Tnk0MkxUSXVOQ0F3YkMwMExqUXROQzQwWXkwdU15MHVNeTB1TlMwdU9DMHVOUzB4TGpJZ01DMHhJQzQ0TFRFdU55QXhMamN0TVM0M2FERXVOV013TFM0eE9ETXVNalU0TFRNdU9UZ3pMalE0TFRjdU5ERTJMakV5TXkweExqa3dPQzR5TXpVdE15NDNOekl1TWpnMUxUUXVOelk1TGpBeE15MHVNRFkyTGpBekxTNHlNREV1TURVeUxTNHlOalF1TVRZMExTNDNNRFl1T0RJeUxURXVNakVnTVM0Mk55MHhMakl4TGpnNExTNHhNaklnTVM0NE9ERXVOakUwSURFdU9TQXhMalkwY1M0d01qSXVNRFF5TGpBeU9DNHdOalZqTGpFMk5TNDROVFl1TXpJZ01TNDROVE11TkRZeUlESXVPUzR5Tnk0MU1EY3VOalE0TGprNE15NDVPREVnTVM0ME1qZ3VPQ0F4TGpFZ01pNHhPVEVnTVM0NElETXVOVGt4SURFdU9IWXRNUzQxWXpBdExqa3VOeTB4TGpjZ01TNDNMVEV1Tnk0MElEQWdMamt1TWlBeExqSXVOV3cwTGpRZ05DNDBZeTQyTGpjdU5pQXhMamNnTUNBeUxqUnNMVFF1TlNBMExqVnpMVEV1TVRRMUxqVTRMVEV1T0M0eklpQm1hV3hzTFc5d1lXTnBkSGs5SWk0eUlpOCtQSEJoZEdnZ1pEMGlUVFF1TmpZNUlESXVNRGM1UXpRdU5UZzFJREV1TkRneUlEVXVNRGszTGprd05TQTFMamd3Tnk0NU1EWmpMalU1TmkwdU1EZzBJREV1TWpjMkxqUXlPQ0F4TGpJM05TQXhMakV6T0NBd0lDNHdNVE11TVRFMElERXVNRFkzTGpJMklESXVOVGd6WVRjZ055QXdJREFnTUNBdU9USTFJREV1TnpjeFl5NDJMamtnTVM0MU9USWdNUzQySURJdU5qa3lJRElnTGprdU15QXhMamd1TkNBeUxqZ3VNbll0TWk0MFl6QXRMalF1TXkwdU55NDNMUzQzTGpJZ01DQXVNeTR4TGpRdU1tdzBMalFnTkM0MFl5NHpMak11TXk0M0lEQWdMamxzTFRRdU5DQTBMalJqTFM0ekxqTXRMalExT0M0ME16RXRMamd6TWk0ek5qbHpMUzR6TmpndExqVTJPUzB1TXpZNExTNDFOamwyTFRJdU5tTXRNUzQxSURBdE1pNDVMUzR6TFRRdU1pMHhZVGd1TXlBNExqTWdNQ0F3SURFdE1TNDFOeTB4TGpBeU5HTXVNVFV4SURJdU1UZzRMakkxTkNBekxqZzRNaTR5TlRRZ05DNHhORGhvTWk0MmN5NDBOakl1TURjMkxqVXVNeUF3SUM0MkxTNHpMamxzTFRRdU5DQTBMalJqTFM0eUxqTXRMall1TXkwdU9TQXdiQzAwTGpRdE5DNDBZeTB1TVMwdU1TMHVNaTB1TWkwdU1pMHVOQ0F3TFM0MExqTXRMamN1TnkwdU4yZ3lMak01T0dNdU1EVTBMVEV1TlRrM0xqRTBOUzAwTGpJeUxqSXpPUzAyTGpZMk5DNHdNaTB1TlRrdU1EUXhMVEV1TVRnMkxqQTJNeTB4TGpjM05uRXVNREF6TFM0d09Ua3VNREUxTFM0eE9USmpMakExTFRFdU1UZ3pMakl4TFRRdU1URXhMakl4TFRRdU1URXhJaUJtYVd4c1BTSWpabVptSWk4K1BDOXpkbWMrIiwKICAgICAgImFkZEltZyI6ICJ5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbWxsZDBKdmVEMGlNQ0F3SURJd0lESXdJajQ4WnlCbWFXeHNQU0p1YjI1bElpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlQanhuSUhOMGNtOXJaVDBpSTBaR1JpSWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWlCemRISnZhMlV0ZDJsa2RHZzlJakV1TlNJK1BIQmhkR2dnWkQwaWJURTJMakUwTkNBeE1pNDNPQzB5TGpRMU9DMHlMalV6TVdFdU9UY3VPVGNnTUNBd0lEQXRNUzR6TkRjdExqQTJURGt1TWprMUlERXlMalkyWXkwdU5EWTVMak0yTWkweExqRXhNeTR6TURJdE1TNDBOalF0TGpFNGJDMHVNamt6TFM0ek5qTmpMUzR6TlMwdU5EZ3lMVEV1TURVekxTNDFORE10TVM0ME5qTXRMakU0VERNdU9EVWdNVE11T0RBMWFEQmpNQ0F1T0RVeUxqWTVJREV1TlRReklERXVOVFF6SURFdU5UUXphRGd1T0RGaE1pQXlJREFnTUNBd0lESXRNbll0TGpVMk9Ib2lJR1pwYkd3OUlpTkdSa1lpSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlMejQ4Y0dGMGFDQmtQU0pOTVRZdU1qQXpJRGd1TVRoMk5TNHlPVFJqTUNBdU9UYzBMUzQzT1NBeExqYzJOQzB4TGpjMk5TQXhMamMyTkVnMUxqWXhOV010TGprM05TQXdMVEV1TnpZMUxTNDNPUzB4TGpjMk5TMHhMamMyTkhZdE55NHdObU13TFM0NU56UXVOemt0TVM0M05qUWdNUzQzTmpVdE1TNDNOalJvTnk0d05Ua2lMejQ4TDJjK1BIQmhkR2dnWkQwaVRURTJMamc1TnlBekxqazROV2d1TmpZeVlTNDJOakl1TmpZeUlEQWdNU0F4SURBZ01TNHpNalJvTFM0Mk5qSjJMalkyTW1FdU5qWXlMalkyTWlBd0lERWdNUzB4TGpNeU15QXdkaTB1TmpZeWFDMHVOall5WVM0Mk5qSXVOall5SURBZ01DQXhJREF0TVM0ek1qUm9MalkyTW5ZdExqWTJNV0V1TmpZeUxqWTJNaUF3SURBZ01TQXhMak15TXlBd2VpSWdabWxzYkQwaUkwWkdSaUl2UGp4d1lYUm9JSE4wY205clpUMGlJMFpHUmlJZ2MzUnliMnRsTFhkcFpIUm9QU0l1TWlJZ1pEMGlUVEUyTGprME55QXpMamt6TldndU5qRXlZUzQzTVRJdU56RXlJREFnTVNBeElEQWdNUzQwTWpSc0xTNDJNVEl0TGpBMWRpNDJOakpoTGpjeE1pNDNNVElnTUNBeElERXRNUzQwTWpNZ01Hd3VNRFV0TGpZeE1tZ3RMalkyTW1FdU56RXlMamN4TWlBd0lERWdNU0F3TFRFdU5ESTBiQzQyTVRJdU1EVjJMUzQyTmpGaExqY3hNaTQzTVRJZ01DQXhJREVnTVM0ME1qTWdNSG9pTHo0OEwyYytQQzl6ZG1jKyIKICAgIH1bbmFtZV07CiAgfTsKICBjb25zdCBpbnB1dFVSSXMgPSAobmFtZSkgPT4gewogICAgbGV0IHN0YXJ0ID0gImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqIjsKICAgIGlmIChuYW1lID09PSAiYnJjIikgcmV0dXJuIHN0YXJ0ICsgIkl4TVM0MUlERTFOUzQxSURVM0lEUTVJajQ4Y0dGMGFDQmtQU0pOTWpFMklESXdOR0UwSURRZ01DQXdJREV0TkMwMGRpMDBNR0UwSURRZ01DQXdJREVnTkMwMGJEUTRMalkxTVM0d05UTkJOQ0EwSURBZ01DQXhJREkyT0NBeE5qQjJPQzR4TWpoak1DQXhMak10TWk0eE9EUWdNeTR6T0RNdE15NDROemNnTXk0ek9ETm9MVEV6TGprNE1tTXRNUzR4TURVZ01DMHhMalkxTnk0MU5USXRNaTR5TVNBeExqRXdOV3d0TWk0eU1Ea2dNaTR5TURsakxTNDFOVEl1TlRVeUxURXVNVEExSURFdU1UQTFMVEl1TWpFZ01TNHhNRFZvTFRZdU5qSTNZeTB4TGpFd05TQXdMVEV1TmpVM0xTNDFOVE10TWk0eU1TMHhMakV3Tld3dE1pNHlNRGt0TWk0eU1XTXRMalUxTWkwdU5UVXlMVEV1TVRBMUxURXVNVEEwTFRJdU1qRXRNUzR4TURSb0xUUXVOREU0WXkweExqSXlJREF0TWk0eU1TNDVPUzB5TGpJeElESXVNakYyTVRJdU5UVTBZekFnTVM0eU1pNDVPU0F5TGpJd09DQXlMakl4SURJdU1qQTRhRFF1TkRFNVl6RXVNVEEwSURBZ01TNDJOVGN1TlRVeklESXVNakVnTVM0eE1EVnNNaTR5TURnZ01pNHlNV011TlRVekxqVTFNaUF4TGpFd05TQXhMakV3TkNBeUxqSXhJREV1TVRBMGFEWXVOakk0WXpFdU1UQTBJREFnTVM0Mk5UY3RMalUxTWlBeUxqSXdPUzB4TGpFd05Xd3lMakl4TFRJdU1qQTVZeTQxTlRJdExqVTFNaUF4TGpFd05DMHhMakV3TlNBeUxqSXdPUzB4TGpFd05XZ3hNeTQ1T0RKak1TNDJPVE1nTUNBekxqZzNOeUF5TGpFd05DQXpMamczTnlBekxqVXdNbFl5TURCaE5DQTBJREFnTUNBeExUUWdOSG9pSUhOMGVXeGxQU0ptYVd4c09pTm1aalkyT0RBN2MzUnliMnRsT2lObU16VWlMejQ4TDNOMlp6ND0iOwogICAgZWxzZSBpZiAobmFtZSA9PT0gImltZyIpIHJldHVybiBzdGFydCArICJBZ01DQTFOeUEwT1NJK1BIQmhkR2dnWkQwaVRUUXVOU0EwT0M0MVlUUWdOQ0F3SURBZ01TMDBMVFIyTFRRd1lUUWdOQ0F3SURBZ01TQTBMVFJvTkRoaE5DQTBJREFnTUNBeElEUWdOSFkwTUdFMElEUWdNQ0F3SURFdE5DQTBlaUlnWm1sc2JEMGlJMlptTmpZNE1DSWdjM1J5YjJ0bFBTSWpaak0xSWk4K1BIQmhkR2dnWkQwaVRUTTVMak15SURFMkxqTTBNbll4TUM0ME1qUmpNQ0F1TkRVekxTNHhNVE11TnprekxTNDBOVE1nTVM0d01pMHpMakUzTWlBeUxqWXdOaTAzTGpneE9DQXlMall3TmkweE1TNHhNRE1nTUdFMkxqRTFJRFl1TVRVZ01DQXdJREF0TXk0NE5UTXRNUzR6Tm1NdE1TNDBOek11TVRFekxUSXVOekU1TGpZNExUTXVPRFV5SURFdU5EY3pkamN1TWpVeFl6QWdMalUyTnkwdU5UWTNJREV1TVRNekxURXVNVE16SURFdU1UTXphQzB1TVRFell5MHVOVFkzSURBdE1TNHhNek10TGpVMk5pMHhMakV6TXkweExqRXpNM1l0TWpFdU0yTXdMUzQyT0M0MU5qWXRNUzR4TXpRZ01TNHhNek10TVM0eE16UXVOVFkySURBZ01TNHhNek11TkRVMElERXVNVE16SURFdU1UTTBkaTQwTlROak15NHdOVGt0TVM0ME56TWdOaTQzT1RndE1TNHdNaUE1TGpRd05DQXhMakV6TTJFMkxqRTBJRFl1TVRRZ01DQXdJREFnTnk0M01EUWdNR011TXpRdExqTTBMamt3TnkwdU5EVXpJREV1TXpZdExqSXlOeTQxTmpZdU1URXpMamt3Tmk0MU5qY3VPVEEySURFdU1UTXpiUzB4TGpFek15QXdMUzR4TVRNdExqRXhNMmd0TGpJeU4yTXRNaTQzTVRrZ01pNHhOVE10Tmk0ME5UZ2dNaTR4TlRNdE9TNHhOemNnTUMweUxqUTVNeTB4TGpreU5pMDFMamc1TWkweUxqSTJOaTA0TGpjeU5DMHVOamgyTVRBdU9UbGpNUzR5TkRZdExqWTRJREl1TkRreUxURXVNVE16SURNdU9EVXlMVEV1TWpRMklERXVOeUF3SURNdU1qZzJMalUyTnlBMExqVXpNaUF4TGpVNE5tRTNMalk0TlNBM0xqWTROU0F3SURBZ01DQTVMamMwTkMwdU1URXplaUlnWm1sc2JEMGlJelExT1RrelpDSXZQanh3WVhSb0lHUTlJbTB6T0M0eE9EY2dNVFl1TkRVMUxTNHhNVE1nTVRBdU16RXhkaTR4TVROakxUSXVPRE15SURJdU1qWTJMVFl1T1RFeElESXVNalkyTFRrdU56UTBJREF0TVM0eU5EWXRNUzR3TWkweUxqZ3pNeTB4TGpVNE5pMDBMalV6TWkweExqVTROaTB4TGpNMkxqRXhNeTB5TGpZd05pNDFOamN0TXk0NE5USWdNUzR5TkRaMkxURXdMams1WXpJdU9ETXlMVEV1TlRnMklEWXVNak14TFRFdU1qUTJJRGd1TnpJMExqWTRJREl1TnpJZ01pNHhOVE1nTmk0ME5UZ2dNaTR4TlRNZ09TNHhOemNnTUdndU1qSTNZekFnTGpFeE15NHhNVE11TVRFekxqRXhNeTR5TWpZaUlHWnBiR3c5SWlNMFkySm1OVFlpTHo0OEwzTjJaejQ9IjsKCiAgICBzdGFydCArPSAiQWdNQ0ExTnlBME9TSStQSEpsWTNRZ2VEMGlMalVpSUhrOUlpNDFJaUIzYVdSMGFEMGlOVFlpSUdobGFXZG9kRDBpTkRnaUlISjRQU0kwSWlCeWVUMGlOQ0lnYzNSNWJHVTlJbVpwYkd3NkkyWm1Oalk0TUR0emRISnZhMlV0YldsMFpYSnNhVzFwZERveE1EdHpkSEp2YTJVNkkyWXpOU0l2UGp4eVpXTjBJSGc5SWpndU5TSWdlVDBpT0M0MUlpQjNhV1IwYUQwaU5EQWlJR2hsYVdkb2REMGlNeklpSUhKNFBTSXhOaUlnY25rOUlqRTJJaUJ6ZEhsc1pUMGljM1J5YjJ0bE9pTm0iOwogICAgcmV0dXJuIHN0YXJ0ICsgewogICAgICAibm9ybSI6ICJNelU3Wm1sc2JEb2pabVptTzNOMGNtOXJaUzFzYVc1bFkyRndPbkp2ZFc1a08zTjBjbTlyWlMxc2FXNWxhbTlwYmpweWIzVnVaQ0l2UGp4MFpYaDBJSE4wZVd4bFBTSm1iMjUwTFhOcGVtVTZNVEp3ZUR0bWFXeHNPaU0yWlRjME9EZzdabTl1ZEMxbVlXMXBiSGs2U0dWc2RtVjBhV05oVG1WMVpTMUNiMnhrTENCSVpXeDJaWFJwWTJFZ1RtVjFaU3dnYzJGdWN5MXpaWEpwWmp0bWIyNTBMWGRsYVdkb2REbzNNREE3YkdWMGRHVnlMWE53WVdOcGJtYzZNR1Z0T3lJZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NVGN1TlNBeU9Ta2lQblJsZUhROEwzUmxlSFErUEM5emRtYysiLAogICAgICAibnVtIjogIk16VTdabWxzYkRvalptWm1PM04wY205clpTMXNhVzVsWTJGd09uSnZkVzVrTzNOMGNtOXJaUzFzYVc1bGFtOXBianB5YjNWdVpDSXZQangwWlhoMElITjBlV3hsUFNKbWIyNTBMWE5wZW1VNk1USndlRHRtYVd4c09pTTJaVGMwT0RnN1ptOXVkQzFtWVcxcGJIazZTR1ZzZG1WMGFXTmhUbVYxWlMxQ2IyeGtMRWhsYkhabGRHbGpZU0JPWlhWbExITmhibk10YzJWeWFXWTdabTl1ZEMxM1pXbG5hSFE2TnpBd08yeGxkSFJsY2kxemNHRmphVzVuT2pBaUlIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREkxSURJNUtTSStNRHd2ZEdWNGRENDhMM04yWno0PSIsCiAgICAgICJjb2wiOiAiWm1ZN1ptbHNiRG9qTUdZd08zTjBjbTlyWlMxc2FXNWxZMkZ3T25KdmRXNWtPM04wY205clpTMXNhVzVsYW05cGJqcHliM1Z1WkNJdlBqd3ZjM1puUGc9PSIsCiAgICAgICJhbmciOiAiWm1ZN1ptbHNiRG9qTkRRNE9HVTJPM04wY205clpTMXNhVzVsWTJGd09uSnZkVzVrTzNOMGNtOXJaUzFzYVc1bGFtOXBianB5YjNWdVpDSXZQanh3WVhSb0lHUTlJazB4Tmk0eE5UUWdNalF1TldNd0xUWXVOemdnTlM0ME9UWXRNVEl1TWpjMklERXlMakkzTmkweE1pNHlOelpUTkRBdU56QTFJREUzTGpjeUlEUXdMamN3TlNBeU5DNDFJRE0xTGpJeElETTJMamMzTmlBeU9DNDBNeUF6Tmk0M056WWdNVFl1TVRVMElETXhMakk0SURFMkxqRTFOQ0F5TkM0MWVpSWdabWxzYkQwaUl6UXlPREJrTnlJZ2MzUnliMnRsUFNJak16TTNNMk5qSWlCemRISnZhMlV0ZDJsa2RHZzlJaTQxSWk4K1BIQmhkR2dnWkQwaVRUSTRMalF6SURJMExqVldNVEl1TlRBMFl6WXVOakkxSURBZ01URXVPVGsySURVdU16Y2dNVEV1T1RrMklERXhMams1Tm5vaUlHWnBiR3d0YjNCaFkybDBlVDBpTGpJaUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0pOTWpndU5ETWdNalF1TldneE1pNHlOelVpSUhOMGNtOXJaVDBpSTJabVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJdU5TSWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWk4K1BIQmhkR2dnWkQwaVRUSTRMalF6SURJMExqVldNVEl1TkRRNElpQnpkSEp2YTJVOUlpTm1abVlpSUhOMGNtOXJaUzEzYVdSMGFEMGlMalVpTHo0OGNHRjBhQ0JrUFNKTk16Y3VNekVnTWpRdU5XZ3hMalUyTjIwdExqTTFOaUF5TGpjd05DMHhMalV4TXkwdU5EQTJiUzB1T0RnNElESXVNVFF5SURFdU16VTRMamM0TkUwek5DNDNNU0F6TUM0M09Hd3hMakV3TnlBeExqRXdOMjB0TWk0NU5EY3VNekF6TGpjNE5DQXhMak0xT0cwdE1pNDVNall0TGpRM0xqUXdOaUF4TGpVeE0yMHRNaTQzTURRdU16VTJWak16TGpNNGJTMHlMakk1T0MwdU16QXlMUzQwTURZZ01TNDFNVE50TFRJdU5USXRNUzR3TkRNdU56ZzBMVEV1TXpVNGJTMHhMamcwTFRFdU5ERXRNUzR4TURjZ01TNHhNRGR0TFM0ek1ETXRNaTQ1TkRjdE1TNHpOVGd1TnpnMGJTNDBOeTB5TGpreU5pMHhMalV4TXk0ME1EWk5NVGt1TlRVZ01qUXVOV2d0TVM0MU5qZHRNUzQ0TmprdE1pNHlPVGd0TVM0MU1UTXRMalF3Tm0weExqQTBNeTB5TGpVeUlERXVNelUzTGpjNE5HMHhMalF4TVMweExqZzBMVEV1TVRBM0xURXVNVEEzYlRJdU9UUTNMUzR6TURNdExqYzROQzB4TGpNMU9HMHlMamt5Tmk0ME55MHVOREEyTFRFdU5URXpiVEl1TnpBMElERXVNakV4ZGkweExqVTJOMjB5TGpjd05DNHpOVFl0TGpRd05pQXhMalV4TTIweUxqa3lOaTB1TkRjdExqYzROQ0F4TGpNMU9HMHhMamcwSURFdU5ERWdNUzR4TURjdE1TNHhNRGR0TVM0Mk5qRWdNaTR4TmpNdE1TNHpOVGd1TnpnMGJTNDRPRGdnTWk0eE5ESWdNUzQxTVRNdExqUXdOaUlnYzNSeWIydGxMVzl3WVdOcGRIazlJaTQxSWlCemRISnZhMlU5SWlObVptWWlJSE4wY205clpTMTNhV1IwYUQwaUxqSTFJaTgrUEhCaGRHZ2daRDBpVFRJM0xqa3dPQ0F5TkM0MVlTNDFNakl1TlRJeUlEQWdNU0F4SURFdU1EUTBJREFnTGpVeU1pNDFNaklnTUNBd0lERXRNUzR3TkRRZ01Ib2lJR1pwYkd3OUlpTm1abVlpSUhOMGNtOXJaVDBpSTJabVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJdU5TSXZQanh3WVhSb0lHUTlJazB6T0M0MU5UVWdNalF1TldFeUxqWXhNaUF5TGpZeE1pQXdJREVnTVNBMUxqSXlNeUF3SURJdU5qRXlJREl1TmpFeUlEQWdNQ0F4TFRVdU1qSXpJREI2SWlCbWFXeHNQU0lqWm1abUlpQnpkSEp2YTJVdGIzQmhZMmwwZVQwaUxqSTFJaUJ6ZEhKdmEyVTlJaU5tWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTWlJdlBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0MweU1URXVOU0F0TVRVMUxqVXBJaUJtYVd4c1BTSWpOR001TjJabUlpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlMejQ4Y0dGMGFDQmtQU0pOTkRFdU1UY3hJREl6TGpjeE5XTXdMUzR4TkRRdU1Ea3pMUzR4T1M0eU1TMHVNVEF6YkRFZ0xqYzBPV011TVRFMkxqQTROaTR4TVRjdU1qSTBMUzR3TURNdU16RnNMUzQ1T1RRdU56SmpMUzR4TVRndU1EZzBMUzR5TVRNdU1ETTFMUzR5TVRNdExqRXdOM1l0TGpRek5td3RNUzR4TnpndExqRTVObUV1TVRZdU1UWWdNQ0F3SURFdExqRXlPQzB1TVRVeVl6QXRMakEzTXk0d05pMHVNVFF1TVRJNExTNHhOVEpzTVM0eE56Z3RMakU1TjNvaUlHWnBiR3c5SWlNMFl6azNabVlpSUdacGJHd3RjblZzWlQwaVpYWmxibTlrWkNJdlBqd3ZjM1puUGc9PSIsCiAgICAgICJub3RlIjogIk16VTdabWxzYkRvalptWm1JaTgrUEhCaGRHZ2daRDBpVFRNMUxqYzBJREk0TGpNd05HTXVNamsySURFdU5EYzVMVEV1TURnZ01pNDJOek10TXk0d056TWdNaTQyTnpNdE1TNDVPRGtnTUMwekxqZ3pOaTB4TGpFNU5DMDBMakV5TnkweUxqWTNNeTB1TWprM0xURXVORGdnTVM0d056Z3RNaTQyTnpnZ015NHdOekl0TWk0Mk56Z3VOREU1SURBZ0xqZ3pMakExTkNBeExqSXlOQzR4TlRFdU1qRTVMakExTmk0ME1USXVNVEUzTGpZd055NHhPVFl1TlRZMExTNHdNVE10TGpBMk55MHhMalE0TmkweExqRTRPQzAzTGpreUxURXVNemd5TFRjdU9UWTRJREV1T1RneExURXVNakV5SURVdU5qYzRMVEV1TnpneklETXVOamszTFM0MU56TXVNRFVnTXk0eE1qRXRNaTR6TmpRZ01pNDBPUzB5TGpReE1pMHVOalF0TXk0d01URXROQzQyTXpNdU1UY2dPUzQxTkRSNmJTMHhNUzR3TURnZ015NDRPR011TWprZ01TNDBPQzB4TGpBNE5TQXlMalkzT1MwekxqQTNNU0F5TGpZM09TMHhMams0T0NBd0xUTXVPRE0xTFRFdU1pMDBMakV6TWkweUxqWTRMUzR5T1MweExqUTNPQ0F4TGpBNE5DMHlMalkzTnlBekxqQTNOaTB5TGpZM055NDJOU0F3SURFdU1qZ3VNVEkzSURFdU9EVXVNelV5TGpVek1pMHVNRE0yTFM0d09UZ3RNUzQxTkMweExqSXdOeTAzTGpreUxURXVNemd0Tnk0NU5qZ2dNUzQ1T0RJdE1TNHlNVEVnTlM0Mk56WXRNUzQzT0RNZ015NDJPVFl0TGpVM09TNHdOU0F6TGpFeU1pMHlMak0yTWlBeUxqUTRNeTB5TGpReE1pMHVOalF0TXk0d01USXROQzQyTXpJdU1UY2dPUzQxTkRWNklpQm1hV3hzUFNJak5tVTNORGc0SWk4K1BDOXpkbWMrIiwKICAgICAgIm1hdCI6ICJNelU3Wm1sc2JEb2pNR1JoTlRkaElpOCtQSEJoZEdnZ1pEMGlUVEUzTGpVZ01UWXVOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWHB0TlNBd1lURWdNU0F3SURBZ01TMHhMVEYyTFRKaE1TQXhJREFnTUNBeElERXRNV2d5WVRFZ01TQXdJREFnTVNBeElERjJNbUV4SURFZ01DQXdJREV0TVNBeGVpSWdabWxzYkQwaUkyWm1aaUl2UGp4d1lYUm9JR1E5SWsweU55NDFJREUyTGpWaE1TQXhJREFnTUNBeExURXRNWFl0TW1FeElERWdNQ0F3SURFZ01TMHhhREpoTVNBeElEQWdNQ0F4SURFZ01YWXlZVEVnTVNBd0lEQWdNUzB4SURGNklpQm1hV3hzUFNJak1HWmlaRGhqSWk4K1BIQmhkR2dnWkQwaVRUTXlMalVnTVRZdU5XRXhJREVnTUNBd0lERXRNUzB4ZGkweVlURWdNU0F3SURBZ01TQXhMVEZvTW1FeElERWdNQ0F3SURFZ01TQXhkakpoTVNBeElEQWdNQ0F4TFRFZ01YcHROU0F3WVRFZ01TQXdJREFnTVMweExURjJMVEpoTVNBeElEQWdNQ0F4SURFdE1XZ3lZVEVnTVNBd0lEQWdNU0F4SURGMk1tRXhJREVnTUNBd0lERXRNU0F4ZW0wdE1qQWdOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWHB0TlNBd1lURWdNU0F3SURBZ01TMHhMVEYyTFRKaE1TQXhJREFnTUNBeElERXRNV2d5WVRFZ01TQXdJREFnTVNBeElERjJNbUV4SURFZ01DQXdJREV0TVNBeGVtMDFJREJoTVNBeElEQWdNQ0F4TFRFdE1YWXRNbUV4SURFZ01DQXdJREVnTVMweGFESmhNU0F4SURBZ01DQXhJREVnTVhZeVlURWdNU0F3SURBZ01TMHhJREY2YlRVZ01HRXhJREVnTUNBd0lERXRNUzB4ZGkweVlURWdNU0F3SURBZ01TQXhMVEZvTW1FeElERWdNQ0F3SURFZ01TQXhkakpoTVNBeElEQWdNQ0F4TFRFZ01YcHROU0F3WVRFZ01TQXdJREFnTVMweExURjJMVEpoTVNBeElEQWdNQ0F4SURFdE1XZ3lZVEVnTVNBd0lEQWdNU0F4SURGMk1tRXhJREVnTUNBd0lERXRNU0F4ZW0wdE1qQWdOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWG9pSUdacGJHdzlJaU5tWm1ZaUx6NDhjR0YwYUNCa1BTSk5Nakl1TlNBeU5pNDFZVEVnTVNBd0lEQWdNUzB4TFRGMkxUSmhNU0F4SURBZ01DQXhJREV0TVdneVlURWdNU0F3SURBZ01TQXhJREYyTW1FeElERWdNQ0F3SURFdE1TQXhlaUlnWm1sc2JEMGlJekJtWW1RNFl5SXZQanh3WVhSb0lHUTlJazB5Tnk0MUlESTJMalZoTVNBeElEQWdNQ0F4TFRFdE1YWXRNbUV4SURFZ01DQXdJREVnTVMweGFESmhNU0F4SURBZ01DQXhJREVnTVhZeVlURWdNU0F3SURBZ01TMHhJREY2SWlCbWFXeHNQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGlUVE15TGpVZ01qWXVOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWG9pSUdacGJHdzlJaU13Wm1Ka09HTWlMejQ4Y0dGMGFDQmtQU0pOTXpjdU5TQXlOaTQxWVRFZ01TQXdJREFnTVMweExURjJMVEpoTVNBeElEQWdNQ0F4SURFdE1XZ3lZVEVnTVNBd0lEQWdNU0F4SURGMk1tRXhJREVnTUNBd0lERXRNU0F4ZW0wdE1qQWdOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWG9pSUdacGJHdzlJaU5tWm1ZaUx6NDhjR0YwYUNCa1BTSk5Nakl1TlNBek1TNDFZVEVnTVNBd0lEQWdNUzB4TFRGMkxUSmhNU0F4SURBZ01DQXhJREV0TVdneVlURWdNU0F3SURBZ01TQXhJREYyTW1FeElERWdNQ0F3SURFdE1TQXhlbTAxSURCaE1TQXhJREFnTUNBeExURXRNWFl0TW1FeElERWdNQ0F3SURFZ01TMHhhREpoTVNBeElEQWdNQ0F4SURFZ01YWXlZVEVnTVNBd0lEQWdNUzB4SURGNmJUVWdNR0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWG9pSUdacGJHdzlJaU13Wm1Ka09HTWlMejQ4Y0dGMGFDQmtQU0pOTXpjdU5TQXpNUzQxWVRFZ01TQXdJREFnTVMweExURjJMVEpoTVNBeElEQWdNQ0F4SURFdE1XZ3lZVEVnTVNBd0lEQWdNU0F4SURGMk1tRXhJREVnTUNBd0lERXRNU0F4ZW0wdE1qQWdOV0V4SURFZ01DQXdJREV0TVMweGRpMHlZVEVnTVNBd0lEQWdNU0F4TFRGb01tRXhJREVnTUNBd0lERWdNU0F4ZGpKaE1TQXhJREFnTUNBeExURWdNWHB0TlNBd1lURWdNU0F3SURBZ01TMHhMVEYyTFRKaE1TQXhJREFnTUNBeElERXRNV2d5WVRFZ01TQXdJREFnTVNBeElERjJNbUV4SURFZ01DQXdJREV0TVNBeGVpSWdabWxzYkQwaUkyWm1aaUl2UGp4d1lYUm9JR1E5SWsweU55NDFJRE0yTGpWaE1TQXhJREFnTUNBeExURXRNWFl0TW1FeElERWdNQ0F3SURFZ01TMHhhREpoTVNBeElEQWdNQ0F4SURFZ01YWXlZVEVnTVNBd0lEQWdNUzB4SURGNklpQm1hV3hzUFNJak1HWmlaRGhqSWk4K1BIQmhkR2dnWkQwaVRUTXlMalVnTXpZdU5XRXhJREVnTUNBd0lERXRNUzB4ZGkweVlURWdNU0F3SURBZ01TQXhMVEZvTW1FeElERWdNQ0F3SURFZ01TQXhkakpoTVNBeElEQWdNQ0F4TFRFZ01YcHROU0F3WVRFZ01TQXdJREFnTVMweExURjJMVEpoTVNBeElEQWdNQ0F4SURFdE1XZ3lZVEVnTVNBd0lEQWdNU0F4SURGMk1tRXhJREVnTUNBd0lERXRNU0F4ZWlJZ1ptbHNiRDBpSTJabVppSXZQand2YzNablBnPT0iLAogICAgICAiZW1wIjogIk16VTdabWxzYkRvalptWTBaRFpoTzNOMGNtOXJaUzFzYVc1bFkyRndPbkp2ZFc1a08zTjBjbTlyWlMxc2FXNWxhbTlwYmpweWIzVnVaQ0l2UGp3dmMzWm5QZz09IgogICAgfVtuYW1lXTsKICB9OwoKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgcnVudGltZSA9IHZtLnJ1bnRpbWU7CiAgY29uc3QgaXNQTSA9IFNjcmF0Y2guZXh0ZW5zaW9ucy5pc1Blbmd1aW5Nb2Q7CgogIGNvbnN0IFRFTVBfQkxPQ0tfT1BDT0RFID0gIlNQbWJwQ1NUXyQtLC5fX19TUG1icENTVF9URU1QX0JMT0NLIjsgLy8gb3Bjb2RlIG9mIHRoZSB0ZW1wb3JhcnkgYmxvY2sgYWRkZWQgdG8ga2VlcCB0aGUgZXh0ZW5zaW9uIGluIHRoZSBwcm9qZWN0CiAgY29uc3QgQ1VTVE9NX01FTlVfSUQgPSAiU1Awek1lbnVNYWtlcl9tZW51XyI7CiAgY29uc3QgdGFyZ2V0UHJvY0RhdGEgPSBTeW1ib2woIk1CUHByb2NlZHVyZURhdGEiKTsgLy8gcGxhY2UgdG8gc3RvcmUgaW1wb3J0YW50IGdsb2JhbCBwcm9jZWR1cmUgZGF0YQoKICBsZXQgcHJvY2VkdXJlc1hNTCA9ICIiLCB0ZW1wU3RvcmUgPSB7fSwgc3RvcmFnZSA9IHt9OwogIGxldCBnbG9iYWxCbG9ja3NDYWNoZSA9IHt9OwogIAogIGxldCBpbWdTdG9yYWdlID0ge30sIGltZ1N0b3JlU2l6ZSA9IDA7CgogIGxldCBleHRlbnNpb25SZW1vdmFibGUgPSBmYWxzZTsKICBsZXQgZXh0OyAvLyBleHRlbnNpb24gb2JqZWN0CiAgbGV0IGV4ZWN1dGUsIFRocmVhZDsgLy8gc2V0IGJ5IGV4cG9ydHMKCiAgZnVuY3Rpb24gdGhlbWVpZnlDb2xvcihoZXgpIHsKICAgIGlmIChpc1BNKSByZXR1cm4gW2hleF07CiAgICBjb25zdCB0aGVtZU9iaiA9IFJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLnRoZW1lLnRoZW1lLmdldEN1c3RvbUV4dGVuc2lvbkNvbG9ycygpOwogICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoZW1lT2JqKS5sZW5ndGggPT09IDAgPyBbaGV4XSA6IFsKICAgICAgdGhlbWVPYmoucHJpbWFyeShoZXgpLCB0aGVtZU9iai5zZWNvbmRhcnkoaGV4KSwgdGhlbWVPYmoudGVydGlhcnkoaGV4KQogICAgXTsKICB9CgogIGNvbnN0IGlucHV0VHlwZXMgPSB7CiAgICBjb2w6IHsgb3Bjb2RlOiAiY29sb3VyX3BpY2tlciIsIGZpZWxkTmFtZTogIkNPTE9VUiIsIGRlZmF1bHRWYWx1ZTogKCgpID0+IGAjJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygyLCAyNCkpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAiMCIpfWApIH0sCiAgICBub3RlOiB7IG9wY29kZTogIm5vdGUiLCBmaWVsZE5hbWU6ICJOT1RFIiwgZGVmYXVsdFZhbHVlOiAiNjAiIH0sCiAgICBtYXQ6IHsgb3Bjb2RlOiAibWF0cml4IiwgZmllbGROYW1lOiAiTUFUUklYIiwgZGVmYXVsdFZhbHVlOiBpc1BNID8gIjExMTEwMDEwMTAwMTExMDAxMDAwMTEwMDAiIDogIjExMTExMTAxMDEwMDEwMDAwMTAwMDExMTAiIH0sCiAgICBhbmc6IHsgb3Bjb2RlOiAibWF0aF9hbmdsZSIsIGZpZWxkTmFtZTogIk5VTSIsIGRlZmF1bHRWYWx1ZTogIjkwIiB9LAogICAgLy8gJW4gdGVjaG5pY2FsbHkgYWxyZWFkeSBleGlzdHMgYnV0IHNvbWUgcGFydHMgb2Ygc2NyYXRjaC1ibG9ja3MgcmVwbGFjZSBpdCB3aXRoICVzIHNvIHdlIGNhbid0IHVzZSBpdAogICAgbnVtOiB7IG9wY29kZTogIm1hdGhfbnVtYmVyIiwgZmllbGROYW1lOiAiTlVNIiwgZGVmYXVsdFZhbHVlOiAiMCIgfSwKICAgIGVtcDogeyBvcGNvZGU6ICJlbXAiLCBmaWVsZE5hbWU6ICJFTVBUWSJ9LAogICAgYnJjOiB7IG9wY29kZTogImJyYyIsIGZpZWxkTmFtZTogIlNVQlNUQUNLIiB9LAogICAgaW1nOiB7IG9wY29kZTogImltZyIsIGZpZWxkTmFtZTogIklNQUdFIiB9CiAgfTsKICBmdW5jdGlvbiBnZXRJbnB1dERhdGEoaW5wdXQpIHsKICAgIGlmIChpbnB1dC5pc0Ryb3ApIHJldHVybiB7IG9wY29kZTogaW5wdXQudHlwZSwgZmllbGROYW1lOiBudWxsLCBkZWZhdWx0VmFsdWU6IG51bGwgfTsKICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlucHV0VHlwZXMsIGlucHV0LnR5cGUpKSByZXR1cm4ge307CiAgICByZXR1cm4gaW5wdXRUeXBlc1tpbnB1dC50eXBlXTsKICB9CiAgLy8gVXNlZCBmb3Igc2V0dGluZyBpbnB1dHMgdG8gdGhlIGNvcnJlY3QgYmxvY2sgY29sb3IKICBmdW5jdGlvbiBpc05vcm1hbElucHV0KG9wY29kZSkgewogICAgcmV0dXJuIG9wY29kZSA9PT0gIm5vdGUiIHx8IG9wY29kZSA9PT0gIm1hdHJpeCIgfHwgb3Bjb2RlID09PSAiY29sb3VyX3BpY2tlciIKICAgICAgfHwgb3Bjb2RlID09PSAibWF0aF9hbmdsZSIgfHwgb3Bjb2RlID09PSAibWF0aF9udW1iZXIiIHx8IG9wY29kZSA9PT0gInRleHQiOwogIH0KCiAgLy8gaWYgdHJ1ZSwgc2Nyb2xsaW5nIHRvIE15IEJsb2NrcyB3aWxsIHNjcm9sbCB0byBNeSBCbG9ja3MrIGluc3RlYWQKICAvLyB1c2VkIHRvIG1ha2UgdGhlIE1ha2UgYSBCbG9jayBkaWFsb2cgc2Nyb2xsIHRvIHRoZSBNQisgY2F0ZWdvcnkKICBsZXQgc2hvdWxkU2Nyb2xsVG9NQlAgPSBmYWxzZTsKCiAgLy8gcmVmcmVzaCB0aGUgYmxvY2sgbGlzdCBpZiB0cnVlIHdoZW4gY2FsbGVkLCBvdGhlcndpc2UgZG9lcyBub3RoaW5nCiAgbGV0IGxpc3ROZWVkc1JlZnJlc2ggPSBmYWxzZSwgc3VzcGVuZFJlbW92YWwgPSBmYWxzZSwgb2xkTGlzdExlbmd0aCA9IDA7CgogIC8vIEN1c3RvbSBCbG9jayBNb2RhbAogIGNvbnN0IHJldHVyblR5cGVFcnJvciA9IChlKSA9PiB7CiAgICAvLyB1c2VkIGZvciBQZW5ndWluTW9kCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltjbGFzcz0iUmVhY3RNb2RhbFBvcnRhbCJdYCk7CiAgICBpZiAobW9kYWw/LnBhcmVudE5vZGUpIHsKICAgICAgY29uc29sZS53YXJuKCJJZ25vcmUgdGhlIGZvbGxvd2luZyBFcnJvciBhYm91dCAnY29ubmVjdGlvbkRCTGlzdCcsIGl0IGZpeGVzIGl0c2VsZiIpOwogICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKGBbY2xhc3NePSJjbG9zZS1idXR0b25fY2xvc2UtYnV0dG9uXyJdYCkuY2xpY2soKTsKICAgIH0KICB9OwoKICAvLyBDbGVhbiBub25leGlzdGVudCBpbnB1dHMgZnJvbSB0aGUgaW5wdXRzIG9iamVjdAogIGZ1bmN0aW9uIGNsZWFudXBCbG9ja0lucHV0cyhpbnB1dHMsIGFyZ3MpIHsKICAgIGZvciAoY29uc3QgaW5wdXRJZCBpbiBpbnB1dHMpIHsKICAgICAgaWYgKCFhcmdzLmluY2x1ZGVzKGlucHV0SWQpKSBkZWxldGUgaW5wdXRzW2lucHV0SWRdOwogICAgfQogIH0KCiAgZnVuY3Rpb24gb3BlbkJsb2NrTWFrZXIod29ya3NwYWNlLCBpc0VkaXRpbmcpIHsKICAgIGlmIChleHRlbnNpb25SZW1vdmFibGUpIHJldHVybjsKICAgIGxpc3ROZWVkc1JlZnJlc2ggPSB0cnVlOwogICAgc2hvdWxkU2Nyb2xsVG9NQlAgPSB0cnVlOwogICAgY29uc3QgaXNEYXJrID0gaXNQTSA/IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCJ0aGVtZSIpID09PSAiZGFyayIgOiBSZWR1eFN0b3JlLmdldFN0YXRlKCkuc2NyYXRjaEd1aS50aGVtZS50aGVtZS5ndWkgPT09ICJkYXJrIjsKICAgIC8vIFNjcmF0Y2ggY3JlYXRlcyBhIG5ldyB3b3Jrc3BhY2UgZm9yIEN1c3RvbSBCbG9ja3MsIHdlIG5lZWQgdG8gY2FwdHVyZSBpdAogICAgY29uc3QgbmV3V29ya3NwYWNlID0gU2NyYXRjaEJsb2Nrcy5tYWluV29ya3NwYWNlOwogICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbY2xhc3M9IlJlYWN0TW9kYWxQb3J0YWwiXWApOwogICAgbW9kYWwucXVlcnlTZWxlY3RvcihgZGl2W2NsYXNzKj0ibW9kYWxfaGVhZGVyLWl0ZW0tdGl0bGUiXWApLnRleHRDb250ZW50ID0gIk1ha2UgYSBCbG9jaysiOwogICAgaWYgKCFpc1BNKSBtb2RhbC5xdWVyeVNlbGVjdG9yKGBkaXZbY2xhc3MqPSJtb2RhbF9tb2RhbC1vdmVybGF5XyJdYCkuc3R5bGUudG9wID0gIi0yNXB4IjsKICAgIGVsc2UgewogICAgICBjb25zdCBvcHRpb25Sb3cgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKGBbY2xhc3NePSJjdXN0b20tcHJvY2VkdXJlc19vcHRpb25zLXJvd18iXWApOwogICAgICBjb25zdCByZXR1cm5DaGVjayA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoYGlucHV0W3R5cGU9ImNoZWNrYm94Il1gKTsKCiAgICAgIGNvbnN0IGlubmVyTW9kYWwgPSBtb2RhbC5maXJzdENoaWxkOwogICAgICBpbm5lck1vZGFsLnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICBsZXQgb2dUb3A7CiAgICAgIGlubmVyTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgKCkgPT4gewogICAgICAgIGNvbnN0IGFjdGl2ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZGl2W2NsYXNzXj0iYmxvY2tseVdpZGdldERpdiJdW2NsYXNzKj0iZmllbGRUZXh0SW5wdXQiXWApOwogICAgICAgIGlmIChhY3RpdmVJbnB1dCkgewogICAgICAgICAgaWYgKCFvZ1RvcCkgewogICAgICAgICAgICBjb25zdCBtb2RhbFJlY3QgPSBpbm5lck1vZGFsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBjb25zdCBpbnB1dFJlY3QgPSBhY3RpdmVJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgb2dUb3AgPSBpbnB1dFJlY3QudG9wIC0gbW9kYWxSZWN0LnRvcCArIGlubmVyTW9kYWwuc2Nyb2xsVG9wOwogICAgICAgICAgfQogICAgICAgICAgYWN0aXZlSW5wdXQuc3R5bGUudG9wID0gYCR7b2dUb3AgLSBpbm5lck1vZGFsLnNjcm9sbFRvcH1weGA7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoYFtjbGFzc149ImN1c3RvbS1wcm9jZWR1cmVzX2NvbG9yLXBpY2tlci1hcmVhXyJdYCkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgaWYgKG9wdGlvblJvd1sxXSkgb3B0aW9uUm93WzFdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGlmIChyZXR1cm5DaGVja1sxXSkgcmV0dXJuQ2hlY2tbMV0ucGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgICAgb3B0aW9uUm93WzFdLnN0eWxlLmRpc3BsYXkgPSBlLnRhcmdldC5jaGVja2VkID8gIiIgOiAibm9uZSI7CiAgICAgIH0pOwogICAgfQogICAgY29uc3Qgcm93ID0gbW9kYWwucXVlcnlTZWxlY3RvcihgW2NsYXNzXj0iY3VzdG9tLXByb2NlZHVyZXNfb3B0aW9ucy1yb3dfIl1gKTsKICAgIGNvbnN0IGJsb2NrRWRpdG9yID0gbmV3V29ya3NwYWNlLmdldEJsb2NrQnlJZChtb2RhbC5xdWVyeVNlbGVjdG9yKCJnW2RhdGEtaWRdIikuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIikpOwogICAgY29uc3QgY3VyUHJvYyA9IGJsb2NrRWRpdG9yLnByb2NDb2RlXzsKICAgIHRlbXBTdG9yZSA9IHN0cnVjdHVyZWRDbG9uZShzdG9yZUdldChjdXJQcm9jKSkgfHwge307IC8vIFJlc2V0CiAgICBibG9ja0VkaXRvci5TUG1icENTVF9zdG9yZSA9IHRlbXBTdG9yZTsKCiAgICBhdHRhY2hJbnB1dEJ0bnMocm93LCBibG9ja0VkaXRvciwgaXNEYXJrLCB3b3Jrc3BhY2UpOwogICAgYXR0YWNoQ29sb3JzKHJvdywgaXNEYXJrLCBibG9ja0VkaXRvcik7CiAgICBhdHRhY2hDaGVja2JveGVzKG1vZGFsLCBibG9ja0VkaXRvciwgaXNFZGl0aW5nLCBjdXJQcm9jKTsKCiAgICAvLyBBdHRhY2ggT2theSBCdXR0b24gTGlzdGVuZXIKICAgIGNvbnN0IG9rQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcihgYnV0dG9uW2NsYXNzXj0iY3VzdG9tLXByb2NlZHVyZXNfb2stYnV0dG9uXyJdYCk7CiAgICBva0J0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgIC8vIHByZXZlbnQgcHJvY2NvZGUgY29uZmxpY3RzCiAgICAgIGNvbnN0IHByb2MgPSBibG9ja0VkaXRvci5wcm9jQ29kZV87CiAgICAgIGxldCBwcm90b0V4aXN0cyA9IFNjcmF0Y2hCbG9ja3MuUHJvY2VkdXJlcy5nZXRQcm90b3R5cGVCbG9jayhwcm9jLCB3b3Jrc3BhY2UpOwogICAgICBpZiAoIXByb3RvRXhpc3RzKSB7CiAgICAgICAgcmVmcmVzaEdsb2JhbEJsb2Nrc0NhY2hlKCk7CiAgICAgICAgY29uc3QgdGhpc0lEID0gdm0uZWRpdGluZ1RhcmdldC5pZDsKICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBydW50aW1lLnRhcmdldHMpIHsKICAgICAgICAgIHByb3RvRXhpc3RzID0gdGFyZ2V0LmJsb2Nrcy5nZXRQcm9jZWR1cmVEZWZpbml0aW9uKHByb2MpOwogICAgICAgICAgaWYgKHByb3RvRXhpc3RzKSB7CiAgICAgICAgICAgIGlmICh0aGlzSUQgPT09IGdsb2JhbEJsb2Nrc0NhY2hlW3Byb2NdPy5pZCkgewogICAgICAgICAgICAgIHByb3RvRXhpc3RzID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmICh0aGlzSUQgPT09IHRhcmdldC5pZCAmJiBpc0VkaXRpbmcpIHByb3RvRXhpc3RzID0gdW5kZWZpbmVkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgocHJvdG9FeGlzdHMgJiYgKCFpc0VkaXRpbmcgfHwgY3VyUHJvYyAhPT0gcHJvYykpKSB7CiAgICAgICAgYWxlcnQoIkEgY3VzdG9tIGJsb2NrIHdpdGggdGhpcyB0ZXh0IGFscmVhZHkgZXhpc3RzISIpOwogICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjbGVhbnVwQmxvY2tJbnB1dHModGVtcFN0b3JlLmlucHV0cywgYmxvY2tFZGl0b3IuYXJndW1lbnRJZHNfKTsKICAgICAgc3RvcmVTZXQoYmxvY2tFZGl0b3IucHJvY0NvZGVfLCB0ZW1wU3RvcmUpOwogICAgICBpZiAoaXNFZGl0aW5nICYmIGN1clByb2MgIT09IGJsb2NrRWRpdG9yLnByb2NDb2RlXykgc3RvcmVEZWwoY3VyUHJvYyk7CiAgICAgIHJlZnJlc2hHbG9iYWxCbG9ja3NDYWNoZSgpOwoKICAgICAgaWYgKGlzUE0pIHsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCByZXR1cm5UeXBlRXJyb3IsIHsgb25jZTogdHJ1ZSB9KTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCByZXR1cm5UeXBlRXJyb3IsIHsgb25jZTogdHJ1ZSB9KTsKICAgICAgfQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBnZW5EcnBCdXR0b24oY29udGFpbmVyLCBvcHRzLCBkZWZhdWx0VmFsdWUsIGlzRGFyaywgaXNMYWJlbCwgY2hhbmdlRnVuYywgc2V0RnVuYykgewogICAgY29uc3QgaW1nID0gY29udGFpbmVyLmNoaWxkTm9kZXNbMF0sIGJ0biA9IGNvbnRhaW5lci5jaGlsZE5vZGVzWzJdOwogICAgaW1nLnNyYyA9IGRlZmF1bHRWYWx1ZTsKICAgIGlmIChpc0xhYmVsKSBjb250YWluZXIuY2hpbGROb2Rlc1sxXS5maXJzdENoaWxkLnRleHRDb250ZW50ID0gIkFkZCBhIGxhYmVsIjsKCiAgICAvLyByZXBsYWNlIHRleHQgd2l0aCBkcm9wZG93biBpbnB1dAogICAgbGV0IGRycGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTsKICAgIGRycGRvd24uc2V0QXR0cmlidXRlKCJzdHlsZSIsIGAke2lzTGFiZWwgPyAid2lkdGg6IDEwMCU7ICIgOiAiIn0gYm9yZGVyLXJhZGl1czogNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJhY2tncm91bmQ6ICR7aXNEYXJrID8gIiMxZTFlMWUiIDogIiNmZmYifTsgYm9yZGVyOiAycHggc29saWQgdmFyKC0tdWktYmxhY2stdHJhbnNwYXJlbnQsIHJnYmEoMCwgMCwgMCwgMC4xNSkpO2ApOwogICAgZm9yIChjb25zdCBbdHh0LCB2YWxdIG9mIG9wdHMpIHsKICAgICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQudGV4dCA9IHR4dDsgb3B0LnZhbHVlID0gdmFsOwogICAgICBkcnBkb3duLmFwcGVuZENoaWxkKG9wdCk7CiAgICB9OwogICAgYnRuLnJlcGxhY2VDaGlsZChkcnBkb3duLCBidG4ucXVlcnlTZWxlY3Rvcigic3BhbiIpKTsKCiAgICAvLyBvbiBGaXJlZm94LCB0aGUgImNsaWNrIiBldmVudCB3aWxsIHByb3BhZ2F0ZSB0byB0aGUgYnV0dG9uLCB3aGljaCB3aWxsIGFkZCBhbm90aGVyIGlucHV0LiBkb24ndCBkbyB0aGF0CiAgICBkcnBkb3duLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpOwogICAgZHJwZG93bi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoZSkgPT4gewogICAgICBjaGFuZ2VGdW5jKGUudGFyZ2V0LnZhbHVlLCBpbWcpOwogICAgICBjb250YWluZXIuY2xpY2soKTsKICAgIH0pOwogICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHNldEZ1bmMoZSwgZHJwZG93bikpOwogICAgcmV0dXJuIGNvbnRhaW5lcjsKICB9CgogIGZ1bmN0aW9uIGF0dGFjaElucHV0QnRucyhyb3csIGVkaXRvciwgaXNEYXJrLCB3b3Jrc3BhY2UpIHsKICAgIGNvbnN0IG9sZEJvb2xVUkwgPSByb3cuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLnNyYzsKICAgIGNvbnN0IG9sZExhYmVsVVJMID0gcm93LmNoaWxkTm9kZXNbaXNQTSA/IDMgOiAyXS5jaGlsZE5vZGVzWzBdLnNyYzsKCiAgICAvLyBkcm9wZG93biBidG4KICAgIGNvbnN0IGRyb3BCdG4gPSByb3cuY2hpbGROb2Rlc1sxXS5jbG9uZU5vZGUodHJ1ZSk7CiAgICBkcm9wQnRuLmNoaWxkTm9kZXNbMF0uc3JjID0gZ3VpVVJJcygiZHJvcGR3biIpOwogICAgZHJvcEJ0bi5jaGlsZE5vZGVzWzJdLnRleHRDb250ZW50ID0gImRyb3Bkb3duIjsKICAgIHJvdy5pbnNlcnRCZWZvcmUoZHJvcEJ0biwgcm93LmNoaWxkTm9kZXNbMl0pOwogICAgZHJvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IG9wZW5NZW51U2VsZWN0b3IoZWRpdG9yLCBpc0RhcmssIHdvcmtzcGFjZSkpOwoKICAgIC8vIGJyYW5jaCBidG4KICAgIGNvbnN0IGJyYW5jaEJ0biA9IHJvdy5jaGlsZE5vZGVzWzFdLmNsb25lTm9kZSh0cnVlKTsKICAgIGJyYW5jaEJ0bi5jaGlsZE5vZGVzWzBdLnNyYyA9IGlucHV0VVJJcygiYnJjIik7CiAgICBicmFuY2hCdG4uY2hpbGROb2Rlc1syXS50ZXh0Q29udGVudCA9ICJicmFuY2giOwogICAgcm93Lmluc2VydEJlZm9yZShicmFuY2hCdG4sIHJvdy5jaGlsZE5vZGVzWzNdKTsKICAgIGJyYW5jaEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgIGVkaXRvci5hZGRTdHJpbmdOdW1iZXJFeHRlcm5hbCgpOwogICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoKICAgICAgY29uc3QgYXJncyA9IGVkaXRvci5hcmd1bWVudElkc187CiAgICAgIGNvbnN0IGlkID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdOwogICAgICBjb25zdCBpbnB1dHMgPSB0ZW1wU3RvcmUuaW5wdXRzIHx8IHt9OwogICAgICBpbnB1dHNbaWRdID0geyB0eXBlOiAiYnJjIiwgaXNEcm9wOiBmYWxzZSB9OwogICAgICB0ZW1wU3RvcmUuaW5wdXRzID0gaW5wdXRzOwogICAgICBjbGVhbnVwQmxvY2tJbnB1dHMoaW5wdXRzLCBhcmdzKTsKCiAgICAgIGVkaXRvci5kaXNwbGF5TmFtZXNfW2FyZ3MubGVuZ3RoIC0gMV0gPSAiYnJhbmNoIjsKICAgICAgZWRpdG9yLnVwZGF0ZURpc3BsYXlfKCk7CiAgICAgIGVkaXRvci5mb2N1c0xhc3RFZGl0b3JfKCk7CiAgICB9KTsKCiAgICAvLyBkeW5hbWljIGJ0bnMKICAgIGNvbnN0IGxhYlBhdGhzID0gW1sidGV4dCIsICJ0ZXh0Il0sIFsiaW1hZ2UiLCAiaW1nIl1dOwogICAgY29uc3QgaW5wUGF0aHMgPSBbCiAgICAgIFsibnVtYmVyIG9yIHRleHQiLCAibm9ybSJdLCBbIm51bWJlciIsICJudW0iXSwgWyJib29sZWFuIiwgImJvb2wiXSwgWyJhbmdsZSIsICJhbmciXSwKICAgICAgWyJjb2xvciIsICJjb2wiXSwgWyJwaWFubyIsICJub3RlIl0sIFsibWF0cml4IiwgIm1hdCJdLCBbImVtcHR5IiwgImVtcCJdCiAgICBdOwoKICAgIGNvbnN0IHRlbXBCdG4gPSByb3cuY2hpbGROb2Rlc1sxXTsKICAgIHJvdy5yZXBsYWNlQ2hpbGQoZ2VuRHJwQnV0dG9uKAogICAgICB0ZW1wQnRuLmNsb25lTm9kZSh0cnVlKSwgaW5wUGF0aHMsIGlucHV0VVJJcygibm9ybSIpLCBpc0RhcmssIGZhbHNlLAogICAgICAodmFsdWUsIGltZykgPT4gewogICAgICAgIGltZy5zcmMgPSB2YWx1ZSA9PT0gImJvb2wiID8gb2xkQm9vbFVSTCA6IGlucHV0VVJJcyh2YWx1ZSk7CiAgICAgIH0sCiAgICAgIChlLCBkcnBkb3duKSA9PiB7CiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBkcnBkb3duKSByZXR1cm47CiAgICAgICAgaWYgKGRycGRvd24udmFsdWUgPT09ICJib29sIikgewogICAgICAgICAgZWRpdG9yLmFkZEJvb2xlYW5FeHRlcm5hbCgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBlZGl0b3IuYWRkU3RyaW5nTnVtYmVyRXh0ZXJuYWwoKTsKICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyAvLyBkb24ndCBydW4gdGhlIG9sZCBhZGQgZXZlbnQKICAgICAgICBpZiAoZHJwZG93bi52YWx1ZSA9PT0gIm5vcm0iKSByZXR1cm47CgogICAgICAgIGNvbnN0IGFyZ3MgPSBlZGl0b3IuYXJndW1lbnRJZHNfOwogICAgICAgIGNvbnN0IGlkID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdOwogICAgICAgIGNvbnN0IGlucHV0cyA9IHRlbXBTdG9yZS5pbnB1dHMgfHwge307CiAgICAgICAgaW5wdXRzW2lkXSA9IHsgdHlwZTogZHJwZG93bi52YWx1ZSwgaXNEcm9wOiBmYWxzZSB9OwogICAgICAgIHRlbXBTdG9yZS5pbnB1dHMgPSBpbnB1dHM7CiAgICAgICAgY2xlYW51cEJsb2NrSW5wdXRzKGlucHV0cywgYXJncyk7CgogICAgICAgIGVkaXRvci5kaXNwbGF5TmFtZXNfW2FyZ3MubGVuZ3RoIC0gMV0gPSBkcnBkb3duLnNlbGVjdGVkT3B0aW9uc1swXS50ZXh0Q29udGVudDsKICAgICAgICBlZGl0b3IudXBkYXRlRGlzcGxheV8oKTsKICAgICAgICBlZGl0b3IuZm9jdXNMYXN0RWRpdG9yXygpOwogICAgICB9CiAgICApLCByb3cuY2hpbGROb2Rlc1swXSk7CiAgICByb3cucmVwbGFjZUNoaWxkKGdlbkRycEJ1dHRvbigKICAgICAgdGVtcEJ0bi5jbG9uZU5vZGUodHJ1ZSksIGxhYlBhdGhzLCBvbGRMYWJlbFVSTCwgaXNEYXJrLCB0cnVlLAogICAgICAodmFsdWUsIGltZykgPT4gewogICAgICAgIGltZy5zcmMgPSB2YWx1ZSA9PT0gInRleHQiID8gb2xkTGFiZWxVUkwgOiBpbnB1dFVSSXModmFsdWUpOwogICAgICB9LAogICAgICAoZSwgZHJwZG93bikgPT4gewogICAgICAgIGlmIChlLnRhcmdldCA9PT0gZHJwZG93bikgcmV0dXJuOwogICAgICAgIGlmIChkcnBkb3duLnZhbHVlID09PSAidGV4dCIpIGVkaXRvci5hZGRMYWJlbEV4dGVybmFsKCk7CiAgICAgICAgZWxzZSBvcGVuSW1nU2VsZWN0b3IoZWRpdG9yLCBpc0RhcmssIHdvcmtzcGFjZSk7CiAgICAgIH0KICAgICksIHJvdy5jaGlsZE5vZGVzW2lzUE0gPyA1IDogNF0pOwogICAgcm93LmNoaWxkTm9kZXNbMV0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9CgogIGZ1bmN0aW9uIGF0dGFjaENoZWNrYm94ZXMobW9kYWwsIGVkaXRvciwgaXNFZGl0aW5nLCBvZ1Byb2NvZGUpIHsKICAgIGNvbnN0IGNoZWNrUm93ID0gaXNQTSA/IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoYGRpdltjbGFzc149ImN1c3RvbS1wcm9jZWR1cmVzX2J1dHRvbi1yb3dfIl1gKS5wcmV2aW91c1NpYmxpbmcKICAgICAgOiBtb2RhbC5xdWVyeVNlbGVjdG9yKGBbY2xhc3NePSJjdXN0b20tcHJvY2VkdXJlc19jaGVja2JveC1yb3ciXWApOwogICAgY29uc3QgbWFrZUJveCA9ICh0eHQsIHZhbCwgZnVuYykgPT4gewogICAgICBjb25zdCBib3ggPSBjaGVja1Jvdy5maXJzdENoaWxkLmNsb25lTm9kZSh0cnVlKTsKICAgICAgYm94LmNoaWxkTm9kZXNbMV0udGV4dENvbnRlbnQgPSB0eHQ7CiAgICAgIGJveC5jaGlsZE5vZGVzWzBdLmNoZWNrZWQgPSB2YWw7CiAgICAgIGJveC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IGZ1bmMoYm94LmNoaWxkTm9kZXNbMF0uY2hlY2tlZCkpOwogICAgICByZXR1cm4gYm94OwogICAgfTsKICAgIGlmIChpc0VkaXRpbmcgJiYgaXNQTSkgewogICAgICBjb25zdCBpc1JldHVybmVyID0gZWRpdG9yLmdldFJldHVybnMoKTsKICAgICAgY29uc3QgcmV0dXJuVHlwZSA9IG1ha2VCb3goCiAgICAgICAgIkJvb2xlYW4iLCBlZGl0b3Iub3V0cHV0VHlwZSA9PT0gImJvb2xlYW4iLAogICAgICAgICh2YWwpID0+IHsgZWRpdG9yLnNldFR5cGUodmFsID8gImJvb2xlYW4iIDogInN0cmluZyIpIH0KICAgICAgKTsKICAgICAgcmV0dXJuVHlwZS5zdHlsZS5kaXNwbGF5ID0gaXNSZXR1cm5lciA/ICIiIDogIm5vbmUiOwogICAgICByZXR1cm5UeXBlLnN0eWxlLm1hcmdpbkxlZnQgPSAiNXB4IjsKICAgICAgY29uc3QgcmV0dXJuQ2hlY2sgPSBtYWtlQm94KAogICAgICAgICJSZXR1cm5zIGEgdmFsdWUiLCBpc1JldHVybmVyLAogICAgICAgICh2YWwpID0+IHsKICAgICAgICAgIGVkaXRvci5zZXRSZXR1cm5zKHZhbCk7CiAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgIGVkaXRvci5zZXRUeXBlKCJzdHJpbmciKTsKICAgICAgICAgICAgcmV0dXJuVHlwZS5jaGlsZE5vZGVzWzBdLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuVHlwZS5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlZGl0b3Iuc2V0VHlwZSgic3RhdGVtZW50Iik7CiAgICAgICAgICAgIHJldHVyblR5cGUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICk7CiAgICAgIGNoZWNrUm93LmFwcGVuZChyZXR1cm5DaGVjaywgcmV0dXJuVHlwZSk7CiAgICB9CiAgICBjaGVja1Jvdy5hcHBlbmQoaXNQTSAmJiAhaXNFZGl0aW5nID8gIiIgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpLCBtYWtlQm94KAogICAgICAiQ2FwIGJsb2NrIiwgdGVtcFN0b3JlLmlzVGVybWluYWwgIT09IHVuZGVmaW5lZCA/IHRlbXBTdG9yZS5pc1Rlcm1pbmFsIDogZmFsc2UsCiAgICAgICh2YWwpID0+IHsKICAgICAgICBlZGl0b3Iuc2V0TmV4dFN0YXRlbWVudCghdmFsKTsKICAgICAgICB0ZW1wU3RvcmUuaXNUZXJtaW5hbCA9IHZhbDsKICAgICAgfQogICAgKSk7CiAgICBjaGVja1Jvdy5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSwgbWFrZUJveCgKICAgICAgIkF2YWlsYWJsZSBmb3IgYWxsIHNwcml0ZXMiLCB0ZW1wU3RvcmUuZ2xvYmFsICE9PSB1bmRlZmluZWQgPyB0ZW1wU3RvcmUuZ2xvYmFsIDogZmFsc2UsCiAgICAgICh2YWwpID0+IHsgdGVtcFN0b3JlLmdsb2JhbCA9IHZhbCB9CiAgICApKTsKICB9CgogIGZ1bmN0aW9uIGF0dGFjaENvbG9ycyhyb3csIGlzRGFyaywgZWRpdG9yKSB7CiAgICBjb25zdCBjb2xvclV0aWwgPSBTY3JhdGNoQmxvY2tzLmdvb2cuY29sb3I7CiAgICBjb25zdCBib3VuY2VBbmltID0gKGNpcmMpID0+IHsKICAgICAgY2lyYy5hbmltYXRlKAogICAgICAgIFt7IHRyYW5zZm9ybTogInNjYWxlKDAuNzUpIiB9LCB7IHRyYW5zZm9ybTogInNjYWxlKDEpIiB9XSwgeyBkdXJhdGlvbjogMjAwLCBlYXNpbmc6ICJlYXNlLWluLW91dCIgfQogICAgICApOwogICAgfTsKICAgIGNvbnN0IHNldENvbCA9IChjb2wpID0+IHsKICAgICAgdGVtcFN0b3JlLmNvbG9yID0gY29sOwogICAgICBjb25zdCByZ2IgPSBjb2xvclV0aWwuaGV4VG9SZ2IoY29sKTsKICAgICAgaWYgKGlzUE0pIHsKICAgICAgICBlZGl0b3Iuc2V0Q29sb3IoCiAgICAgICAgICBjb2wsCiAgICAgICAgICBjb2xvclV0aWwucmdiQXJyYXlUb0hleChjb2xvclV0aWwuZGFya2VuKHJnYiwgMC4xKSksCiAgICAgICAgICBjb2xvclV0aWwucmdiQXJyYXlUb0hleChjb2xvclV0aWwuZGFya2VuKHJnYiwgMC4yKSkKICAgICAgICApOwogICAgICB9IGVsc2UgewogICAgICAgIGVkaXRvci5zZXRDb2xvdXIoLi4udGhlbWVpZnlDb2xvcihjb2wpKTsKICAgICAgICBlZGl0b3IudXBkYXRlRGlzcGxheV8oKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgY29sb3JEaXYuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLXRvcDogMTVweDsgYm9yZGVyLXJhZGl1czogMTBweDsiKTsKICAgIGlmIChpc1BNKSBjb2xvckRpdi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTVweCI7CiAgICBjb2xvckRpdi5zdHlsZS5ib3JkZXIgPSBgc29saWQgJHtpc0RhcmsgPyAiIzM0MzQzNCIgOiAiI0Q5RDlEOSJ9IDIuNXB4YDsKCiAgICBjb25zdCBjb2xvckxpc3QgPSBpc1BNID8gU2NyYXRjaEJsb2Nrcy5Db2xvdXJzIDogUmVkdXhTdG9yZS5nZXRTdGF0ZSgpLnNjcmF0Y2hHdWkudGhlbWUudGhlbWUuZ2V0U3RhZ2VCbG9ja0NvbG9ycygpOwogICAgY29uc3QgY29sb3JzID0gWwogICAgICBjb2xvckxpc3QubW90aW9uLnByaW1hcnksIGNvbG9yTGlzdC5sb29rcy5wcmltYXJ5LCBjb2xvckxpc3Quc291bmRzLnByaW1hcnksCiAgICAgIGNvbG9yTGlzdC5ldmVudC5wcmltYXJ5LCBjb2xvckxpc3QuY29udHJvbC5wcmltYXJ5LCBjb2xvckxpc3Quc2Vuc2luZy5wcmltYXJ5LAogICAgICBjb2xvckxpc3Qub3BlcmF0b3JzLnByaW1hcnksIGNvbG9yTGlzdC5kYXRhLnByaW1hcnksIGNvbG9yTGlzdC5kYXRhX2xpc3RzLnByaW1hcnksCiAgICAgIGNvbG9yTGlzdC5tb3JlLnByaW1hcnksIGNvbG9yTGlzdC5wZW4ucHJpbWFyeSwgInJlZCIsCiAgICBdOwogICAgY29sb3JzLmZvckVhY2goY29sb3IgPT4gewogICAgICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6IDM1cHg7IGhlaWdodDogMzVweDsgYm9yZGVyLXJhZGl1czogNTAlOyBib3JkZXI6IDIuNXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMyk7IG1hcmdpbjogN3B4OyBjdXJzb3I6IHBvaW50ZXI7Iik7CiAgICAgIGNpcmNsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgICAgY2lyY2xlLnN0eWxlLmJveFNoYWRvdyA9IGAwcHggMHB4IDBweCAyLjVweCAke2lzRGFyayA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In1gOwogICAgICBjb2xvckRpdi5hcHBlbmRDaGlsZChjaXJjbGUpOwogICAgICBpZiAoY29sb3IgPT09ICJyZWQiKSB7CiAgICAgICAgY29uc3QgaW5uZXJJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgICBpbm5lckltZy5zcmMgPSBndWlVUklzKCJjb2xvclBrciIpOwogICAgICAgIGlubmVySW1nLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6IDI1cHg7IGhlaWdodDogMjVweDsgcG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nOiAycHg7IGxlZnQ6IDUwJTsgdG9wOiA1MCU7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOyIpOwogICAgICAgIGNpcmNsZS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIGJvdW5jZUFuaW0oY2lyY2xlKTsKICAgICAgICAgIGNvbElucC5jbGljaygpOwogICAgICAgIH0pOwoKICAgICAgICBjb25zdCBjb2xJbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIGNvbElucC50eXBlID0gImNvbG9yIjsKICAgICAgICBjb2xJbnAuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvcGFjaXR5OiAwOyBjdXJzb3I6IHBvaW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgxNXB4LCAtMjVweCk7Iik7CiAgICAgICAgY2lyY2xlLmFwcGVuZChpbm5lckltZywgY29sSW5wKTsKICAgICAgICBjb2xJbnAuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoKSA9PiB7CiAgICAgICAgICBjaXJjbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sSW5wLnZhbHVlOwogICAgICAgICAgc2V0Q29sKGNvbElucC52YWx1ZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgYm91bmNlQW5pbShjaXJjbGUpOwogICAgICAgICAgc2V0Q29sKGNvbG9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBpZiAoIXRlbXBTdG9yZS5jb2xvcikgc2V0Q29sKGNvbG9yc1s5XSk7CiAgICByb3cucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29sb3JEaXYsIHJvdy5wYXJlbnROb2RlLmxhc3RDaGlsZC5wcmV2aW91c1NpYmxpbmcpOwogIH0KCiAgLy8gQ3VzdG9tIE1pbmkgTW9kYWxzCiAgZnVuY3Rpb24gb3Blbk1vZGFsKHRpdGxlTmFtZSwgd29ya2VyRm4sIGNhbGxiYWNrRm4pIHsKICAgIGNvbnN0IG1vZGFsU3RvcmFnZSA9IHt9OwogICAgU2NyYXRjaEJsb2Nrcy5wcm9tcHQoCiAgICAgICIiLCAiIiwgKCkgPT4gY2FsbGJhY2tGbihtb2RhbFN0b3JhZ2UudmFsdWUpLAogICAgICB0aXRsZU5hbWUsICJicm9hZGNhc3RfbXNnIgogICAgKTsKCiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBkaXZbY2xhc3M9IlJlYWN0TW9kYWxQb3J0YWwiXWApOwogICAgbW9kYWwgPSBtb2RhbFttb2RhbC5sZW5ndGggLSAxXTsKICAgIG1vZGFsLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsgbW9kYWwuc3R5bGUuekluZGV4ID0gIjk5OTk5IjsKICAgIGNvbnN0IGJveE1vZGFsID0gbW9kYWwucXVlcnlTZWxlY3RvcigiaW5wdXQiKS5wYXJlbnROb2RlOwogICAgYm94TW9kYWwucHJldmlvdXNTaWJsaW5nLnJlbW92ZSgpOyBib3hNb2RhbC5maXJzdENoaWxkLnJlbW92ZSgpOwogICAgd29ya2VyRm4oYm94TW9kYWwsIG1vZGFsU3RvcmFnZSk7CiAgfQoKICBmdW5jdGlvbiBvcGVuTWVudVNlbGVjdG9yKGVkaXRvciwgaXNEYXJrLCBvZ1dvcmtzcGFjZSkgewogICAgY29uc3QgYXJyb3dJY29uID0gaXNQTSA/ICJzdGF0aWMvYmxvY2tzLW1lZGlhL2Ryb3Bkb3duLWFycm93IiA6ICIvc3RhdGljL2Jsb2Nrcy1tZWRpYS9kZWZhdWx0L2Ryb3Bkb3duLWFycm93IjsKCiAgICAvLyBHZXQgQWxsIERyb3Bkb3ducwogICAgY29uc3QgYXZvaWQgPSBbImxvb2tzX2Nvc3R1bWVudW1iZXJuYW1lIiwgImV4dGVuc2lvbl93ZWRvX3RpbHRfbWVudSIsICJsbXNNb3JlRXZlbnRzX21lbnVfc3RhdGUiXTsKICAgIGxldCBhbGxCbG9ja3MgPSBPYmplY3Qua2V5cyhTY3JhdGNoQmxvY2tzLkJsb2Nrcyk7CiAgICBhbGxCbG9ja3MgPSBhbGxCbG9ja3MuZmlsdGVyKChpKSA9PiBpLmluY2x1ZGVzKCJtZW51IikgJiYgIWF2b2lkLmluY2x1ZGVzKGkpKTsKICAgIGFsbEJsb2Nrcy51bnNoaWZ0KCJsb29rc19jb3N0dW1lIiwgImxvb2tzX2JhY2tkcm9wcyIsICJzZW5zaW5nX2tleW9wdGlvbnMiKTsKICAgIGFsbEJsb2Nrcy5mb3JFYWNoKChlLCBpKSA9PiB7CiAgICAgIGlmIChlLnN0YXJ0c1dpdGgoQ1VTVE9NX01FTlVfSUQpKSB7CiAgICAgICAgYWxsQmxvY2tzLnVuc2hpZnQoZSk7CiAgICAgICAgYWxsQmxvY2tzLnNwbGljZShpICsgMSwgMSk7CiAgICAgIH0KICAgIH0pOwoKICAgIG9wZW5Nb2RhbCgKICAgICAgIlNlbGVjdCBhIERyb3Bkb3duIiwKICAgICAgKG1vZGFsLCBtb2RhbFN0b3JhZ2UpID0+IHsKICAgICAgICBtb2RhbFN0b3JhZ2UudmFsdWUgPSBhbGxCbG9ja3NbMF07CiAgICAgICAgY29uc3QgZHJvcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGRyb3BEaXYuc2V0QXR0cmlidXRlKCJzdHlsZSIsIGB3aWR0aDogMTAwJTsgaGVpZ2h0OiAyMDBweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgb3ZlcmZsb3c6IHNjcm9sbDsgYm9yZGVyOiBzb2xpZCAke2lzRGFyayA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In0gMnB4OyBib3JkZXItcmFkaXVzOiAxMHB4O2ApOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQmxvY2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBkcm9wSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksIHByZXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGRyb3BJdGVtLnNldEF0dHJpYnV0ZSgic3R5bGUiLCBgY3Vyc29yOiBwb2ludGVyOyBwYWRkaW5nOiA4cHg7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IG1heC1jb250ZW50OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtgKTsKICAgICAgICAgIGRyb3BJdGVtLmFwcGVuZChwcmV2LCB0ZXh0KTsKICAgICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBhbGxCbG9ja3NbaV0ucmVwbGFjZShDVVNUT01fTUVOVV9JRCwgIiIpOwoKICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tID0gYWxsQmxvY2tzW2ldLmluY2x1ZGVzKENVU1RPTV9NRU5VX0lEKTsKICAgICAgICAgIGNvbnN0IGJsb2NrID0gb2dXb3Jrc3BhY2UuZ2V0QmxvY2tCeUlkKGFsbEJsb2Nrc1tpXSk7CiAgICAgICAgICBsZXQgcHJldlR4dCA9IGJsb2NrID8gYmxvY2suaW5wdXRMaXN0WzBdLmZpZWxkUm93WzBdLnRleHRfLnN1YnN0cmluZygwLCAxNykgOiAiIjsKICAgICAgICAgIGlmIChwcmV2VHh0Lmxlbmd0aCA9PT0gMTcpIHByZXZUeHQgKz0gIi4uLiI7CiAgICAgICAgICBwcmV2Lm91dGVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICR7aXNDdXN0b20gPyAiI0ZGNjY4MCIgOiBibG9jayA/IGJsb2NrLmNvbG91cl8gOiAiIzUwNTA1MCJ9OyBib3JkZXItcmFkaXVzOiAke2Jsb2NrID8gNTAgOiA1fXB4OyB3aWR0aDogbWF4LWNvbnRlbnQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogNXB4OyBwYWRkaW5nOiA1cHggMTBweCA1cHggMTBweDsgZm9udC13ZWlnaHQ6IDUwMDsgYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgwLDAsMCwwLjMpIj4KICAgICAgICAgICAgICA8c3Bhbj4ke2Jsb2NrID8gcHJldlR4dCA6ICI/Pz8ifTwvc3Bhbj48aW1nIHN0eWxlPSJtYXJnaW4tbGVmdDogNXB4OyIgc3JjPSIke2Fycm93SWNvbn0uc3ZnIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICBgOwoKICAgICAgICAgIGNvbnN0IGJnQ29sb3IgPSBpICUgMiA9PT0gMCA/IGlzQ3VzdG9tID8gIiNjYzUyNjY0MCIgOiAiI2FhYTMiIDogaXNDdXN0b20gPyAiI2NjNTI2NjgwIiA6ICJ0cmFuc3BhcmVudCI7CiAgICAgICAgICBkcm9wSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgdmFyKC0tc2VsZWN0ZWQtY29sb3IsICR7YmdDb2xvcn0pYDsKICAgICAgICAgIGlmIChpID09PSAwKSBkcm9wSXRlbS5zdHlsZS5zZXRQcm9wZXJ0eSgiLS1zZWxlY3RlZC1jb2xvciIsIGlzQ3VzdG9tID8gIiNmNzg4OWE5OSIgOiAiI2FhYWEiKTsKICAgICAgICAgIGRyb3BEaXYuYXBwZW5kQ2hpbGQoZHJvcEl0ZW0pOwogICAgICAgICAgZHJvcEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgICAgIEFycmF5LmZyb20oZHJvcERpdi5jaGlsZHJlbikuZm9yRWFjaChjID0+IGMuc3R5bGUucmVtb3ZlUHJvcGVydHkoIi0tc2VsZWN0ZWQtY29sb3IiKSk7CiAgICAgICAgICAgIGRyb3BJdGVtLnN0eWxlLnNldFByb3BlcnR5KCItLXNlbGVjdGVkLWNvbG9yIiwgaXNDdXN0b20gPyAiI2Y3ODg5YTk5IiA6ICIjYWFhYSIpOwogICAgICAgICAgICBtb2RhbFN0b3JhZ2UudmFsdWUgPSBhbGxCbG9ja3NbaV07CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgbW9kYWwuaW5zZXJ0QmVmb3JlKGRyb3BEaXYsIG1vZGFsLmxhc3RDaGlsZCk7CiAgICAgIH0sCiAgICAgICh2YWx1ZSkgPT4gewogICAgICAgIGVkaXRvci5hZGRTdHJpbmdOdW1iZXJFeHRlcm5hbCgpOwogICAgICAgIGNvbnN0IGFyZ3MgPSBlZGl0b3IuYXJndW1lbnRJZHNfOwogICAgICAgIGNvbnN0IGlkID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdOwogICAgICAgIGVkaXRvci5kaXNwbGF5TmFtZXNfW2FyZ3MubGVuZ3RoIC0gMV0gPSB2YWx1ZS5yZXBsYWNlKENVU1RPTV9NRU5VX0lELCAiIik7CiAgICAgICAgZWRpdG9yLnVwZGF0ZURpc3BsYXlfKCk7CiAgICAgICAgZWRpdG9yLmZvY3VzTGFzdEVkaXRvcl8oKTsKCiAgICAgICAgY29uc3QgaW5wdXRzID0gdGVtcFN0b3JlLmlucHV0cyB8fCB7fTsKICAgICAgICBpbnB1dHNbaWRdID0geyB0eXBlOiB2YWx1ZSwgaXNEcm9wOiB0cnVlIH07CiAgICAgICAgdGVtcFN0b3JlLmlucHV0cyA9IGlucHV0czsKICAgICAgICBjbGVhbnVwQmxvY2tJbnB1dHMoaW5wdXRzLCBhcmdzKTsKICAgICAgfQogICAgKTsKICB9CgogIC8vIEltYWdlIE1vZGFsCiAgZnVuY3Rpb24gb3BlbkltZ1NlbGVjdG9yKGVkaXRvciwgaXNEYXJrLCBvZ1dvcmtzcGFjZSkgewogICAgLy8gR2V0IEFsbCBJbWFnZXMKICAgIGNvbnN0IGltYWdlcyA9IG5ldyBTZXQoKTsKICAgIGNvbnN0IGV4dHJhY3RJbWFnZSA9IChibG9jaykgPT4gewogICAgICBpZiAoIWJsb2NrLmluaXQpIHJldHVybjsKICAgICAgbGV0IGpzb24gPSB7fTsKICAgICAgY29uc3QganNvbkluaXQgPSAoanNvbjApID0+IHsganNvbiA9IGpzb24wOyB9OwogICAgICB0cnkgewogICAgICAgIGJsb2NrLmluaXQuY2FsbCh7IGpzb25Jbml0IH0pOwogICAgICB9IGNhdGNoIHsgcmV0dXJuIH0KCiAgICAgIGZvciAoY29uc3Qga2V5IGluIGpzb24pIHsKICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoImFyZ3MiKSkgZm9yIChjb25zdCBhcmcgb2YganNvbltrZXldKSB7CiAgICAgICAgICBpZiAoYXJnLnR5cGUgPT09ICJmaWVsZF9pbWFnZSIgJiYgYXJnLnNyYykgaW1hZ2VzLmFkZChhcmcuc3JjKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBPYmplY3QudmFsdWVzKFNjcmF0Y2hCbG9ja3MuQmxvY2tzKS5mb3JFYWNoKGV4dHJhY3RJbWFnZSk7CgogICAgY29uc3Qgc2VsZWN0QnRuID0gKGRyb3BEaXYsIGJ0bikgPT4gewogICAgICBBcnJheS5mcm9tKGRyb3BEaXYuY2hpbGRyZW4pLmZvckVhY2goYyA9PiB7CiAgICAgICAgYy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAidmFyKC0tZGVmYXVsdC1iZykiOwogICAgICAgIGMuc3R5bGUuYm9yZGVyID0gInNvbGlkIHZhcigtLWRlZmF1bHQtYm9yZGVyKSAycHgiOwogICAgICB9KTsKICAgICAgYnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ2YXIoLS1sb29rcy10cmFuc3BhcmVudCwgaHNsYSgxOTQsIDEwMCUsIDUwJSwgMC4zNSkpIjsKICAgICAgYnRuLnN0eWxlLmJvcmRlciA9ICJzb2xpZCB2YXIoLS1sb29rcy1zZWNvbmRhcnksIGhzbCgxOTQsIDEwMCUsIDUwJSkpIDJweCI7CiAgICB9OwoKICAgIG9wZW5Nb2RhbCgKICAgICAgIlNlbGVjdCBhbiBJbWFnZSIsCiAgICAgIChtb2RhbCwgbW9kYWxTdG9yYWdlKSA9PiB7CiAgICAgICAgY29uc3QgZmxleENvbnN0ID0gImRpc3BsYXk6IGZsZXg7IGZsZXgtd3JhcDogd3JhcDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IjsKICAgICAgICBjb25zdCBib3JkZXJDb25zdCA9IGBib3JkZXI6IHNvbGlkIHZhcigtLWRlZmF1bHQtYm9yZGVyKSAycHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7YDsKICAgICAgICBjb25zdCBpdGVtQ1NTID0gYGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDc1cHg7IGhlaWdodDogNzVweDsgJHtmbGV4Q29uc3R9IHBhZGRpbmc6IDVweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVmYXVsdC1iZyk7IG1hcmdpbjogN3B4OyAke2JvcmRlckNvbnN0fSAtLWRlZmF1bHQtYm9yZGVyOiAke2lzRGFyayA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In07IC0tZGVmYXVsdC1iZzogJHtpc0RhcmsgPyAiIzFmMWYxZiIgOiAiI2Y1ZjVmNSJ9O2A7CgogICAgICAgIGNvbnN0IGRyb3BEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBkcm9wRGl2LnNldEF0dHJpYnV0ZSgic3R5bGUiLCBgd2lkdGg6IDEwMCU7IGhlaWdodDogMjAwcHg7ICR7ZmxleENvbnN0fSBvdmVyZmxvdzogaGlkZGVuIHNjcm9sbDsgbWFyZ2luLWJvdHRvbTogMTVweDsgJHtib3JkZXJDb25zdH0gLS1kZWZhdWx0LWJvcmRlcjogJHtpc0RhcmsgPyAiIzM0MzQzNCIgOiAiI0Q5RDlEOSJ9O2ApOwoKICAgICAgICBjb25zdCBkcm9wSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGRyb3BJdGVtLnNldEF0dHJpYnV0ZSgic3R5bGUiLCBpdGVtQ1NTKTsKICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJ3aWR0aDogNzUlOyBoZWlnaHQ6IDc1JTsiKTsKICAgICAgICBpbWcuc3JjID0gZ3VpVVJJcygiYWRkSW1nIik7CiAgICAgICAgCiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHRleHQuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJ0ZXh0LXdyYXA6IG5vd3JhcDsgZm9udC1zaXplOiA2MCU7Iik7CiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9ICJDdXN0b20gSW1hZ2UiOwogICAgICAgIGRyb3BJdGVtLmFwcGVuZChpbWcsIHRleHQpOwoKICAgICAgICBkcm9wRGl2LmFwcGVuZENoaWxkKGRyb3BJdGVtKTsKICAgICAgICBkcm9wSXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIGNvbnN0IHNyYyA9IHByb21wdCgiRW50ZXIgdGhlIFVSTCBvciBEYXRhLlVSSSBvZiB5b3VyIGltYWdlOiIpOwogICAgICAgICAgaWYgKHNyYykgewogICAgICAgICAgICBtb2RhbFN0b3JhZ2UudmFsdWUgPSBzcmM7CiAgICAgICAgICAgIHNlbGVjdEJ0bihkcm9wRGl2LCBkcm9wSXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSwgaSwgZCkgPT4gewogICAgICAgICAgY29uc3QgZHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGRyb3BJdGVtLnNldEF0dHJpYnV0ZSgic3R5bGUiLCBpdGVtQ1NTKTsKICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiKTsKICAgICAgICAgIGltZy5zcmMgPSBpbWFnZTsKICAgICAgICAgIGRyb3BJdGVtLmFwcGVuZENoaWxkKGltZyk7CgogICAgICAgICAgZHJvcERpdi5hcHBlbmRDaGlsZChkcm9wSXRlbSk7CiAgICAgICAgICBkcm9wSXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgICAgc2VsZWN0QnRuKGRyb3BEaXYsIGRyb3BJdGVtKTsKICAgICAgICAgICAgbW9kYWxTdG9yYWdlLnZhbHVlID0gaW1hZ2U7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBtb2RhbC5pbnNlcnRCZWZvcmUoZHJvcERpdiwgbW9kYWwubGFzdENoaWxkKTsKICAgICAgfSwKICAgICAgKHZhbHVlKSA9PiB7CiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuOwogICAgICAgIGVkaXRvci5hZGRTdHJpbmdOdW1iZXJFeHRlcm5hbCgpOwogICAgICAgIGNvbnN0IGFyZ3MgPSBlZGl0b3IuYXJndW1lbnRJZHNfOwogICAgICAgIGNvbnN0IGlkID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdOwogICAgICAgIGVkaXRvci5kaXNwbGF5TmFtZXNfW2FyZ3MubGVuZ3RoIC0gMV0gPSAiaW1hZ2UiOwogICAgICAgIGVkaXRvci51cGRhdGVEaXNwbGF5XygpOwogICAgICAgIGVkaXRvci5mb2N1c0xhc3RFZGl0b3JfKCk7CgogICAgICAgIGNvbnN0IGlucHV0cyA9IHRlbXBTdG9yZS5pbnB1dHMgfHwge307CiAgICAgICAgaW5wdXRzW2lkXSA9IHsgdHlwZTogImltZyIsIGlzRHJvcDogZmFsc2UsIHNyYzogc3RvcmVJbWFnZSh2YWx1ZSkgfTsKICAgICAgICB0ZW1wU3RvcmUuaW5wdXRzID0gaW5wdXRzOwogICAgICAgIGNsZWFudXBCbG9ja0lucHV0cyhpbnB1dHMsIGFyZ3MpOwogICAgICB9CiAgICApOwogIH0KCiAgLy8gQ29tcGlsZXIgUGF0Y2hlcwogIGZ1bmN0aW9uIGdldEV4cG9ydHMoKSB7CiAgICBpZiAodm0uZXhwb3J0cy5pX3dpbGxfbm90X2Fza19mb3JfaGVscF93aGVuX3RoZXNlX2JyZWFrKSByZXR1cm4gdm0uZXhwb3J0cy5pX3dpbGxfbm90X2Fza19mb3JfaGVscF93aGVuX3RoZXNlX2JyZWFrKCk7CiAgICBlbHNlIGlmICh2bS5leHBvcnRzLkpTR2VuZXJhdG9yICYmIHZtLmV4cG9ydHMuSVJHZW5lcmF0b3I/LmV4cG9ydHMpIHJldHVybiB7CiAgICAgIC4uLnZtLmV4cG9ydHMsIFNjcmlwdFRyZWVHZW5lcmF0b3I6IHZtLmV4cG9ydHMuSVJHZW5lcmF0b3IuZXhwb3J0cy5TY3JpcHRUcmVlR2VuZXJhdG9yCiAgICB9OwogIH0KICBjb25zdCBleHBvcnRzID0gZ2V0RXhwb3J0cygpOwogIGlmIChleHBvcnRzKSB7CiAgICBjb25zdCBzYW5pdGl6ZSA9IHN0cmluZyA9PiB7CiAgICAgIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAic3RyaW5nIikgewogICAgICAgIGNvbnNvbGUud2Fybihgc2FuaXRpemUgZ290IHVuZXhwZWN0ZWQgdHlwZTogJHt0eXBlb2Ygc3RyaW5nfWApOwogICAgICAgIHN0cmluZyA9ICIiICsgc3RyaW5nOwogICAgICB9CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHJpbmcpLnNsaWNlKDEsIC0xKTsKICAgIH07CgogICAgVGhyZWFkID0gZXhwb3J0cy5UaHJlYWQ7IGV4ZWN1dGUgPSBleHBvcnRzLmV4ZWN1dGU7CiAgICBjb25zdCB7IEpTR2VuZXJhdG9yLCBTY3JpcHRUcmVlR2VuZXJhdG9yIH0gPSBleHBvcnRzOwogICAgY29uc3QgZXhwID0gSlNHZW5lcmF0b3IuZXhwb3J0cyA9PT0gdW5kZWZpbmVkID8gSlNHZW5lcmF0b3IudW5zdGFibGVfZXhwb3J0cyA6IEpTR2VuZXJhdG9yLmV4cG9ydHM7CiAgICBjb25zdCBfb2dJUmRlc2NlbmRTdGFjayA9IFNjcmlwdFRyZWVHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRTdGFja2VkQmxvY2s7CiAgICBTY3JpcHRUcmVlR2VuZXJhdG9yLnByb3RvdHlwZS5kZXNjZW5kU3RhY2tlZEJsb2NrID0gZnVuY3Rpb24oYmxvY2spIHsKICAgICAgc3dpdGNoIChibG9jay5vcGNvZGUpIHsKICAgICAgICBjYXNlICJwcm9jZWR1cmVzX2NhbGwiOiB7CiAgICAgICAgICBjb25zdCBwcm9jID0gYmxvY2subXV0YXRpb24ucHJvY2NvZGU7CiAgICAgICAgICBjb25zdCBzdG9yZSA9IHN0b3JlR2V0KHByb2MsIHRoaXMudGFyZ2V0KTsKICAgICAgICAgIGlmICghdGhpcy50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdKSB0aGlzLnRocmVhZFt0YXJnZXRQcm9jRGF0YV0gPSB7fTsKICAgICAgICAgIHRoaXMudGhyZWFkW3RhcmdldFByb2NEYXRhXVtwcm9jXSA9IHsgYmxvY2ssIHN0b3JlIH07IC8vIGF0dGFjaCBzb21lIGRhdGEgd2UgbmVlZAogICAgICAgICAgaWYgKCFzdG9yZSB8fCAhc3RvcmUuaW5wdXRzKSByZXR1cm4gX29nSVJkZXNjZW5kU3RhY2suY2FsbCh0aGlzLCBibG9jayk7CgogICAgICAgICAgLy8gaWdub3JlIGJyYW5jaGVzIHRlbXBvcmFyaWx5CiAgICAgICAgICBjb25zdCBhcmdJZHMgPSBKU09OLnBhcnNlKGJsb2NrLm11dGF0aW9uLmFyZ3VtZW50aWRzKTsKICAgICAgICAgIGNvbnN0IGFwcGVuZGVycyA9IFtdOwogICAgICAgICAgY29uc3QgdGVtcEJsb2NrID0gc3RydWN0dXJlZENsb25lKGJsb2NrKTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gYmxvY2suaW5wdXRzW2FyZ0lkc1tpXV07CiAgICAgICAgICAgIGlmIChzdG9yZS5pbnB1dHNbaW5wdXQ/Lm5hbWVdPy50eXBlID09PSAiYnJjIikgewogICAgICAgICAgICAgIGFwcGVuZGVycy5wdXNoKFtpLCBpbnB1dC5ibG9ja10pOwogICAgICAgICAgICAgIGRlbGV0ZSB0ZW1wQmxvY2suaW5wdXRzW2lucHV0Lm5hbWVdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdW3Byb2NdLmFwcGVuZGVycyA9IGFwcGVuZGVyczsKICAgICAgICAgIGNvbnN0IG5vZGUgPSBfb2dJUmRlc2NlbmRTdGFjay5jYWxsKHRoaXMsIHRlbXBCbG9jayk7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcGVuZGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBub2RlLmFyZ3VtZW50c1thcHBlbmRlcnNbaV1bMF1dID0geyBraW5kOiAiY29uc3RhbnQiLCBtYnBLZXk6IHRydWUsIHZhbHVlOiB0aGlzLndhbGtTdGFjayhhcHBlbmRlcnNbaV1bMV0pIH07CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICB9CiAgICAgICAgY2FzZSAiU1BtYnBDU1Rfc2V0UGFyYW0iOiB7CiAgICAgICAgICBsZXQgcGFyYW1JbmRleCA9IHRoaXMuc2NyaXB0LmFyZ3VtZW50cy5sYXN0SW5kZXhPZihibG9jay5maWVsZHMuUEFSQU0udmFsdWUpOwogICAgICAgICAgaWYgKHBhcmFtSW5kZXggPT09IC0xKSB7CiAgICAgICAgICAgIHBhcmFtSW5kZXggPSB0aGlzLnNjcmlwdC5hcmd1bWVudHMubGVuZ3RoOwogICAgICAgICAgICB0aGlzLnNjcmlwdC5hcmd1bWVudHMucHVzaChibG9jay5maWVsZHMuUEFSQU0udmFsdWUpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAga2luZDogIlNQbWJwQ1NULnNldFBhcmFtIiwgcGFyYW1JbmRleCwgdmFsOiB0aGlzLmRlc2NlbmRJbnB1dE9mQmxvY2soYmxvY2ssICJWQUxVRSIpCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBjYXNlICJTUG1icENTVF9ldmFsUGFyYW0iOiB7CiAgICAgICAgICBjb25zdCBub2RlID0geyBraW5kOiAiU1BtYnBDU1QuZXZhbFBhcmFtIiB9OwogICAgICAgICAgaWYgKCF0aGlzLnRocmVhZFt0YXJnZXRQcm9jRGF0YV0pIHJldHVybiBub2RlOwogICAgICAgICAgY29uc3QgcHJvY0RhdGEgPSB0aGlzLnRocmVhZFt0YXJnZXRQcm9jRGF0YV1bdGhpcy5zY3JpcHQucHJvY2VkdXJlQ29kZV07CiAgICAgICAgICBjb25zdCBwcm9jZWR1cmVCbG9jayA9IHByb2NEYXRhPy5ibG9jazsKICAgICAgICAgIGlmIChwcm9jZWR1cmVCbG9jaykgewogICAgICAgICAgICBjb25zdCBwYXJhbUluZGV4ID0gdGhpcy5zY3JpcHQuYXJndW1lbnRzLmxhc3RJbmRleE9mKGJsb2NrLmZpZWxkcy5QQVJBTS52YWx1ZSk7CiAgICAgICAgICAgIGNvbnN0IGFyZ0lkcyA9IEpTT04ucGFyc2UocHJvY2VkdXJlQmxvY2subXV0YXRpb24uYXJndW1lbnRpZHMpOwogICAgICAgICAgICBpZiAocGFyYW1JbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgY29uc3QgYXJnID0gcHJvY2VkdXJlQmxvY2suaW5wdXRzW2FyZ0lkc1twYXJhbUluZGV4XV07CiAgICAgICAgICAgICAgaWYgKGFyZz8uYmxvY2sgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLnRhcmdldC5ibG9ja3MuZ2V0QmxvY2soYXJnLmJsb2NrKTsKICAgICAgICAgICAgICAgIG5vZGVbImlucHV0Il0gPSB0aGlzLmRlc2NlbmRJbnB1dChpbnB1dCk7CiAgICAgICAgICAgICAgICBub2RlWyJpbmRleCJdID0gcGFyYW1JbmRleDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgIH0KICAgICAgICBjYXNlICJTUG1icENTVF9ydW5CcmFuY2giOiB7CiAgICAgICAgICBjb25zdCBub2RlID0geyBraW5kOiAiU1BtYnBDU1QucnVuQnJhbmNoIiwgaW5kZXg6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIklOREVYIikgfTsKICAgICAgICAgIGlmICghdGhpcy50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdKSByZXR1cm4gbm9kZTsKICAgICAgICAgIGNvbnN0IHByb2NEYXRhID0gdGhpcy50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdW3RoaXMuc2NyaXB0LnByb2NlZHVyZUNvZGVdOwogICAgICAgICAgY29uc3QgcHJvY2VkdXJlQmxvY2sgPSBwcm9jRGF0YT8uYmxvY2s7CiAgICAgICAgICBpZiAocHJvY2VkdXJlQmxvY2spIG5vZGUuYXBwZW5kZXJzID0gcHJvY0RhdGEuYXBwZW5kZXJzOwogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgICAgfQogICAgICAgIGRlZmF1bHQ6IHJldHVybiBfb2dJUmRlc2NlbmRTdGFjay5jYWxsKHRoaXMsIGJsb2NrKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IF9vZ0lSZGVzY2VuZElucCA9IFNjcmlwdFRyZWVHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRJbnB1dDsKICAgIFNjcmlwdFRyZWVHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRJbnB1dCA9IGZ1bmN0aW9uKGJsb2NrKSB7CiAgICAgIGlmIChibG9jay5vcGNvZGUgPT09ICJTUG1icENTVF9nZXRQYXJhbSIpIHJldHVybiB7IGtpbmQ6ICJTUG1icENTVC5nZXRQYXJhbSIsIHBhcmFtOiB0aGlzLmRlc2NlbmRJbnB1dE9mQmxvY2soYmxvY2ssICJQQVJBTSIpIH07CiAgICAgIGVsc2UgcmV0dXJuIF9vZ0lSZGVzY2VuZElucC5jYWxsKHRoaXMsIGJsb2NrKTsKICAgIH07CiAgICBjb25zdCBfb2dKU2Rlc2NlbmRTdGFjayA9IEpTR2VuZXJhdG9yLnByb3RvdHlwZS5kZXNjZW5kU3RhY2tlZEJsb2NrOwogICAgSlNHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRTdGFja2VkQmxvY2sgPSBmdW5jdGlvbihub2RlKSB7CiAgICAgIHN3aXRjaCAobm9kZS5raW5kKSB7CiAgICAgICAgY2FzZSAicHJvY2VkdXJlcy5jYWxsIjogewogICAgICAgICAgLy8gVGhpcyBhbHNvIGdldHMgR2xvYmFsIFByb2NlZHVyZXMgdG8gd29yayBmb3Igc29tZSByZWFzb24KICAgICAgICAgIGNvbnN0IGFyZ0luZGV4ZXMgPSBbXTsKICAgICAgICAgIGxldCBmb3JjZVlpZWxkID0gZmFsc2U7CiAgICAgICAgICBjb25zdCBvZ1NvdXJjZSA9IHRoaXMuc291cmNlOwogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBhcmcgPSBub2RlLmFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgaWYgKCFhcmcudmFsdWUgfHwgIWFyZy5tYnBLZXkpIGNvbnRpbnVlOwogICAgICAgICAgICB0aGlzLnNvdXJjZSA9ICIiOwogICAgICAgICAgICB0aGlzLmRlc2NlbmRTdGFjayhhcmcudmFsdWUsIG5ldyBleHAuRnJhbWUoZmFsc2UpKTsKICAgICAgICAgICAgaWYgKHRoaXMuc2NyaXB0LnlpZWxkcykgewogICAgICAgICAgICAgIGFyZy52YWx1ZSA9IGBmdW5jdGlvbiogKCkgeyAke3RoaXMuc291cmNlfSB9YDsKICAgICAgICAgICAgICBmb3JjZVlpZWxkID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGFyZy52YWx1ZSA9IGAoKSA9PiB7ICR7dGhpcy5zb3VyY2V9IH1gOwogICAgICAgICAgICBhcmdJbmRleGVzLnB1c2goaSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNvdXJjZSA9IG9nU291cmNlOwoKICAgICAgICAgIGlmIChhcmdJbmRleGVzLmxlbmd0aCkgewogICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGJyYW5jaCBzdHJpbmcgdG8gYSBmdW5jdGlvbgogICAgICAgICAgICAvLyBtb2RpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9UdXJib1dhcnAvc2NyYXRjaC12bS9ibG9iL2RldmVsb3Avc3JjL2NvbXBpbGVyL2pzZ2VuLmpzCiAgICAgICAgICAgIGNvbnN0IHByb2NlZHVyZUNvZGUgPSBub2RlLmNvZGU7CiAgICAgICAgICAgIGNvbnN0IHByb2NlZHVyZVZhcmlhbnQgPSBub2RlLnZhcmlhbnQ7CiAgICAgICAgICAgIGNvbnN0IHByb2NlZHVyZURhdGEgPSB0aGlzLmlyLnByb2NlZHVyZXNbcHJvY2VkdXJlVmFyaWFudF07CiAgICAgICAgICAgIGlmIChwcm9jZWR1cmVEYXRhLnN0YWNrID09PSBudWxsKSBicmVhazsKCiAgICAgICAgICAgIGNvbnN0IHlpZWxkRm9yUmVjdXJzaW9uID0gIXRoaXMuaXNXYXJwICYmIHByb2NlZHVyZUNvZGUgPT09IHRoaXMuc2NyaXB0LnByb2NlZHVyZUNvZGU7CiAgICAgICAgICAgIGlmICh5aWVsZEZvclJlY3Vyc2lvbikgdGhpcy55aWVsZE5vdFdhcnAoKTsKICAgICAgICAgICAgaWYgKHByb2NlZHVyZURhdGEueWllbGRzIHx8IGZvcmNlWWllbGQpIHRoaXMuc291cmNlICs9ICJ5aWVsZCogIjsKCiAgICAgICAgICAgIHRoaXMuc291cmNlICs9IGB0aHJlYWQucHJvY2VkdXJlc1siJHtzYW5pdGl6ZShwcm9jZWR1cmVWYXJpYW50KX0iXShgOwogICAgICAgICAgICBjb25zdCBhcmdzID0gW107CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5hcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IG5vZGUuYXJndW1lbnRzW2ldOwogICAgICAgICAgICAgIGlmIChhcmdJbmRleGVzLmluZGV4T2YoaSkgPiAtMSkgYXJncy5wdXNoKGlucHV0LnZhbHVlKTsKICAgICAgICAgICAgICBlbHNlIGFyZ3MucHVzaCh0aGlzLmRlc2NlbmRJbnB1dChpbnB1dCkuYXNTYWZlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc291cmNlICs9IGFyZ3Muam9pbigiLCIpICsgIik7XG4iOwogICAgICAgICAgICB0aGlzLnJlc2V0VmFyaWFibGVJbnB1dHMoKTsKCiAgICAgICAgICAgIGlmIChmb3JjZVlpZWxkKSB0aGlzLmlyLnByb2NlZHVyZXNbcHJvY2VkdXJlVmFyaWFudF0ueWllbGRzID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9IGVsc2UgcmV0dXJuIF9vZ0pTZGVzY2VuZFN0YWNrLmNhbGwodGhpcywgbm9kZSk7CiAgICAgICAgfQogICAgICAgIGNhc2UgIlNQbWJwQ1NULnNldFBhcmFtIjogewogICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5kZXNjZW5kSW5wdXQobm9kZS52YWwpOwogICAgICAgICAgY29uc3QgaSA9IG5vZGUucGFyYW1JbmRleDsKICAgICAgICAgIGlmIChpICE9PSB1bmRlZmluZWQgJiYgaSAhPT0gLTEpIHRoaXMuc291cmNlICs9IGBwJHtpfSA9ICR7dmFsLmFzU2FmZSgpfTtcbmA7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSAiU1BtYnBDU1QuZXZhbFBhcmFtIjogewogICAgICAgICAgaWYgKG5vZGUuaW5wdXQgPT09IHVuZGVmaW5lZCkgYnJlYWs7CiAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmRlc2NlbmRJbnB1dChub2RlLmlucHV0KTsKICAgICAgICAgIHRoaXMuc291cmNlICs9IGBwJHtub2RlLmluZGV4fSA9ICR7dmFsLmFzVW5rbm93bigpfTtcbmA7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSAiU1BtYnBDU1QucnVuQnJhbmNoIjogewogICAgICAgICAgaWYgKHRoaXMuaXNQcm9jZWR1cmUpIHsKICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxvY2FsVmFyaWFibGVzLm5leHQoKTsKICAgICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYGNvbnN0ICR7aW5kZXh9ID0gJHt0aGlzLmRlc2NlbmRJbnB1dChub2RlLmluZGV4KS5hc051bWJlcigpfSAtIDE7XG5gOwogICAgICAgICAgICB0aGlzLnNvdXJjZSArPSBgc3dpdGNoICgke2luZGV4fS50b1N0cmluZygpKSB7XG5gOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuYXBwZW5kZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgY29uc3QgYXJnSW5kID0gbm9kZS5hcHBlbmRlcnNbaV1bMF07CiAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYGNhc2UgIiR7aX0iOiB7XG5gOwogICAgICAgICAgICAgIGlmICh0aGlzLnNjcmlwdC55aWVsZHMpIHRoaXMuc291cmNlICs9IGB5aWVsZCogcCR7YXJnSW5kfSgpO1xuYDsKICAgICAgICAgICAgICBlbHNlIHRoaXMuc291cmNlICs9IGBwJHthcmdJbmR9KCk7XG5gOwogICAgICAgICAgICAgIHRoaXMuc291cmNlICs9IGBicmVhaztcbmA7CiAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYH1cbmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYH1cbmA7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgZGVmYXVsdDogcmV0dXJuIF9vZ0pTZGVzY2VuZFN0YWNrLmNhbGwodGhpcywgbm9kZSk7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBfb2dKU2Rlc2NlbmRJbnAgPSBKU0dlbmVyYXRvci5wcm90b3R5cGUuZGVzY2VuZElucHV0OwogICAgSlNHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgICAgaWYgKG5vZGUua2luZCA9PT0gIlNQbWJwQ1NULmdldFBhcmFtIikgewogICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZGVzY2VuZElucHV0KG5vZGUucGFyYW0pLmFzU2FmZSgpOwogICAgICAgIHJldHVybiBuZXcgZXhwLlR5cGVkSW5wdXQoYCgoKSA9PiB7CiAgICAgICAgICBsZXQgYSA9ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5zY3JpcHQuYXJndW1lbnRzKX0sIHYgPSAke3ZhbH07CiAgICAgICAgICBpZiAodHlwZW9mIHYgIT09ICdzdHJpbmcnKSB2ID0gKHYpLnRvU3RyaW5nKCk7CiAgICAgICAgICBjb25zdCBpID0gYS5pbmRleE9mKHYpOwogICAgICAgICAgcmV0dXJuIGkgPiAtMSA/IGFyZ3VtZW50c1tpXS50b1N0cmluZygpIDogIiI7CiAgICAgICAgfSkoKWAsIGV4cC5UWVBFX1NUUklORyk7CiAgICAgIH0gZWxzZSBpZiAobm9kZS5raW5kID09PSAicHJvY2VkdXJlcy5jYWxsIikgewogICAgICAgIC8vIFRoaXMgZ2V0cyBHbG9iYWwgUHJvY2VkdXJlcyB0byB3b3JrIGZvciBzb21lIHJlYXNvbgogICAgICAgIHJldHVybiBfb2dKU2Rlc2NlbmRJbnAuY2FsbCh0aGlzLCBub2RlKTsKICAgICAgfSBlbHNlIHJldHVybiBfb2dKU2Rlc2NlbmRJbnAuY2FsbCh0aGlzLCBub2RlKTsKICAgIH07CiAgfQoKICAvLyBTY3JhdGNoQmxvY2tzIGFuZCBFZGl0b3IgUGF0Y2hlcwogIGZ1bmN0aW9uIHN5bmNGaWVsZENvbG9ycyhibG9jaykgewogICAgZm9yIChjb25zdCBpbnB1dCBvZiBibG9jay5pbnB1dExpc3QpIHsKICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBpbnB1dD8uZmllbGRSb3cpIHsKICAgICAgICBpZiAoZmllbGQuYXJyb3dfKSB7IC8vIGRyb3Bkb3duIGZpZWxkcwogICAgICAgICAgaWYgKGZpZWxkLnNvdXJjZUJsb2NrXy5pc1NoYWRvdygpKSBmaWVsZC5zb3VyY2VCbG9ja18uY2xlYXJTaGFkb3dDb2xvdXIoKTsKICAgICAgICB9CiAgICAgICAgaWYgKGZpZWxkLmJveF8pIHsgLy8gdGV4dCBpbnB1dCBmaWVsZHMgYW5kIHJvdW5kIGRyb3Bkb3ducwogICAgICAgICAgZmllbGQuYm94Xy5zZXRBdHRyaWJ1dGUoImZpbGwiLCBmaWVsZC5zb3VyY2VCbG9ja18uZ2V0Q29sb3VyKCkpOwogICAgICAgICAgaWYgKGZpZWxkLmJveF8uaGFzQXR0cmlidXRlKCJzdHJva2UiKSkgZmllbGQuYm94Xy5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIGZpZWxkLnNvdXJjZUJsb2NrXy5nZXRDb2xvdXJUZXJ0aWFyeSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gZm9yIHNoYWRvdyBibG9ja3MsIGluaGVyaXQgdGhlIHRlcnRpYXJ5IGNvbG9yCiAgICAgIGlmIChpbnB1dD8uY29ubmVjdGlvbj8udGFyZ2V0Q29ubmVjdGlvbj8uc291cmNlQmxvY2tfKSB7CiAgICAgICAgY29uc3Qgb3RoZXJCbG9jayA9IGlucHV0Py5jb25uZWN0aW9uPy50YXJnZXRDb25uZWN0aW9uPy5zb3VyY2VCbG9ja187CiAgICAgICAgaWYgKG90aGVyQmxvY2suaXNTaGFkb3coKSkgewogICAgICAgICAgLy8gcGVuZ3Vpbm1vZCBkb2VzbnQgaGF2ZSBxdWF0ZXJuYXJ5IGNvbG9ycyB5ZXQKICAgICAgICAgIGlmIChpc1BNKSBvdGhlckJsb2NrLnNldENvbG91cihvdGhlckJsb2NrLmdldENvbG91cigpLCBvdGhlckJsb2NrLmdldENvbG91clNlY29uZGFyeSgpLCBibG9jay5nZXRDb2xvdXJUZXJ0aWFyeSgpKTsKICAgICAgICAgIGVsc2Ugb3RoZXJCbG9jay5zZXRDb2xvdXIob3RoZXJCbG9jay5nZXRDb2xvdXIoKSwgb3RoZXJCbG9jay5nZXRDb2xvdXJTZWNvbmRhcnkoKSwgYmxvY2suZ2V0Q29sb3VyVGVydGlhcnkoKSwgb3RoZXJCbG9jay5nZXRDb2xvdXJRdWF0ZXJuYXJ5KCkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICBjb25zdCByZWNvbG9yYWJsZXMgPSBbCiAgICAgICJhcmd1bWVudF9yZXBvcnRlcl9zdHJpbmdfbnVtYmVyIiwgImFyZ3VtZW50X3JlcG9ydGVyX2Jvb2xlYW4iLAogICAgICAiU1BtYnBDU1Rfc2V0UGFyYW0iLCAiU1BtYnBDU1RfZ2V0UGFyYW0iLCAiU1BtYnBDU1RfcnVuQnJhbmNoIiwKICAgICAgIlNQbWJwQ1NUX2V2YWxQYXJhbSIsICJwcm9jZWR1cmVzX3JldHVybiIsCiAgICAgIC8vIHBlbmd1aW5tb2QKICAgICAgInByb2NlZHVyZXNfZGVmaW5pdGlvbl9yZXR1cm4iLCAicHJvY2VkdXJlc19zZXQiCiAgICBdOwoKICAgIGxldCBkb21Ub0Jsb2NrWG1sID0gbnVsbDsKICAgIGNvbnN0IG9sZERUQkggPSBTQi5YbWwuZG9tVG9CbG9ja0hlYWRsZXNzXzsKICAgIFNCLlhtbC5kb21Ub0Jsb2NrSGVhZGxlc3NfID0gZnVuY3Rpb24oLi4uYXJncykgewogICAgICBkb21Ub0Jsb2NrWG1sID0gYXJnc1swXTsKICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBvbGREVEJILmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICBkb21Ub0Jsb2NrWG1sID0gbnVsbDsKICAgICAgcmV0dXJuIHJldHVyblZhbHVlOwogICAgfQoKICAgIGNvbnN0IG9sZFNjcm9sbFRvQ2F0ZWdvcnkgPSBTQi5Ub29sYm94LnByb3RvdHlwZS5zY3JvbGxUb0NhdGVnb3J5QnlJZDsKICAgIFNCLlRvb2xib3gucHJvdG90eXBlLnNjcm9sbFRvQ2F0ZWdvcnlCeUlkID0gZnVuY3Rpb24oaWQpIHsKICAgICAgaWYgKGlkID09PSAibXlCbG9ja3MiICYmIHNob3VsZFNjcm9sbFRvTUJQKSB7CiAgICAgICAgc2hvdWxkU2Nyb2xsVG9NQlAgPSBmYWxzZTsKICAgICAgICBpZCA9ICJTUG1icENTVCI7CiAgICAgIH0KICAgICAgcmV0dXJuIG9sZFNjcm9sbFRvQ2F0ZWdvcnkuY2FsbCh0aGlzLCBpZCk7CiAgICB9CgogICAgY29uc3QgdXRpbHMgPSBTQi5TY3JhdGNoQmxvY2tzLlByb2NlZHVyZVV0aWxzOwogICAgY29uc3Qgb2dVcGRhdGVEaXNwbGF5ID0gdXRpbHMudXBkYXRlRGlzcGxheV87CiAgICB1dGlscy51cGRhdGVEaXNwbGF5XyA9IGZ1bmN0aW9uKCkgewogICAgICBpZiAoZXh0ZW5zaW9uUmVtb3ZhYmxlKSByZXR1cm4gb2dVcGRhdGVEaXNwbGF5LmNhbGwodGhpcyk7CiAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5TUG1icENTVF9zdG9yZSB8fCBzdG9yZUdldCh0aGlzLnByb2NDb2RlXyk7CiAgICAgIGlmIChzdG9yZS5jb2xvciAmJiAhdGhpcy5pc0luc2VydGlvbk1hcmtlcigpKSB7CiAgICAgICAgdGhpcy5zZXRDb2xvdXIoLi4udGhlbWVpZnlDb2xvcihzdG9yZS5jb2xvcikpOwogICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJwcm9jZWR1cmVzX3Byb3RvdHlwZSIpIHsKICAgICAgICAgIC8vIFJlY29sb3IgYXJndW1lbnQgcmVwb3J0ZXJzIGFuZCB0aGUgZGVmaW5lIGJsb2NrIHRvIHRoZSBibG9jayBjb2xvcgogICAgICAgICAgLy8gRGlzYWJsZSBicmFuY2ggaW5wdXRzCiAgICAgICAgICB0aGlzLnNldENvbG91ciguLi50aGVtZWlmeUNvbG9yKHN0b3JlLmNvbG9yKSk7CiAgICAgICAgICAvLyBTY3JhdGNoQmxvY2tzIHdheXMgb2YgZ2V0dGluZyB0aGUgcGFyZW50IGJsb2NrIHdvbid0IHdvcmsgd2hpbGUgdGhlIGJsb2NrcyBhcmUgYmVpbmcgY3JlYXRlZAogICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gewogICAgICAgICAgICBjb25zdCBkZWZpbmVCbG9jayA9IHRoaXMuZ2V0UGFyZW50KCk7CiAgICAgICAgICAgIGlmICghZGVmaW5lQmxvY2spIHJldHVybjsKICAgICAgICAgICAgZGVmaW5lQmxvY2suc2V0Q29sb3VyKC4uLnRoZW1laWZ5Q29sb3Ioc3RvcmUuY29sb3IpKTsKICAgICAgICAgICAgc3luY0ZpZWxkQ29sb3JzKGRlZmluZUJsb2NrKTsKICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmlucHV0TGlzdC5maWx0ZXIoKGl0ZW0sIGkpID0+IGl0ZW0uY29ubmVjdGlvbiAhPT0gbnVsbCk7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoIWNoaWxkcmVuW2ldLmNvbm5lY3Rpb24pIGNvbnRpbnVlOwogICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV0uY29ubmVjdGlvbi50YXJnZXRCbG9jaygpOwogICAgICAgICAgICAgIGlmIChzdG9yZS5pbnB1dHMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzdG9yZS5pbnB1dHNbdGhpcy5hcmd1bWVudElkc19baV1dPy50eXBlOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICJicmMiKSB7CiAgICAgICAgICAgICAgICAgIGNoaWxkLnNldE91dHB1dFNoYXBlKDMpOwogICAgICAgICAgICAgICAgICBjaGlsZC5zZXROZXh0U3RhdGVtZW50KGZhbHNlKTsKICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0TW92YWJsZShmYWxzZSk7CiAgICAgICAgICAgICAgICAgIGNoaWxkW3RhcmdldFByb2NEYXRhXSA9ICJicmFuY2hEcmFnIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHJlY29sb3JhYmxlcy5pbmNsdWRlcyhjaGlsZC50eXBlKSkgdXBkYXRlQXJndW1lbnRSZXBvcnRlckNvbG9yKGNoaWxkLCBkZWZpbmVCbG9jayk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAvLyBSZWNvbG9yIGRyb3Bkb3ducyB0byB0aGUgYmxvY2sgY29sb3IKICAgICAgICBpZiAodGhpcy50eXBlID09PSAicHJvY2VkdXJlc19jYWxsIikgewogICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oKSkgewogICAgICAgICAgICAgIGlmIChjaGlsZC5pc1NoYWRvdygpICYmIGNoaWxkLm91dHB1dENvbm5lY3Rpb24gJiYgIWlzTm9ybWFsSW5wdXQoY2hpbGQudHlwZSkpIGNoaWxkLnNldENvbG91ciguLi50aGVtZWlmeUNvbG9yKHN0b3JlLmNvbG9yKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gRGlzY29ubmVjdCBhbmQgcmVjb25uZWN0IHRoZSBwcm90b3R5cGUgZnJvbSB0aGUgZGVmaW5lIGJsb2NrIHdoZW4KICAgICAgLy8gY2hhbmdpbmcgdGhlIG91dHB1dCB0eXBlIGluIFBNIGJlY2F1c2Ugb3RoZXJ3aXNlIGVycm9ycyB3aWxsIGhhcHBlbgogICAgICAvLyB3ZSBoYXZlIHRvIGNyZWF0ZSBhIG5ldyBkZWZpbmUgYmxvY2sgdG8gY2hhbmdlIGl0cyB0eXBlCiAgICAgIGxldCBkZWZpbmVCbG9jayA9ICgKICAgICAgICBpc1BNICYmIHRoaXMudHlwZSA9PT0gInByb2NlZHVyZXNfcHJvdG90eXBlIiAmJiB0aGlzLmdldFBhcmVudCgpPy50eXBlPy5zdGFydHNXaXRoKCJwcm9jZWR1cmVzX2RlZmluaXRpb24iKQogICAgICApID8gdGhpcy5nZXRQYXJlbnQoKSA6IG51bGw7CiAgICAgIGxldCBzYXZlZERlZkNvbm5lY3QgPSBudWxsLCBzYXZlZFNoYWRvdyA9IG51bGw7CiAgICAgIGNvbnN0IG5ld09wY29kZSA9IHRoaXMub3V0cHV0XyA/ICJwcm9jZWR1cmVzX2RlZmluaXRpb25fcmV0dXJuIiA6ICJwcm9jZWR1cmVzX2RlZmluaXRpb24iOwogICAgICBpZiAoaXNQTSAmJiBkZWZpbmVCbG9jayAmJiBkZWZpbmVCbG9jay50eXBlICE9PSBuZXdPcGNvZGUpIHsKICAgICAgICBzYXZlZERlZkNvbm5lY3QgPSAodGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24gfHwgdGhpcy5vdXRwdXRDb25uZWN0aW9uKS50YXJnZXRDb25uZWN0aW9uOwogICAgICAgIHNhdmVkU2hhZG93ID0gc2F2ZWREZWZDb25uZWN0LmdldFNoYWRvd0RvbSgpOwogICAgICAgIGNvbnN0IHNhdmVkTmV4dENvbm5lY3QgPSBkZWZpbmVCbG9jay5uZXh0Q29ubmVjdGlvbj8udGFyZ2V0Q29ubmVjdGlvbjsKCiAgICAgICAgLy8gUmVtb3ZlIHRoZSBzaGFkb3cgRE9NLCB0aGVuIGRpc2Nvbm5lY3QgdGhlIGJsb2NrLiAgT3RoZXJ3aXNlIGEgc2hhZG93IGJsb2NrCiAgICAgICAgLy8gd2lsbCByZXNwYXduIGluc3RhbnRseSwgYW5kIHdlJ2QgaGF2ZSB0byByZW1vdmUgaXQgd2hlbiB3ZSByZW1vdmUgdGhlIGlucHV0LgogICAgICAgIHNhdmVkTmV4dENvbm5lY3Q/LmRpc2Nvbm5lY3QoKTsKCiAgICAgICAgLy8gUmVjcmVhdGUgdGhlIGRlZmluZSBibG9jayB3aXRoIGEgY2hhbmdlZCB0eXBlCiAgICAgICAgY29uc3Qgd3MgPSBkZWZpbmVCbG9jay53b3Jrc3BhY2U7CiAgICAgICAgY29uc3QgeG1sID0gU0IuWG1sLmJsb2NrVG9Eb20oZGVmaW5lQmxvY2spOwogICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZGVmaW5lQmxvY2suZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpOwogICAgICAgIHhtbC5zZXRBdHRyaWJ1dGUoInR5cGUiLCBuZXdPcGNvZGUpOwogICAgICAgIGRlZmluZUJsb2NrLmRpc3Bvc2UoKTsKICAgICAgICBkZWZpbmVCbG9jayA9IFNCLlhtbC5kb21Ub0Jsb2NrKHhtbCwgd3MpOwogICAgICAgIGRlZmluZUJsb2NrLm1vdmVCeShwb3NpdGlvbi54LCBwb3NpdGlvbi55KTsKICAgICAgICBpZiAoc2F2ZWROZXh0Q29ubmVjdCkgc2F2ZWROZXh0Q29ubmVjdC5jb25uZWN0KGRlZmluZUJsb2NrLm5leHRDb25uZWN0aW9uKTsKICAgICAgfQogICAgICBvZ1VwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKTsKCiAgICAgIC8vIHR1cm4gYnJhbmNoIGFuZCBpbWFnZSBpbnB1dHMgaW50byBicmFuY2hlcyBhbmQgaW1hZ2VzCiAgICAgIC8vIChkb2luZyBpdCBpbiBhdHRhY2hTaGFkb3cgbWFrZXMgaXQgbm90IHdvcmsgb24gZnVydGhlciB1cGRhdGVzKQogICAgICBpZiAoc3RvcmU/LmlucHV0cyAmJiB0aGlzLnR5cGUgIT09ICJwcm9jZWR1cmVzX2RlY2xhcmF0aW9uIikgZm9yIChsZXQgaSA9IHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDsgaS0tOykgewogICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5pbnB1dExpc3RbaV07CiAgICAgICAgY29uc3QgdHlwZSA9IHN0b3JlLmlucHV0c1tpbnB1dC5uYW1lXT8udHlwZTsKICAgICAgICBpZiAoCiAgICAgICAgICAoaW5wdXQudHlwZSAhPT0gU0IuTkVYVF9TVEFURU1FTlQgJiYgdHlwZSA9PT0gImJyYyIpIHx8IChpbnB1dC50eXBlICE9PSBTQi5EVU1NWV9JTlBVVCAmJiB0eXBlID09PSAiaW1nIikKICAgICAgICApIHsKICAgICAgICAgIC8vIGZvciBQcm90b3R5cGUgYmxvY2tzIHdlIGp1c3QgdXNlIGEgc3RhdGljIHNxdWFyZSBibG9jayBhcyBhIHZpc3VhbCByZXByZXNlbnRhdGlvbgogICAgICAgICAgLy8gZm9yIGJyYW5jaCBpbnB1dHMsIHRoaXMgaXMgZG9uZSBpbiAndXBkYXRlRGlzcGxheV8nCiAgICAgICAgICBpZiAodHlwZSA9PT0gImJyYyIgJiYgdGhpcy50eXBlID09PSAicHJvY2VkdXJlc19wcm90b3R5cGUiKSBjb250aW51ZTsKICAgICAgICAgIGxldCBjb25uZWN0aW9uLCBuZXdJbnB1dDsKICAgICAgICAgIGlmICh0eXBlID09PSAiYnJjIikgewogICAgICAgICAgICBjb25uZWN0aW9uID0gdGhpcy5tYWtlQ29ubmVjdGlvbl8oU0IuTkVYVF9TVEFURU1FTlQpOwogICAgICAgICAgICBuZXdJbnB1dCA9IG5ldyBTQi5JbnB1dChTQi5ORVhUX1NUQVRFTUVOVCwgaW5wdXQubmFtZSwgdGhpcywgY29ubmVjdGlvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBpbWFnZVVSTCA9IGdldFN0b3JlZEltYWdlKHN0b3JlLmlucHV0c1tpbnB1dC5uYW1lXS5zcmMpOwogICAgICAgICAgICBuZXdJbnB1dCA9IG5ldyBTQi5JbnB1dChTQi5EVU1NWV9JTlBVVCwgIiIsIHRoaXMpOwogICAgICAgICAgICBuZXdJbnB1dC5hcHBlbmRGaWVsZChuZXcgU2NyYXRjaEJsb2Nrcy5GaWVsZEltYWdlKGltYWdlVVJMLCAyNSwgMjUpKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBSZW1vdmUgdGhlIG9sZCBpbnB1dC4uLgogICAgICAgICAgaWYgKGlucHV0LmNvbm5lY3Rpb24gJiYgaW5wdXQuY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKSB7CiAgICAgICAgICAgIGlucHV0LmNvbm5lY3Rpb24uc2V0U2hhZG93RG9tKG51bGwpOwogICAgICAgICAgICB2YXIgYmxvY2sgPSBpbnB1dC5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7CiAgICAgICAgICAgIGlmIChibG9jay5pc1NoYWRvdygpKSBibG9jay5kaXNwb3NlKCk7IC8vIERlc3Ryb3kgYW55IGF0dGFjaGVkIHNoYWRvdyBibG9jawogICAgICAgICAgICBlbHNlIGJsb2NrLnVucGx1ZygpOyAvLyBEaXNjb25uZWN0IGFueSBhdHRhY2hlZCBub3JtYWwgYmxvY2sKICAgICAgICAgIH0KICAgICAgICAgIGlucHV0LmRpc3Bvc2UoKTsKICAgICAgICAgIC8vIC4uLmJ1dCByZXBsYWNlIGl0IHdpdGggdGhlIG5ldyBvbmUgaW4gcGxhY2UKICAgICAgICAgIC8vIChjYWxsaW5nIHJlbW92ZUlucHV0KCkgc2hpZnRzIGFsbCBlbGVtZW50cyBvZiBpbnB1dExpc3Qgd2hpY2ggaXMgYSBiaXQgc2xvd2VyKQogICAgICAgICAgaWYgKHR5cGUgPT09ICJicmMiICYmIChpc1BNID8gdGhpcy5vdXRwdXRfIDogdGhpcy5nZXRSZXR1cm4oKSkpIHRoaXMuaW5wdXRMaXN0LnNwbGljZShpLCAxKTsKICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoaSB8fCB0eXBlID09PSAiaW1nIikgdGhpcy5pbnB1dExpc3RbaV0gPSBuZXdJbnB1dDsKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgLy8gZml4IHdlaXJkIHZpc3VhbCBnbGl0Y2ggd2l0aCBhIGJyYW5jaCBhcyB0aGUgZmlyc3QgaW5wdXQKICAgICAgICAgICAgICB0aGlzLmlucHV0TGlzdFtpXSA9IHRoaXMuYXBwZW5kRHVtbXlJbnB1dCgpOwogICAgICAgICAgICAgIHRoaXMuaW5wdXRMaXN0LnB1c2gobmV3SW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc2F2ZWREZWZDb25uZWN0KSB7CiAgICAgICAgc2F2ZWREZWZDb25uZWN0ID0gZGVmaW5lQmxvY2suZ2V0SW5wdXQoImN1c3RvbV9ibG9jayIpLmNvbm5lY3Rpb247CiAgICAgICAgKHRoaXMucHJldmlvdXNDb25uZWN0aW9uIHx8IHRoaXMub3V0cHV0Q29ubmVjdGlvbikuY29ubmVjdChzYXZlZERlZkNvbm5lY3QpOwogICAgICAgIHNhdmVkRGVmQ29ubmVjdC5zZXRTaGFkb3dEb20oc2F2ZWRTaGFkb3cpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuaXNJbnNlcnRpb25NYXJrZXIoKSkgewogICAgICAgIC8vIFNjcmF0Y2hCbG9ja3Mgd2F5cyBvZiBnZXR0aW5nIHRoZSBuZXh0IGJsb2NrIHdvbid0IHdvcmsgd2hpbGUgdGhlIGJsb2NrcyBhcmUgYmVpbmcgY3JlYXRlZAogICAgICAgIGNvbnN0IGFjdHVhbE5leHRCbG9jayA9IHRoaXMuZ2V0TmV4dEJsb2NrKCkgfHwgdm0/LmVkaXRpbmdUYXJnZXQ/LmJsb2Nrcz8uZ2V0QmxvY2sodGhpcy5pZCk/Lm5leHQgfHwgKGRvbVRvQmxvY2tYbWwgJiYgZG9tVG9CbG9ja1htbC5xdWVyeVNlbGVjdG9yKCJuZXh0IikpOwogICAgICAgIGNvbnN0IGlzUmV0dXJuZXIgPSBpc1BNID8gdGhpcy5vdXRwdXRfIDogdGhpcy5yZXR1cm5fOwogICAgICAgIGlmICghc3RvcmUuaXNUZXJtaW5hbCAhPT0gdW5kZWZpbmVkICYmICFpc1JldHVybmVyICYmICFhY3R1YWxOZXh0QmxvY2spIHRoaXMuc2V0TmV4dFN0YXRlbWVudCghc3RvcmUuaXNUZXJtaW5hbCwgdGhpcy50eXBlID09PSAicHJvY2VkdXJlc19wcm90b3R5cGUiID8gdHJ1ZSA6IHVuZGVmaW5lZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVGhlIGluc2VydGlvbiBtYXJrZXIgc2hvdWxkIGNvcHkgdGhlIHRlcm1pbmFsLW5lc3Mgb2YgdGhlIHNvdXJjZSBibG9jaywKICAgICAgICAvLyBvdGhlcndpc2UgQmxvY2tseSB3aWxsIHRocm93IGFuIGVycm9yCiAgICAgICAgY29uc3QgdGFyZ2V0QmxvY2sgPSB0aGlzLndvcmtzcGFjZT8uY3VycmVudEdlc3R1cmVfPy50YXJnZXRCbG9ja187CiAgICAgICAgLy8gdGFyZ2V0QmxvY2sgZG9lc24ndCBleGlzdCB3aGVuIGRyYWdnaW5nIHRvIHRoZSBzdGFydCBvZiBhIHN0YWNrCiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBpdCBzaG91bGQgYWx3YXlzIGJlIGEgc3RhY2sgYmxvY2sKICAgICAgICB0aGlzLnNldE5leHRTdGF0ZW1lbnQodGFyZ2V0QmxvY2sgPyAhIXRhcmdldEJsb2NrPy5uZXh0Q29ubmVjdGlvbiA6IHRydWUpOwogICAgICB9CiAgICB9CiAgICBmb3IgKGNvbnN0IG9wY29kZSBvZiBbInByb2NlZHVyZXNfY2FsbCIsICJwcm9jZWR1cmVzX3Byb3RvdHlwZSIsICJwcm9jZWR1cmVzX2RlY2xhcmF0aW9uIl0pIHsKICAgICAgU0IuQmxvY2tzW29wY29kZV0udXBkYXRlRGlzcGxheV8gPSB1dGlscy51cGRhdGVEaXNwbGF5XzsKICAgIH0KCiAgICBjb25zdCBvZ0F0dGFjaFNoYWRvdyA9IHV0aWxzLmF0dGFjaFNoYWRvd187CiAgICB1dGlscy5hdHRhY2hTaGFkb3dfID0gZnVuY3Rpb24oaW5wdXQsIGFyZ3VtZW50VHlwZSkgewogICAgICBpZiAoZXh0ZW5zaW9uUmVtb3ZhYmxlKSByZXR1cm4gb2dBdHRhY2hTaGFkb3cuY2FsbCh0aGlzLCBpbnB1dCwgYXJndW1lbnRUeXBlKTsKICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLlNQbWJwQ1NUX3N0b3JlIHx8IHN0b3JlR2V0KHRoaXMuZ2V0UHJvY0NvZGUoKSk7CiAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLmlucHV0cyB8fCAhc3RvcmUuaW5wdXRzW2lucHV0Lm5hbWVdKSByZXR1cm4gb2dBdHRhY2hTaGFkb3cuY2FsbCh0aGlzLCBpbnB1dCwgYXJndW1lbnRUeXBlKTsKICAgICAgY29uc3QgeyBvcGNvZGUsIGZpZWxkTmFtZSwgZGVmYXVsdFZhbHVlIH0gPSBnZXRJbnB1dERhdGEoc3RvcmUuaW5wdXRzW2lucHV0Lm5hbWVdKTsKICAgICAgaWYgKCFvcGNvZGUpIHJldHVybiBvZ0F0dGFjaFNoYWRvdy5jYWxsKHRoaXMsIGlucHV0LCBhcmd1bWVudFR5cGUpOwogICAgICBpZiAob3Bjb2RlID09PSAiYnJjIiB8fCBvcGNvZGUgPT09ICJlbXAiIHx8IG9wY29kZSA9PT0gImltZyIpIHJldHVybjsgLy8gdGhlc2UgYXJlIHNwZWNpYWwKCiAgICAgIC8vIEFkZCBjdXN0b20gaW5wdXRzCiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IG9wY29kZTsKICAgICAgU0IuRXZlbnRzLmRpc2FibGUoKTsKICAgICAgbGV0IG5ld0Jsb2NrOwogICAgICB0cnkgewogICAgICAgIG5ld0Jsb2NrID0gdGhpcy53b3Jrc3BhY2UubmV3QmxvY2soYmxvY2tUeXBlKTsKICAgICAgICBpZiAoZmllbGROYW1lKSBuZXdCbG9jay5zZXRGaWVsZFZhbHVlKGRlZmF1bHRWYWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gZGVmYXVsdFZhbHVlKCkgOiBkZWZhdWx0VmFsdWUsIGZpZWxkTmFtZSk7CiAgICAgICAgbmV3QmxvY2suc2V0U2hhZG93KHRydWUpOwogICAgICAgIGlmICghdGhpcy5pc0luc2VydGlvbk1hcmtlcigpKSB7CiAgICAgICAgICBuZXdCbG9jay5pbml0U3ZnKCk7CiAgICAgICAgICBuZXdCbG9jay5yZW5kZXIoZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBTQi5FdmVudHMuZW5hYmxlKCk7CiAgICAgIH0KICAgICAgaWYgKFNCLkV2ZW50cy5pc0VuYWJsZWQoKSkgU0IuRXZlbnRzLmZpcmUobmV3IFNCLkV2ZW50cy5CbG9ja0NyZWF0ZShuZXdCbG9jaykpOwogICAgICBuZXdCbG9jaz8ub3V0cHV0Q29ubmVjdGlvbj8uY29ubmVjdChpbnB1dC5jb25uZWN0aW9uKTsKICAgIH07CiAgICBTQi5CbG9ja3NbInByb2NlZHVyZXNfY2FsbCJdLmF0dGFjaFNoYWRvd18gPSB1dGlscy5hdHRhY2hTaGFkb3dfOwoKICAgIGNvbnN0IG9nUG9wQXJnID0gdXRpbHMucG9wdWxhdGVBcmd1bWVudE9uQ2FsbGVyXzsKICAgIHV0aWxzLnBvcHVsYXRlQXJndW1lbnRPbkNhbGxlcl8gPSBmdW5jdGlvbih0eXBlLCBpbmRleCwgY29ubmVjdGlvbk1hcCwgaWQsIGlucHV0KSB7CiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9UdXJib1dhcnAvc2NyYXRjaC1ibG9ja3MvYmxvYi9kZXZlbG9wL2Jsb2Nrc192ZXJ0aWNhbC9wcm9jZWR1cmVzLmpzI0w0NDUKICAgICAgdmFyIG9sZEJsb2NrID0gbnVsbCwgb2xkU2hhZG93ID0gbnVsbDsKICAgICAgaWYgKGNvbm5lY3Rpb25NYXAgJiYgKGlkIGluIGNvbm5lY3Rpb25NYXApKSB7CiAgICAgICAgdmFyIHNhdmVJbmZvID0gY29ubmVjdGlvbk1hcFtpZF07CiAgICAgICAgb2xkQmxvY2sgPSBzYXZlSW5mb1siYmxvY2siXTsKICAgICAgICBvbGRTaGFkb3cgPSBzYXZlSW5mb1sic2hhZG93Il07CiAgICAgIH0KCiAgICAgIGlmIChjb25uZWN0aW9uTWFwICYmIG9sZEJsb2NrKSB7CiAgICAgICAgLy8gUmVhdHRhY2ggdGhlIG9sZCBibG9jayBhbmQgc2hhZG93IERPTS4KICAgICAgICBjb25uZWN0aW9uTWFwW2lucHV0Lm5hbWVdID0gbnVsbDsKICAgICAgICBpZiAob2xkU2hhZG93ID09PSBudWxsICYmIG9sZEJsb2NrLm91dHB1dENvbm5lY3Rpb24gPT09IG51bGwpIHsKICAgICAgICAgIC8vIHRoaXMgaXMgYSBicmFuY2gKICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGlucHV0LmNvbm5lY3Rpb24uc291cmNlQmxvY2tfOwogICAgICAgICAgaWYgKGlzUE0gJiYgdGhpcy5vdXRwdXRfKSByZXR1cm47CiAgICAgICAgICBjb25zdCBicmFuY2hJbmRleCA9IHBhcmVudC5pbnB1dExpc3QuaW5kZXhPZihpbnB1dCk7CiAgICAgICAgICBwYXJlbnQuaW5wdXRMaXN0W2JyYW5jaEluZGV4XS5jb25uZWN0aW9uLnR5cGUgPSAzOwogICAgICAgICAgcGFyZW50LmlucHV0TGlzdFticmFuY2hJbmRleF0udHlwZSA9IDM7CiAgICAgICAgICBwYXJlbnQuaW5wdXRMaXN0W2JyYW5jaEluZGV4XS5jb25uZWN0aW9uLmNvbm5lY3Qob2xkQmxvY2sucHJldmlvdXNDb25uZWN0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2xkQmxvY2sub3V0cHV0Q29ubmVjdGlvbi5jb25uZWN0KGlucHV0LmNvbm5lY3Rpb24pOwogICAgICAgICAgaWYgKHR5cGUgIT0gImIiICYmIHRoaXMuZ2VuZXJhdGVTaGFkb3dzXykgewogICAgICAgICAgICB2YXIgc2hhZG93RG9tID0gb2xkU2hhZG93IHx8IHRoaXMuYnVpbGRTaGFkb3dEb21fKHR5cGUpOwogICAgICAgICAgICBpbnB1dC5jb25uZWN0aW9uLnNldFNoYWRvd0RvbShzaGFkb3dEb20pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLmdlbmVyYXRlU2hhZG93c18pIHsKICAgICAgICB0aGlzLmF0dGFjaFNoYWRvd18oaW5wdXQsIHR5cGUpOwogICAgICB9CiAgICB9OwogICAgU0IuQmxvY2tzWyJwcm9jZWR1cmVzX2NhbGwiXS5wb3B1bGF0ZUFyZ3VtZW50XyA9IHV0aWxzLnBvcHVsYXRlQXJndW1lbnRPbkNhbGxlcl87CgogICAgZnVuY3Rpb24gdXBkYXRlQXJndW1lbnRSZXBvcnRlckNvbG9yKGJsb2NrLCBkZWZpbmVCbG9jayA9IG51bGwpIHsKICAgICAgLy8gSnVzdCBzdG9wcGVkIGRyYWdnaW5nIChhbmQgZHJvcHBpbmcpLCB1cGRhdGUgY29sb3IgYWNjb3JkaW5nIHRvIHRoZSB0b3AgZGVmaW5lIGJsb2NrCiAgICAgIGlmIChleHRlbnNpb25SZW1vdmFibGUpIHJldHVybjsKICAgICAgaWYgKCFkZWZpbmVCbG9jaykgewogICAgICAgIGRlZmluZUJsb2NrID0gYmxvY2s7CiAgICAgICAgd2hpbGUgKGRlZmluZUJsb2NrPy5nZXRQYXJlbnQoKSkgeyBkZWZpbmVCbG9jayA9IGRlZmluZUJsb2NrPy5nZXRQYXJlbnQoKSB9CiAgICAgIH0KICAgICAgaWYgKGRlZmluZUJsb2NrPy50eXBlLnN0YXJ0c1dpdGgoInByb2NlZHVyZXNfZGVmaW5pdGlvbiIpKSB7CiAgICAgICAgaWYgKGJsb2NrW3RhcmdldFByb2NEYXRhXSA9PT0gImJyYW5jaERyYWciKSB7CiAgICAgICAgICBibG9jay5zZXRDb2xvdXIoZGVmaW5lQmxvY2suY29sb3VyU2Vjb25kYXJ5XywgZGVmaW5lQmxvY2suY29sb3VyU2Vjb25kYXJ5XywgZGVmaW5lQmxvY2suY29sb3VyVGVydGlhcnlfKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYmxvY2suc2V0Q29sb3VyKGRlZmluZUJsb2NrLmNvbG91cl8sIGRlZmluZUJsb2NrLmNvbG91clNlY29uZGFyeV8sIGRlZmluZUJsb2NrLmNvbG91clRlcnRpYXJ5Xyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGJsb2NrLnNldENvbG91ciguLi5PYmplY3QudmFsdWVzKFNCLkNvbG91cnMubW9yZSkpOwogICAgICB9CiAgICAgIHN5bmNGaWVsZENvbG9ycyhibG9jayk7CiAgICB9CgogICAgY29uc3Qgb2dTZXREcmFnZ2luZyA9IFNCLkJsb2NrU3ZnLnByb3RvdHlwZS5zZXREcmFnZ2luZzsKICAgIGNvbnN0IGFyZ3VtZW50UmVwb3J0ZXJTZXREcmFnZ2luZyA9IGZ1bmN0aW9uKGFkZGluZykgewogICAgICBpZiAoIWFkZGluZyAmJiAhZXh0ZW5zaW9uUmVtb3ZhYmxlICYmIHRoaXMuc3ZnR3JvdXBfLmNsYXNzTGlzdC5jb250YWlucygiYmxvY2tseURyYWdnaW5nIikpIHsKICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB1cGRhdGVBcmd1bWVudFJlcG9ydGVyQ29sb3IodGhpcykpOwogICAgICB9CiAgICAgIG9nU2V0RHJhZ2dpbmcuY2FsbCh0aGlzLCBhZGRpbmcpOwogICAgfTsKICAgIC8vIHRoaXMgd291bGQgcnVuIHdoZW4gdGhlIGJsb2NrIGlzIGFkZGVkIHRvIHRoZSB3b3Jrc3BhY2UKICAgIGNvbnN0IG9nU2V0UGFyZW50ID0gU0IuQmxvY2tTdmcucHJvdG90eXBlLnNldFBhcmVudDsKICAgIGNvbnN0IGFyZ3VtZW50UmVwb3J0ZXJTZXRQYXJlbnQgPSBmdW5jdGlvbihuZXdQYXJlbnQpIHsKICAgICAgaWYgKG5ld1BhcmVudCAmJiAhZXh0ZW5zaW9uUmVtb3ZhYmxlKSBxdWV1ZU1pY3JvdGFzaygoKSA9PiB1cGRhdGVBcmd1bWVudFJlcG9ydGVyQ29sb3IodGhpcykpOwogICAgICBvZ1NldFBhcmVudC5jYWxsKHRoaXMsIG5ld1BhcmVudCk7CiAgICB9OwoKICAgIGZvciAoY29uc3Qgb3Bjb2RlIG9mIHJlY29sb3JhYmxlcykgewogICAgICBpZiAoIVNCLkJsb2Nrc1tvcGNvZGVdKSBjb250aW51ZTsKICAgICAgU0IuQmxvY2tzW29wY29kZV0uc2V0RHJhZ2dpbmcgPSBhcmd1bWVudFJlcG9ydGVyU2V0RHJhZ2dpbmc7CiAgICAgIFNCLkJsb2Nrc1tvcGNvZGVdLnNldFBhcmVudCA9IGFyZ3VtZW50UmVwb3J0ZXJTZXRQYXJlbnQ7CiAgICB9CiAgICB0cnkgewogICAgICBTQi5FeHRlbnNpb25zLnJlZ2lzdGVyKCJTUG1icENTVF9kZWZpbmVDb2xvcmVkIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5zZXREcmFnZ2luZyA9IGFyZ3VtZW50UmVwb3J0ZXJTZXREcmFnZ2luZzsKICAgICAgICB0aGlzLnNldFBhcmVudCA9IGFyZ3VtZW50UmVwb3J0ZXJTZXRQYXJlbnQ7CiAgICAgICAgdXBkYXRlQXJndW1lbnRSZXBvcnRlckNvbG9yKHRoaXMpOwogICAgICB9KTsKICAgIH0gY2F0Y2ggey8qIGFscmVhZHkgZGVmaW5lZCAqL30KCiAgICAvLyBUdXJuIHByb2NlZHVyZSBjYWxscyBtYXJrZWQgYXMgY2FwIGJsb2NrcyBpbnRvIGNhcCBibG9ja3MgaWYgdGhleSBjYW4gYmUgdHVybmVkIGludG8gY2FwIGJsb2NrcwogICAgZnVuY3Rpb24gY2hlY2tDYXBCbG9jayhibG9jaykgewogICAgICBpZiAoIWJsb2NrLmlzSW5zZXJ0aW9uTWFya2VyKCkpIHsKICAgICAgICBjb25zdCBzdG9yZSA9IHN0b3JlR2V0KGJsb2NrLnByb2NDb2RlXyk7CiAgICAgICAgaWYgKHN0b3JlICYmIHN0b3JlLmlzVGVybWluYWwgJiYgYmxvY2submV4dENvbm5lY3Rpb24gJiYgIWJsb2NrLmdldE5leHRCbG9jaygpKQogICAgICAgICAgYmxvY2suc2V0TmV4dFN0YXRlbWVudCghc3RvcmUuaXNUZXJtaW5hbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVGhlIGluc2VydGlvbiBtYXJrZXIgc2hvdWxkIGNvcHkgdGhlIG5leHQgY29ubmVjdGlvbiBvZiB0aGUgc291cmNlIGJsb2NrCiAgICAgICAgYmxvY2suc2V0TmV4dFN0YXRlbWVudChCb29sZWFuKGJsb2NrLmdldE5leHRCbG9jaygpKSk7CiAgICAgIH0KICAgIH0KICAgIC8vIEZvciB0aGUgcHJldmlvdXMgYmxvY2sgd2hlbiBzdGFydGluZyBhIGRyYWcgb2YgdGhlIGN1cnJlbnQgYmxvY2sKICAgIGNvbnN0IG9nVW5wbHVnID0gU0IuQmxvY2sucHJvdG90eXBlLnVucGx1ZzsKICAgIGNvbnN0IHByb2NDYWxsVW5wbHVnID0gZnVuY3Rpb24ob3B0X2hlYWxTdGFjaykgewogICAgICBpZiAoZXh0ZW5zaW9uUmVtb3ZhYmxlIHx8IHRoaXMuaXNJbnNlcnRpb25NYXJrZXIoKSB8fCB0aGlzLmdldFBhcmVudCgpPy5pc0luc2VydGlvbk1hcmtlcigpKSByZXR1cm4gb2dVbnBsdWcuY2FsbCh0aGlzLCBvcHRfaGVhbFN0YWNrKTsKICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTsKICAgICAgb2dVbnBsdWcuY2FsbCh0aGlzLCBvcHRfaGVhbFN0YWNrKTsKICAgICAgY2hlY2tDYXBCbG9jayh0aGlzKTsKICAgICAgaWYgKHBhcmVudCkgY2hlY2tDYXBCbG9jayhwYXJlbnQpOwogICAgfTsKICAgIFNCLkJsb2Nrc1sicHJvY2VkdXJlc19jYWxsIl0udW5wbHVnID0gcHJvY0NhbGxVbnBsdWc7CgogICAgLy8gQ29weSB0aGUgZGVmaW5lIGJsb2NrJ3MgYXJndW1lbnQgY29sb3Igd2hlbiBkcmFnZ2luZyBhbiBhcmd1bWVudCByZXBvcnRlcgogICAgY29uc3Qgb2xkRHVwbGljYXRlT25EcmFnXyA9IFNCLkdlc3R1cmUucHJvdG90eXBlLmR1cGxpY2F0ZU9uRHJhZ187CiAgICBTQi5HZXN0dXJlLnByb3RvdHlwZS5kdXBsaWNhdGVPbkRyYWdfID0gZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMudGFyZ2V0QmxvY2tfOwogICAgICBvbGREdXBsaWNhdGVPbkRyYWdfLmNhbGwodGhpcyk7CiAgICAgIGNvbnN0IGR1cGxpY2F0ZWQgPSB0aGlzLnRhcmdldEJsb2NrXzsKICAgICAgaWYgKHNvdXJjZSAmJiBkdXBsaWNhdGVkICYmIHNvdXJjZS50eXBlLnN0YXJ0c1dpdGgoImFyZ3VtZW50X3JlcG9ydGVyXyIpKQogICAgICAgIGR1cGxpY2F0ZWQuc2V0Q29sb3VyKHNvdXJjZS5jb2xvdXJfLCBzb3VyY2UuY29sb3VyU2Vjb25kYXJ5Xywgc291cmNlLmNvbG91clRlcnRpYXJ5Xyk7CiAgICB9OwoKICAgIC8vIERpc2FibGUgYnJhbmNoIGFyZ3VtZW50IHJlcG9ydGVyIGRyYWdnaW5nCiAgICBjb25zdCBvbGRzdGFydERyYWdnaW5nXyA9IFNCLkdlc3R1cmUucHJvdG90eXBlLnN0YXJ0RHJhZ2dpbmdCbG9ja187CiAgICBTQi5HZXN0dXJlLnByb3RvdHlwZS5zdGFydERyYWdnaW5nQmxvY2tfID0gZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMudGFyZ2V0QmxvY2tfOwogICAgICBpZiAoc291cmNlW3RhcmdldFByb2NEYXRhXSA9PT0gImJyYW5jaERyYWciKSB7CiAgICAgICAgdGhpcy5pc0RyYWdnaW5nQmxvY2tfID0gZmFsc2U7CiAgICAgICAgdGhpcy5kaXNwb3NlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIG9sZHN0YXJ0RHJhZ2dpbmdfLmNhbGwodGhpcyk7CiAgICB9OwoKICAgIC8vIFBhdGNoIFByb2NlZHVyZSBFZGl0IGFuZCBDcmVhdGUgdG8gYWxzbyBvcGVuIG91ciBNb2RhbAogICAgY29uc3QgcHJvY3MgPSBTQi5Qcm9jZWR1cmVzOwogICAgY29uc3Qgb2dDcmVhdGVDYWxsID0gcHJvY3MuY3JlYXRlUHJvY2VkdXJlRGVmQ2FsbGJhY2tfOwogICAgaWYgKHJ1bnRpbWUuU1BtYnBDU1RPbGRTdG9yYWdlID09PSB1bmRlZmluZWQpIHsKICAgICAgcHJvY3MuY3JlYXRlUHJvY2VkdXJlRGVmQ2FsbGJhY2tfID0gZnVuY3Rpb24od29ya3NwYWNlKSB7CiAgICAgICAgY29uc3Qgc2hhcmVkV29yayA9IFNCLm1haW5Xb3Jrc3BhY2U7CiAgICAgICAgb2dDcmVhdGVDYWxsLmNhbGwodGhpcywgd29ya3NwYWNlKTsKICAgICAgICBvcGVuQmxvY2tNYWtlcihzaGFyZWRXb3JrLCBmYWxzZSk7CiAgICAgIH07CiAgICAgIGNvbnN0IG9nRWRpdENhbGwgPSBwcm9jcy5lZGl0UHJvY2VkdXJlQ2FsbGJhY2tfOwogICAgICBwcm9jcy5lZGl0UHJvY2VkdXJlQ2FsbGJhY2tfID0gZnVuY3Rpb24oYmxvY2spIHsKICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gInByb2NlZHVyZXNfY2FsbCIpIHsKICAgICAgICAgIGNvbnN0IGlzR2xvYmFsID0gZ2xvYmFsQmxvY2tzQ2FjaGVbYmxvY2sucHJvY0NvZGVfXTsKICAgICAgICAgIGlmIChpc0dsb2JhbCAmJiBpc0dsb2JhbC5pZCAhPT0gdm0uZWRpdGluZ1RhcmdldC5pZCkgewogICAgICAgICAgICB2bS5vbmNlKCJ3b3Jrc3BhY2VVcGRhdGUiLCAoKSA9PiB7CiAgICAgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IHZtLmVkaXRpbmdUYXJnZXQuYmxvY2tzLmdldFByb2NlZHVyZURlZmluaXRpb24oYmxvY2sucHJvY0NvZGVfKTsKICAgICAgICAgICAgICBibG9jayA9IFNCLm1haW5Xb3Jrc3BhY2UuZ2V0QmxvY2tCeUlkKGJsb2NrSWQpOwogICAgICAgICAgICAgIHJldHVybiBwcm9jcy5lZGl0UHJvY2VkdXJlQ2FsbGJhY2tfLmNhbGwodGhpcywgYmxvY2spOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdm0uc2V0RWRpdGluZ1RhcmdldChpc0dsb2JhbC5pZCk7CiAgICAgICAgICAgIHJldHVybjsgCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IHNoYXJlZFdvcmsgPSBTQi5tYWluV29ya3NwYWNlOwogICAgICAgIGNvbnN0IHZhbCA9IG9nRWRpdENhbGwuY2FsbCh0aGlzLCBibG9jayk7CiAgICAgICAgb3BlbkJsb2NrTWFrZXIoc2hhcmVkV29yaywgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfQogICAgfQogICAgLy8gUGF0Y2ggUHJvY2VkdXJlIEZseW91dCB0byBhbHNvIGludGVyYWN0IHdpdGggdGhlIGV4dGVuc2lvbgogICAgY29uc3Qgb2dGbHlvdXRDYWxsID0gcHJvY3MuZmx5b3V0Q2F0ZWdvcnk7CiAgICBwcm9jcy5mbHlvdXRDYXRlZ29yeSA9IGZ1bmN0aW9uKHdvcmtzcGFjZSkgewogICAgICBjb25zdCB2YWwgPSBvZ0ZseW91dENhbGwuY2FsbCh0aGlzLCB3b3Jrc3BhY2UpOwogICAgICBpZiAodmFsLmxlbmd0aCAhPT0gb2xkTGlzdExlbmd0aCkgbGlzdE5lZWRzUmVmcmVzaCA9IHRydWU7CiAgICAgIGNvbXBpbGVQcm9jZWR1cmVzKHZhbCwgd29ya3NwYWNlLCBwcm9jcyk7CiAgICAgIHJldHVybiB2YWw7CiAgICB9CiAgfSkKCiAgLy8gT3RoZXIgcGF0Y2hlcwogIGZ1bmN0aW9uIHBhdGNoVGFyZ2V0KCkgewogICAgLy8gY3JlYXRlIGEgdGFyZ2V0IHRvIHBhdGNoIFRhcmdldC5CbG9ja3MKICAgIGNvbnN0IHRhcmdldCA9IG5ldyB2bS5leHBvcnRzLlJlbmRlcmVkVGFyZ2V0KHtibG9ja3M6IG51bGx9LCBydW50aW1lKTsKCiAgICBjb25zdCBCbG9ja3MgPSB0YXJnZXQuYmxvY2tzLmNvbnN0cnVjdG9yOwogICAgY29uc3Qgb2xkR2V0UHJvY0RlZiA9IEJsb2Nrcy5wcm90b3R5cGUuZ2V0UHJvY2VkdXJlRGVmaW5pdGlvbjsKICAgIEJsb2Nrcy5wcm90b3R5cGUuZ2V0UHJvY2VkdXJlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgY29uc3QgdGhpc0RlZiA9IG9sZEdldFByb2NEZWYuY2FsbCh0aGlzLCBuYW1lKTsKICAgICAgaWYgKCF0aGlzRGVmICYmIGdsb2JhbEJsb2Nrc0NhY2hlW25hbWVdICYmIGdsb2JhbEJsb2Nrc0NhY2hlW25hbWVdLmJsb2NrcyAhPT0gdGhpcykgewogICAgICAgIHJldHVybiBnbG9iYWxCbG9ja3NDYWNoZVtuYW1lXS5ibG9ja3MuZ2V0UHJvY2VkdXJlRGVmaW5pdGlvbihuYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpc0RlZjsKICAgIH0KICAgIGNvbnN0IG9sZEdldEJsb2NrID0gQmxvY2tzLnByb3RvdHlwZS5nZXRCbG9jazsKICAgIEJsb2Nrcy5wcm90b3R5cGUuZ2V0QmxvY2sgPSBmdW5jdGlvbihuYW1lKSB7CiAgICAgIGNvbnN0IHRoaXNCbG9jayA9IG9sZEdldEJsb2NrLmNhbGwodGhpcywgbmFtZSk7CiAgICAgIGlmICh0aGlzQmxvY2spIHJldHVybiB0aGlzQmxvY2s7CiAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIHRoaXMucnVudGltZS50YXJnZXRzKSB7CiAgICAgICAgaWYgKCF0YXJnZXQuaXNPcmlnaW5hbCB8fCB0YXJnZXQuYmxvY2tzID09PSB0aGlzKSBjb250aW51ZTsKICAgICAgICBjb25zdCB0YXJnZXRCbG9jayA9IG9sZEdldEJsb2NrLmNhbGwodGFyZ2V0LmJsb2NrcywgbmFtZSk7CiAgICAgICAgaWYgKHRhcmdldEJsb2NrKSByZXR1cm4gdGFyZ2V0QmxvY2s7CiAgICAgIH0KICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KICAgIGNvbnN0IG9sZEdldEJyYW5jaCA9IEJsb2Nrcy5wcm90b3R5cGUuZ2V0QnJhbmNoOwogICAgQmxvY2tzLnByb3RvdHlwZS5nZXRCcmFuY2ggPSBmdW5jdGlvbihpZCwgYnJhbmNoTnVtKSB7CiAgICAgIGNvbnN0IHRoaXNCbG9jayA9IG9sZEdldEJyYW5jaC5jYWxsKHRoaXMsIGlkLCBicmFuY2hOdW0pOwogICAgICBpZiAodGhpc0Jsb2NrKSByZXR1cm4gdGhpc0Jsb2NrOwogICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0aGlzLnJ1bnRpbWUudGFyZ2V0cykgewogICAgICAgIGlmICghdGFyZ2V0LmlzT3JpZ2luYWwgfHwgdGFyZ2V0LmJsb2NrcyA9PT0gdGhpcykgY29udGludWU7CiAgICAgICAgY29uc3QgdGFyZ2V0QmxvY2sgPSBvbGRHZXRCcmFuY2guY2FsbCh0YXJnZXQuYmxvY2tzLCBpZCwgYnJhbmNoTnVtKTsKICAgICAgICBpZiAodGFyZ2V0QmxvY2spIHJldHVybiB0YXJnZXRCbG9jazsKICAgICAgfQogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQogICAgY29uc3Qgb2xkUG9wUHJvY0NhY2hlID0gQmxvY2tzLnByb3RvdHlwZS5wb3B1bGF0ZVByb2NlZHVyZUNhY2hlOwogICAgQmxvY2tzLnByb3RvdHlwZS5wb3B1bGF0ZVByb2NlZHVyZUNhY2hlID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLl9jYWNoZS5wcm9jZWR1cmVzUG9wdWxhdGVkKSByZXR1cm47CiAgICAgIHJlZnJlc2hHbG9iYWxCbG9ja3NDYWNoZSgpOwogICAgICBvbGRQb3BQcm9jQ2FjaGUuY2FsbCh0aGlzKTsKICAgICAgZm9yIChjb25zdCBwcm9jY29kZSBvZiBPYmplY3Qua2V5cyhnbG9iYWxCbG9ja3NDYWNoZSkpIHsKICAgICAgICBjb25zdCB0YXJnZXQgPSBnbG9iYWxCbG9ja3NDYWNoZVtwcm9jY29kZV07CiAgICAgICAgaWYgKHRhcmdldC5ibG9ja3MgPT09IHRoaXMpIGNvbnRpbnVlOwogICAgICAgIG9sZFBvcFByb2NDYWNoZS5jYWxsKHRhcmdldC5ibG9ja3MpOwogICAgICAgIC8vIGFkZCBnbG9iYWwgYmxvY2tzIHRvIHRoaXMgY2FjaGUgaWYgdGhleSBhcmVuJ3QgcHJlc2VudCBhbHJlYWR5CiAgICAgICAgdGhpcy5fY2FjaGUucHJvY2VkdXJlUGFyYW1OYW1lc1twcm9jY29kZV0gPSB0YXJnZXQuYmxvY2tzLl9jYWNoZS5wcm9jZWR1cmVQYXJhbU5hbWVzW3Byb2Njb2RlXTsKICAgICAgICB0aGlzLl9jYWNoZS5wcm9jZWR1cmVEZWZpbml0aW9uc1twcm9jY29kZV0gPSB0YXJnZXQuYmxvY2tzLl9jYWNoZS5wcm9jZWR1cmVEZWZpbml0aW9uc1twcm9jY29kZV07CiAgICAgIH0KICAgIH07CiAgICBjb25zdCBvbGRHZXRJbnB1dHMgPSBCbG9ja3MucHJvdG90eXBlLmdldElucHV0czsKICAgIEJsb2Nrcy5wcm90b3R5cGUuZ2V0SW5wdXRzID0gZnVuY3Rpb24oYmxvY2spIHsKICAgICAgaWYgKGJsb2NrLm9wY29kZSAhPT0gInByb2NlZHVyZXNfY2FsbCIpIHJldHVybiBvbGRHZXRJbnB1dHMuY2FsbCh0aGlzLCBibG9jayk7CgogICAgICBpZiAodHlwZW9mIGJsb2NrID09PSAidW5kZWZpbmVkIikgcmV0dXJuIG51bGw7CiAgICAgIGxldCBpbnB1dHMgPSB0aGlzLl9jYWNoZS5pbnB1dHNbYmxvY2suaWRdOwogICAgICBpZiAodHlwZW9mIGlucHV0cyAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHJldHVybiBpbnB1dHM7CiAgICAgIH0KCiAgICAgIGxldCBzdG9yZVRhcmdldCA9IHZtLmVkaXRpbmdUYXJnZXQ7CiAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIHRoaXMucnVudGltZS50YXJnZXRzKSB7CiAgICAgICAgaWYgKCF0YXJnZXQuaXNPcmlnaW5hbCB8fCB0YXJnZXQuYmxvY2tzICE9PSB0aGlzKSBjb250aW51ZTsKICAgICAgICBzdG9yZVRhcmdldCA9IHRhcmdldDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICAKICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZUdldChibG9jay5tdXRhdGlvbi5wcm9jY29kZSwgc3RvcmVUYXJnZXQpOwogICAgICBpbnB1dHMgPSB7fTsKICAgICAgZm9yIChjb25zdCBpbnB1dCBpbiBibG9jay5pbnB1dHMpIHsKICAgICAgICAgIC8vIElnbm9yZSBibG9ja3MgcHJlZml4ZWQgd2l0aCBicmFuY2ggcHJlZml4LCBhbmQgY3VzdG9tIGJyYW5jaCBpbnB1dHMuCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgICFzdG9yZS5pbnB1dHMgfHwKICAgICAgICAgICAgaW5wdXQuc3Vic3RyaW5nKDAsIEJsb2Nrcy5CUkFOQ0hfSU5QVVRfUFJFRklYLmxlbmd0aCkgIT09IEJsb2Nrcy5CUkFOQ0hfSU5QVVRfUFJFRklYCiAgICAgICAgICAgICYmICEoc3RvcmUuaW5wdXRzW2lucHV0XSAmJiBzdG9yZS5pbnB1dHNbaW5wdXRdLnR5cGUgPT09ICJicmMiKQogICAgICAgICAgKSBpbnB1dHNbaW5wdXRdID0gYmxvY2suaW5wdXRzW2lucHV0XTsKICAgICAgfQogICAgICB0aGlzLl9jYWNoZS5pbnB1dHNbYmxvY2suaWRdID0gaW5wdXRzOwogICAgICByZXR1cm4gaW5wdXRzOwogICAgfQogIH0KICBwYXRjaFRhcmdldCgpOwoKICBjb25zdCBvbGRUb0pTT04gPSB2bS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUudG9KU09OOwogIHZtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiguLi5hcmdzKSB7CiAgICBpZiAoZXh0ZW5zaW9uUmVtb3ZhYmxlKSByZXR1cm4gb2xkVG9KU09OLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgaWYgKCFpc1BNKSB7CiAgICAgIC8vIHBlbmd1aW5tb2QgYXV0b21hdGljYWxseSBkb2VzIHRoaXMKICAgICAgc3VzcGVuZFJlbW92YWwgPSBmYWxzZTsKICAgICAgcmVtb3ZlVW51c2VkUHJvY3MoKTsKICAgICAgcmVtb3ZlVW51c2VkSW1hZ2VzKCk7CiAgICAgIGV4dD8uc2VyaWFsaXplKCk7CiAgICB9CgogICAgLy8gTWFrZSB0aGUgZXh0ZW5zaW9uIHN0YXkgYnkgYWRkaW5nIGEgZHVtbXkgYmxvY2sKICAgIGNvbnN0IGJsb2NrcyA9IHJ1bnRpbWUudGFyZ2V0c1swXS5ibG9ja3M7CiAgICBibG9ja3MuX2Jsb2Nrc1tURU1QX0JMT0NLX09QQ09ERV0gPSB7CiAgICAgIG9wY29kZTogVEVNUF9CTE9DS19PUENPREUsIGlkOiBURU1QX0JMT0NLX09QQ09ERSwgZmllbGRzOiB7fSwKICAgICAgbmV4dDogbnVsbCwgcGFyZW50OiBudWxsLCBzaGFkb3c6IGZhbHNlLCB0b0xldmVsOiB0cnVlLAogICAgICB4OiB1bmRlZmluZWQsIHk6IHVuZGVmaW5lZAogICAgfQogICAgY29uc3QganNvblN0ciA9IG9sZFRvSlNPTi5hcHBseSh0aGlzLCBhcmdzKTsKICAgIC8vIEJsb2NrIElEcyBtYXkgaGF2ZSBiZWVuIGNvbXByZXNzZWQgYXQgdGhpcyBwb2ludAogICAgY29uc3QgdGVtcEJsb2NrSWQgPSBPYmplY3QudmFsdWVzKGJsb2Nrcy5fYmxvY2tzKS5maW5kKG8gPT4gby5vcGNvZGUgPT09IFRFTVBfQkxPQ0tfT1BDT0RFKT8uaWQ7CiAgICBpZiAodGVtcEJsb2NrSWQpIGRlbGV0ZSBibG9ja3MuX2Jsb2Nrc1t0ZW1wQmxvY2tJZF07CiAgICByZXR1cm4ganNvblN0cjsKICB9CgogIGNvbnN0IG9sZEdldE9wY29kZSA9IHJ1bnRpbWUuZ2V0T3Bjb2RlRnVuY3Rpb247CiAgcnVudGltZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0T3Bjb2RlRnVuY3Rpb24gPSBmdW5jdGlvbihvcGNvZGUpIHsKICAgIGlmIChvcGNvZGUgPT09ICJwcm9jZWR1cmVzX2NhbGwiKSByZXR1cm4gcGF0Y2hlZENhbGxGdW5jOwogICAgcmV0dXJuIG9sZEdldE9wY29kZS5jYWxsKHRoaXMsIG9wY29kZSk7CiAgfQoKICBjb25zdCBwYXRjaGVkQ2FsbEZ1bmMgPSAoYXJncywgdXRpbCkgPT4gewogICAgLy8gUGF0Y2hlZCBCbG9jayBjb2RlIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vVHVyYm9XYXJwL3NjcmF0Y2gtdm0vYmxvYi9kZXZlbG9wL3NyYy9ibG9ja3Mvc2NyYXRjaDNfcHJvY2VkdXJlcy5qcyNMMjgtTDgyCiAgICBjb25zdCB0aHJlYWQgPSB1dGlsLnRocmVhZDsKICAgIGNvbnN0IHN0YWNrRnJhbWUgPSB1dGlsLnN0YWNrRnJhbWU7CiAgICBjb25zdCBpc1JlcG9ydGVyID0gISFhcmdzLm11dGF0aW9uLnJldHVybjsKICAgIGlmIChzdGFja0ZyYW1lLmV4ZWN1dGVkKSB7CiAgICAgIGlmICh0aHJlYWQuaXNNQlBQYXRjaGVkKSB7CiAgICAgICAgLy8gcGF0Y2ggdGhpcyBmdW5jdGlvbiBmb3IgdGhlIHRocmVhZAogICAgICAgIHRocmVhZC5pc01CUFBhdGNoZWQgPSB1bmRlZmluZWQ7CiAgICAgICAgdGhyZWFkLnRhcmdldC5ibG9ja3MuZ2V0TmV4dEJsb2NrID0gdGhyZWFkW3RhcmdldFByb2NEYXRhXS5vZ05leHQ7CiAgICAgIH0KICAgICAgaWYgKGlzUmVwb3J0ZXIpIHsKICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IHN0YWNrRnJhbWUucmV0dXJuVmFsdWU7CiAgICAgICAgY29uc3QgdGhyZWFkU3RhY2tGcmFtZSA9IHRocmVhZC5wZWVrU3RhY2tGcmFtZSgpOwogICAgICAgIHRocmVhZFN0YWNrRnJhbWUucGFyYW1zID0gbnVsbDsKICAgICAgICBkZWxldGUgc3RhY2tGcmFtZS5yZXR1cm5WYWx1ZTsKICAgICAgICBkZWxldGUgc3RhY2tGcmFtZS5leGVjdXRlZDsKICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHByb2NlZHVyZUNvZGUgPSBhcmdzLm11dGF0aW9uLnByb2Njb2RlOwogICAgbGV0IGlzR2xvYmFsID0gZ2xvYmFsQmxvY2tzQ2FjaGVbcHJvY2VkdXJlQ29kZV07CiAgICBpZiAoaXNHbG9iYWwgJiYgaXNHbG9iYWwuaWQgPT09IHV0aWwudGFyZ2V0LnNwcml0ZS5jbG9uZXNbMF0uaWQpIGlzR2xvYmFsID0gdW5kZWZpbmVkOwoKICAgIGNvbnN0IHBhcmFtTmFtZXNJZHNBbmREZWZhdWx0cyA9IChpc0dsb2JhbCA/IGlzR2xvYmFsLmJsb2NrcyA6IHV0aWwpLmdldFByb2NlZHVyZVBhcmFtTmFtZXNJZHNBbmREZWZhdWx0cyhwcm9jZWR1cmVDb2RlKTsKICAgIGlmIChwYXJhbU5hbWVzSWRzQW5kRGVmYXVsdHMgPT09IG51bGwpIHsKICAgICAgaWYgKGlzUmVwb3J0ZXIpIHJldHVybiAiIjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IFtwYXJhbU5hbWVzLCBwYXJhbUlkcywgcGFyYW1EZWZhdWx0c10gPSBwYXJhbU5hbWVzSWRzQW5kRGVmYXVsdHM7CiAgICB1dGlsLmluaXRQYXJhbXMoKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1JZHMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmdzLCBwYXJhbUlkc1tpXSkpIHV0aWwucHVzaFBhcmFtKHBhcmFtTmFtZXNbaV0sIGFyZ3NbcGFyYW1JZHNbaV1dKTsKICAgICAgZWxzZSB1dGlsLnB1c2hQYXJhbShwYXJhbU5hbWVzW2ldLCBwYXJhbURlZmF1bHRzW2ldKTsKICAgIH0KCiAgICBjb25zdCBhZGRvbkJsb2NrID0gdXRpbC5ydW50aW1lLmdldEFkZG9uQmxvY2socHJvY2VkdXJlQ29kZSk7CiAgICBpZiAoYWRkb25CbG9jaykgewogICAgICBjb25zdCByZXN1bHQgPSBhZGRvbkJsb2NrLmNhbGxiYWNrKHRocmVhZC5nZXRBbGxwYXJhbXMoKSwgdXRpbCk7CiAgICAgIGlmICh0aHJlYWQuc3RhdHVzID09PSAxKSBzdGFja0ZyYW1lLmV4ZWN1dGVkID0gdHJ1ZTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBzdGFja0ZyYW1lLmV4ZWN1dGVkID0gdHJ1ZTsKICAgIGNvbnN0IGZyYW1lID0gdGhyZWFkLnBlZWtTdGFja0ZyYW1lKCk7CiAgICBpZiAoaXNSZXBvcnRlcikgewogICAgICBmcmFtZS53YWl0aW5nUmVwb3J0ZXIgPSB0cnVlOwogICAgICBzdGFja0ZyYW1lLnJldHVyblZhbHVlID0gIiI7CiAgICB9CiAgICB0aHJlYWRbdGFyZ2V0UHJvY0RhdGFdID0gewogICAgICBvZ05leHQ6IHRocmVhZC50YXJnZXQuYmxvY2tzLmdldE5leHRCbG9jaywKICAgICAgYmxvY2s6IGZyYW1lLm9wLCBmcmFtZSwKICAgICAgcGFyYW1zOiBwYXJhbU5hbWVzSWRzQW5kRGVmYXVsdHMKICAgIH07CiAgICB1dGlsLnN0YXJ0UHJvY2VkdXJlKHsgcHJvYzogcHJvY2VkdXJlQ29kZSwgaXNHbG9iYWwgfSk7CiAgfTsKCiAgY29uc3Qgb2xkU3RlcDJQcm9jID0gcnVudGltZS5zZXF1ZW5jZXIuc3RlcFRvUHJvY2VkdXJlOwogIHJ1bnRpbWUuc2VxdWVuY2VyLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5zdGVwVG9Qcm9jZWR1cmUgPSBmdW5jdGlvbih0aHJlYWQsIHByb2NlZHVyZUNvZGUpIHsKICAgIGlmIChwcm9jZWR1cmVDb2RlLmlzR2xvYmFsID09PSB1bmRlZmluZWQpIG9sZFN0ZXAyUHJvYy5jYWxsKHRoaXMsIHRocmVhZCwgcHJvY2VkdXJlQ29kZS5wcm9jKTsKICAgIGVsc2UgewogICAgICBjb25zdCBvZ1RhcmdldCA9IHByb2NlZHVyZUNvZGUuaXNHbG9iYWw7CiAgICAgIGNvbnN0IGRlZiA9IG9nVGFyZ2V0LmJsb2Nrcy5nZXRQcm9jZWR1cmVEZWZpbml0aW9uKHByb2NlZHVyZUNvZGUucHJvYyk7CiAgICAgIGlmICghZGVmKSByZXR1cm47CiAgICAgIGlmICh0aHJlYWQuaXNNQlBQYXRjaGVkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAvLyBwYXRjaCB0aGlzIGZ1bmN0aW9uIGZvciB0aGUgdGhyZWFkCiAgICAgICAgdGhyZWFkLmlzTUJQUGF0Y2hlZCA9IHRydWU7CiAgICAgICAgY29uc3Qgb2dHZXROZXh0ID0gdGhyZWFkLnRhcmdldC5ibG9ja3MuZ2V0TmV4dEJsb2NrOwogICAgICAgIHRocmVhZC50YXJnZXQuYmxvY2tzLmdldE5leHRCbG9jayA9IGZ1bmN0aW9uKGlkKSB7CiAgICAgICAgICBjb25zdCBibG9jayA9IG9nR2V0TmV4dC5jYWxsKHRoaXMsIGlkKTsKICAgICAgICAgIGlmIChibG9jaykgcmV0dXJuIGJsb2NrOwogICAgICAgICAgZWxzZSByZXR1cm4gb2dUYXJnZXQuYmxvY2tzLmdldE5leHRCbG9jayhpZCkgPz8gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IGlzUmVjdXJzaXZlID0gdGhyZWFkLmlzUmVjdXJzaXZlQ2FsbChwcm9jZWR1cmVDb2RlLnByb2MpOwogICAgICB0aHJlYWQucHVzaFN0YWNrKGRlZik7CiAgICAgIGlmICh0aHJlYWQucGVla1N0YWNrRnJhbWUoKS53YXJwTW9kZSAmJiB0aHJlYWQud2FycFRpbWVyLnRpbWVFbGFwc2VkKCkgPiBTZXF1ZW5jZXIuV0FSUF9USU1FKSB0aHJlYWQuc3RhdHVzID0gVGhyZWFkLlNUQVRVU19ZSUVMRDsKICAgICAgZWxzZSB7CiAgICAgICAgY29uc3QgZGVmQmxvY2sgPSBvZ1RhcmdldC5ibG9ja3MuZ2V0QmxvY2soZGVmKTsKICAgICAgICBjb25zdCBpbm5lckJsb2NrID0gb2dUYXJnZXQuYmxvY2tzLmdldEJsb2NrKGRlZkJsb2NrLmlucHV0cy5jdXN0b21fYmxvY2suYmxvY2spOwogICAgICAgIGxldCBkb1dhcnAgPSBmYWxzZTsKICAgICAgICBpZiAoaW5uZXJCbG9jayAmJiBpbm5lckJsb2NrLm11dGF0aW9uKSB7CiAgICAgICAgICBjb25zdCB3YXJwID0gaW5uZXJCbG9jay5tdXRhdGlvbi53YXJwOwogICAgICAgICAgaWYgKHR5cGVvZiB3YXJwID09PSAiYm9vbGVhbiIpIGRvV2FycCA9IHdhcnA7CiAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2FycCA9PT0gInN0cmluZyIpIGRvV2FycCA9IEpTT04ucGFyc2Uod2FycCk7CiAgICAgICAgfQogICAgICAgIGlmIChkb1dhcnApIHRocmVhZC5wZWVrU3RhY2tGcmFtZSgpLndhcnBNb2RlID0gdHJ1ZTsKICAgICAgICBlbHNlIGlmIChpc1JlY3Vyc2l2ZSkgdGhyZWFkLnN0YXR1cyA9IFRocmVhZC5TVEFUVVNfWUlFTEQ7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIEludGVybmFscwogIC8vIFJlbW92ZSB1bnVzZWQgcHJvY2VkdXJlcyBiZWZvcmUgc2F2aW5nCiAgZnVuY3Rpb24gcmVtb3ZlVW51c2VkUHJvY3MoKSB7CiAgICBpZiAoc3VzcGVuZFJlbW92YWwpIHJldHVybjsKICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIHJ1bnRpbWUudGFyZ2V0cykgewogICAgICBmb3IgKGNvbnN0IHByb2Njb2RlIG9mIE9iamVjdC5rZXlzKHN0b3JhZ2VbdGFyZ2V0LmlkXSB8fCB7fSkpIHsKICAgICAgICBpZiAoIXRhcmdldC5ibG9ja3MuZ2V0UHJvY2VkdXJlRGVmaW5pdGlvbihwcm9jY29kZSkpIGRlbGV0ZSBzdG9yYWdlW3RhcmdldC5pZF1bcHJvY2NvZGVdOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZW1vdmUgdW51c2VkIGltYWdlcyBiZWZvcmUgc2F2aW5nCiAgZnVuY3Rpb24gcmVtb3ZlVW51c2VkSW1hZ2VzKCkgewogICAgaWYgKHN1c3BlbmRSZW1vdmFsKSByZXR1cm47CiAgICBjb25zdCB1c2VkSWRzID0gbmV3IFNldCgpOwogICAgT2JqZWN0LnZhbHVlcyhzdG9yYWdlKS5mb3JFYWNoKHByb2MgPT4gT2JqZWN0LnZhbHVlcyhwcm9jID8/IHt9KS5mb3JFYWNoKGRhdGEgPT4gewogICAgICBpZiAoIWRhdGEuaW5wdXRzKSByZXR1cm47CiAgICAgIE9iamVjdC52YWx1ZXMoZGF0YS5pbnB1dHMpLmZvckVhY2goaW5wdXQgPT4gewogICAgICAgIGlmIChpbnB1dC50eXBlID09PSAiaW1nIikgdXNlZElkcy5hZGQoaW5wdXQuc3JjKTsKICAgICAgfSk7CiAgICB9KSk7CgogICAgZm9yIChsZXQgaSA9IDE7IGkgPCBpbWdTdG9yZVNpemU7IGkrKykgewogICAgICBpZiAoIXVzZWRJZHMuaGFzKGkpKSBkZWxldGUgaW1nU3RvcmFnZVtpXTsKICAgIH0KICB9CgogIC8vIHJlc2V0IHRoZSBjb21waWxlZCBjb2RlIGNhY2hlIGZvciBnbG9iYWwgYmxvY2tzIHRoYXQgZ2V0IGNoYW5nZWQKICBmdW5jdGlvbiByZXNldEdsb2JhbENvbXBpbGVyQ2FjaGUocHJvY2NvZGUpIHsKICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIHJ1bnRpbWUudGFyZ2V0cykgewogICAgICBjb25zdCBibG9ja3MgPSB0YXJnZXQuYmxvY2tzOwogICAgICBjb25zdCBjb21waWxlZFByb2NzID0gT2JqZWN0LmtleXMoYmxvY2tzLl9jYWNoZS5jb21waWxlZFByb2NlZHVyZXMpOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBpbGVkUHJvY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoY29tcGlsZWRQcm9jc1tpXS5pbmNsdWRlcyhwcm9jY29kZSkpIHsKICAgICAgICAgIGJsb2Nrcy5yZXNldENhY2hlKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICAvLyBJcy1pbi1FZGl0b3IgQ2hlY2tlcgogIGxldCBzdGFydGVkRWRpdG9yV29ya2VyID0gZmFsc2U7CiAgZnVuY3Rpb24gc3RhcnRFZGl0b3JMaXN0ZW5lcigpIHsKICAgIHJlZnJlc2hHbG9iYWxCbG9ja3NDYWNoZSgpOwogICAgaWYgKHN0YXJ0ZWRFZGl0b3JXb3JrZXIpIHJldHVybjsKICAgIHN0YXJ0ZWRFZGl0b3JXb3JrZXIgPSBmYWxzZTsKICAgIGlmIChTY3JhdGNoLmd1aSkgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gewogICAgICBjb25zdCB3b3Jrc3BhY2UgPSBTQi5tYWluV29ya3NwYWNlOwogICAgICBpZiAoIWlzUE0pIHdvcmtzcGFjZS5lbmFibGVQcm9jZWR1cmVSZXR1cm5zKCk7CiAgICAgIHZtLm9uKCJ3b3Jrc3BhY2VVcGRhdGUiLCAoKSA9PiB7CiAgICAgICAgaWYgKCFleHRlbnNpb25SZW1vdmFibGUpIHsKICAgICAgICAgIGxpc3ROZWVkc1JlZnJlc2ggPSB0cnVlOwogICAgICAgICAgaWYgKHdvcmtzcGFjZT8ucmVuZGVyZWQpIFNCLlByb2NlZHVyZXMuZmx5b3V0Q2F0ZWdvcnkod29ya3NwYWNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICAvLyBCbG9jayBFdmVudHMgSGFuZGxlcgogIGZ1bmN0aW9uIGluaXRCbG9ja0V2ZW50cygpIHsKICAgIGlmIChTY3JhdGNoLmd1aSkgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gewogICAgICBjb25zdCB7IEV2ZW50cywgbWFpbldvcmtzcGFjZSB9ID0gU0I7CiAgICAgIGlmICghbWFpbldvcmtzcGFjZT8ucmVuZGVyZWQpIHJldHVybjsKICAgICAgbGV0IHBhdGNoZWQgPSBmYWxzZTsKICAgICAgY29uc3Qgd29ya3NwYWNlRXZlbnRzID0gKGUpID0+IHsKICAgICAgICBpZiAobWFpbldvcmtzcGFjZS5pZCA9PT0gZS53b3Jrc3BhY2VJZCkgewogICAgICAgICAgaWYgKCFpc1BNICYmICFwYXRjaGVkKSB7CiAgICAgICAgICAgIGNvbnN0IG9nUmV0dXJuc1dpbGxDaGFuZ2UgPSBtYWluV29ya3NwYWNlLnByb2NlZHVyZVJldHVybnNXaWxsQ2hhbmdlOwogICAgICAgICAgICBtYWluV29ya3NwYWNlLnByb2NlZHVyZVJldHVybnNXaWxsQ2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgb2dSZXR1cm5zV2lsbENoYW5nZS5jYWxsKHRoaXMpOwogICAgICAgICAgICAgIGxpc3ROZWVkc1JlZnJlc2ggPSB0cnVlOwogICAgICAgICAgICAgIHBhdGNoZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkgewogICAgICAgICAgICBjYXNlIEV2ZW50cy5DSEFOR0U6IHsKICAgICAgICAgICAgICBsZXQgYmxvY2sgPSBtYWluV29ya3NwYWNlLmdldEJsb2NrQnlJZChlLmJsb2NrSWQpOwogICAgICAgICAgICAgIHdoaWxlIChibG9jayAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnR5cGUgPT09ICJwcm9jZWR1cmVzX2RlZmluaXRpb24iKSB7CiAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3RvID0gYmxvY2suZ2V0SW5wdXQoImN1c3RvbV9ibG9jayIpPy5jb25uZWN0aW9uPy50YXJnZXRCbG9jaygpOwogICAgICAgICAgICAgICAgICBpZiAoIXByb3RvKSByZXR1cm47CiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVHZXQocHJvdG8ucHJvY0NvZGVfKTsKICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLmdsb2JhbCkgcmVzZXRHbG9iYWxDb21waWxlckNhY2hlKHByb3RvLnByb2NDb2RlXyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBibG9jayA9IGJsb2NrLmdldFBhcmVudCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIEV2ZW50cy5NT1ZFOiB7CiAgICAgICAgICAgICAgbGV0IGJsb2NrID0gbWFpbldvcmtzcGFjZS5nZXRCbG9ja0J5SWQoZS5ibG9ja0lkKSwgcGFyZW50ID0gbWFpbldvcmtzcGFjZS5nZXRCbG9ja0J5SWQoZS5uZXdQYXJlbnRJZCk7CgogICAgICAgICAgICAgIC8vIGZpeCBmaWVsZCBjb2xvdXJzCiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5uZXdJbnB1dE5hbWUgJiYgYmxvY2s/LmNhdGVnb3J5XyA9PT0gbnVsbCAmJgogICAgICAgICAgICAgICAgYmxvY2suaW5wdXRMaXN0WzBdLmZpZWxkUm93WzBdPy5hcnJvd18gIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgICAgICAgcGFyZW50Py50eXBlID09PSAicHJvY2VkdXJlc19jYWxsIgogICAgICAgICAgICAgICkgYmxvY2suc2V0Q29sb3VyKHBhcmVudC5jb2xvdXJfKTsKCiAgICAgICAgICAgICAgLy8gdXBkYXRlIGdsb2JhbCBibG9jayBjYWNoZSBmb3IgcmV0dXJucwogICAgICAgICAgICAgIGlmICghaXNQTSkgewogICAgICAgICAgICAgICAgaWYgKHBhcmVudD8udHlwZSA9PT0gInByb2NlZHVyZXNfcmV0dXJuIikgewogICAgICAgICAgICAgICAgICBibG9jayA9IHBhcmVudDsKICAgICAgICAgICAgICAgICAgcGFyZW50ID0gYmxvY2suZ2V0UGFyZW50KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlR2xvYmFsUmV0dXJuID0gKHBhcmVudCwgcmV0dXJucykgPT4gewogICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gInByb2NlZHVyZXNfZGVmaW5pdGlvbiIpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3RvID0gcGFyZW50LmdldElucHV0KCJjdXN0b21fYmxvY2siKT8uY29ubmVjdGlvbj8udGFyZ2V0QmxvY2soKTsKICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvdG8pIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVHZXQocHJvdG8ucHJvY0NvZGVfKTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jaz8udHlwZSA9PT0gInByb2NlZHVyZXNfcmV0dXJuIikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2bVByb3RvID0gdm0uZWRpdGluZ1RhcmdldC5ibG9ja3MuZ2V0QmxvY2socHJvdG8uaWQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJucykgdm1Qcm90by5tdXRhdGlvbi5yZXR1cm4gPSBTQi5Qcm9jZWR1cmVzLmdldEJsb2NrUmV0dXJuVHlwZShwYXJlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHZtUHJvdG8ubXV0YXRpb24ucmV0dXJuID0gMDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3ROZWVkc1JlZnJlc2ggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuZ2xvYmFsKSBzdG9yZS5yZXR1cm4gPSB2bVByb3RvLm11dGF0aW9uLnJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZS5nbG9iYWwpIHJlc2V0R2xvYmFsQ29tcGlsZXJDYWNoZShwcm90by5wcm9jQ29kZV8pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50KCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgY2hhbmdlR2xvYmFsUmV0dXJuKHBhcmVudCwgdHJ1ZSk7IC8vIGhhbmRsZSBuZXcgZGVmaW5pdGlvbgogICAgICAgICAgICAgICAgaWYgKGUub2xkUGFyZW50SWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBjb25zdCBvbGRQYXJlbnQgPSBtYWluV29ya3NwYWNlLmdldEJsb2NrQnlJZChlLm9sZFBhcmVudElkKTsKICAgICAgICAgICAgICAgICAgY2hhbmdlR2xvYmFsUmV0dXJuKG9sZFBhcmVudCwgZmFsc2UpOyAvLyBoYW5kbGUgb2xkIGRlZmluaXRpb24KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIG1haW5Xb3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIod29ya3NwYWNlRXZlbnRzKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBzdGFydEJsb2NrTGlzdGVuZXIoKSB7CiAgICBydW50aW1lLm9uKCJCTE9DS19EUkFHX0VORCIsIChuZXdTdGFjaywgb2xkSUQpID0+IHsKICAgICAgLy8gYXBwZW5kIG9sZCBkYXRhIHRvIG5ldyBibG9ja3MKICAgICAgaWYgKG5ld1N0YWNrWzBdLm9wY29kZSAhPT0gInByb2NlZHVyZXNfZGVmaW5pdGlvbiIpIHJldHVybjsKICAgICAgY29uc3QgcHJvY2NvZGUgPSBuZXdTdGFja1sxXS5tdXRhdGlvbi5wcm9jY29kZTsKICAgICAgY29uc3QgdGhpc1RhcmdldCA9IHZtLmVkaXRpbmdUYXJnZXQ7CiAgICAgIGNvbnN0IGNvcHlTdG9yZSA9IHN0b3JlR2V0KHByb2Njb2RlLCB0aGlzVGFyZ2V0KTsKICAgICAgaWYgKGNvcHlTdG9yZSkgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gdGltZW91dCB3b3JrcyBiZXR0ZXIgdGhhbiBxdWV1ZU1pY3JvdGFzayBmb3IgdGhpcz8KICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBydW50aW1lLnRhcmdldHMpIHsKICAgICAgICAgIGlmICghdGFyZ2V0LmlzT3JpZ2luYWwgfHwgdGFyZ2V0LmlkID09PSB0aGlzVGFyZ2V0LmlkKSBjb250aW51ZTsKICAgICAgICAgIGNvbnN0IGRlZiA9IHRhcmdldC5ibG9ja3MuZ2V0UHJvY2VkdXJlRGVmaW5pdGlvbihwcm9jY29kZSk7CiAgICAgICAgICBpZiAoZGVmKSBzdG9yZVNldChwcm9jY29kZSwgc3RydWN0dXJlZENsb25lKGNvcHlTdG9yZSksIHRhcmdldCk7CiAgICAgICAgfQogICAgICB9LCAxMCk7CiAgICB9KTsKCiAgICBjb25zdCBjaGVja0luRWRpdG9yID0gKCkgPT4gIVJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLm1vZGUuaXNQbGF5ZXJPbmx5OwogICAgbGV0IGluRWRpdG9yID0gY2hlY2tJbkVkaXRvcigpOwogICAgaWYgKGluRWRpdG9yKSBpbml0QmxvY2tFdmVudHMoKTsKICAgIFJlZHV4U3RvcmUuc3Vic2NyaWJlKCgpID0+IHsKICAgICAgY29uc3QgY3VycmVudEluRWRpdG9yID0gY2hlY2tJbkVkaXRvcigpOwogICAgICBpZiAoaW5FZGl0b3IgIT09IGN1cnJlbnRJbkVkaXRvcikgewogICAgICAgIGluRWRpdG9yID0gY3VycmVudEluRWRpdG9yOwogICAgICAgIGlmIChpbkVkaXRvcikgaW5pdEJsb2NrRXZlbnRzKCk7CiAgICAgIH0KICAgIH0pOwogIH0KICBpZiAodHlwZW9mIHNjYWZmb2xkaW5nID09PSAidW5kZWZpbmVkIikgc3RhcnRCbG9ja0xpc3RlbmVyKCk7CgogIC8vIEN1c3RvbSBCbG9ja3MgSW50ZXJuYWxzCiAgZnVuY3Rpb24gc3RvcmVHZXQobmFtZSwgdGFyZ2V0ID0gbnVsbCkgewogICAgLy8gZmlyc3QgY2hlY2sgaWYgaXRzIGEgZ2xvYmFsIGJsb2NrIHByb2Njb2RlCiAgICBjb25zdCBnbG9iYWxTdG9yZSA9IGdsb2JhbEJsb2Nrc0NhY2hlW25hbWVdOwogICAgaWYgKGdsb2JhbFN0b3JlICE9PSB1bmRlZmluZWQpIHJldHVybiBzdG9yYWdlW2dsb2JhbFN0b3JlLmlkXT8uW25hbWVdID8/IHt9OwoKICAgIGNvbnN0IGlkID0gKHRhcmdldCB8fCB2bS5lZGl0aW5nVGFyZ2V0KS5pZDsKICAgIHJldHVybiBzdG9yYWdlW2lkXT8uW25hbWVdID8/IHt9OwogIH0KICBmdW5jdGlvbiBzdG9yZURlbChuYW1lLCB0YXJnZXQgPSBudWxsKSB7CiAgICBjb25zdCBpZCA9ICh0YXJnZXQgfHwgdm0uZWRpdGluZ1RhcmdldCkuaWQ7CiAgICBkZWxldGUgc3RvcmFnZVtpZF1bbmFtZV07CiAgfQogIGZ1bmN0aW9uIHN0b3JlU2V0KG5hbWUsIHZhbHVlLCB0YXJnZXQgPSBudWxsKSB7CiAgICBjb25zdCBpZCA9ICh0YXJnZXQgfHwgdm0uZWRpdGluZ1RhcmdldCkuaWQ7CiAgICBpZiAoIXN0b3JhZ2VbaWRdKSBzdG9yYWdlW2lkXSA9IHt9OwogICAgc3RvcmFnZVtpZF1bbmFtZV0gPSB2YWx1ZTsKICAgIHJ1bnRpbWUuU1BtYnBDU1RPbGRTdG9yYWdlID0gc3RvcmFnZTsKICB9CgogIGZ1bmN0aW9uIHN0b3JlSW1hZ2UodXJsKSB7CiAgICBjb25zdCB1cmxFeGlzdHMgPSBPYmplY3QudmFsdWVzKGltZ1N0b3JhZ2UpLmluZGV4T2YodXJsKTsKICAgIGlmICh1cmxFeGlzdHMgPiAtMSkgcmV0dXJuIHVybEV4aXN0cyArIDE7CgogICAgaW1nU3RvcmVTaXplKys7CiAgICBpbWdTdG9yYWdlW2ltZ1N0b3JlU2l6ZV0gPSB1cmw7CiAgICByZXR1cm4gaW1nU3RvcmVTaXplOwogIH0KICBmdW5jdGlvbiBnZXRTdG9yZWRJbWFnZShpbmRleCkgewogICAgcmV0dXJuIGltZ1N0b3JhZ2VbaW5kZXhdID8/ICIiOwogIH0KCiAgZnVuY3Rpb24gZGVzZXJpYWxpemVTdG9yYWdlKGRhdGEpIHsKICAgIGlmIChpc1BNKSB7CiAgICAgIHN0b3JhZ2UgPSBkYXRhLlNQbWJwQ1NUIHx8IHt9OwogICAgICBpbWdTdG9yYWdlID0gZGF0YS5TUG1icENTVC5pbWdTdG9yYWdlID8/IHt9OwogICAgICBpbWdTdG9yZVNpemUgPSBPYmplY3Qua2V5cyhpbWdTdG9yYWdlKS5sZW5ndGg7CiAgICAgIHN0YXJ0RWRpdG9yTGlzdGVuZXIoKTsKICAgICAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICAgICAgcnVudGltZS5vbmNlKCJQUk9KRUNUX0xPQURFRCIsICgpID0+IHsKICAgICAgICAgIGlmIChTQi5tYWluV29ya3NwYWNlLnJlbmRlcmVkKSBTQi5Qcm9jZWR1cmVzLmZseW91dENhdGVnb3J5KFNCLm1haW5Xb3Jrc3BhY2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHN1c3BlbmRSZW1vdmFsID0gdHJ1ZTsKCiAgICAgIGltZ1N0b3JhZ2UgPSBydW50aW1lLmV4dGVuc2lvblN0b3JhZ2VbIlNQbWJwQ1NUIl0uaW1nU3RvcmFnZSA/PyB7fTsKICAgICAgaW1nU3RvcmVTaXplID0gT2JqZWN0LmtleXMoaW1nU3RvcmFnZSkubGVuZ3RoOwogICAgICBzdG9yYWdlID0ge307IC8vIHRhcmdldCBJRCdzIGNoYW5nZSB3aGVuIHNhdmluZyA6KAogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bnRpbWUudGFyZ2V0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHRhcmdldCA9IHJ1bnRpbWUudGFyZ2V0c1tpXTsKICAgICAgICBjb25zdCBzdG9yZSA9IHRhcmdldC5leHRlbnNpb25TdG9yYWdlPy5TUG1icENTVDsKICAgICAgICBpZiAoc3RvcmUgIT09IHVuZGVmaW5lZCkgc3RvcmFnZVt0YXJnZXQuaWRdID0geyAuLi5zdG9yZSB9OwogICAgICB9CiAgICAgIGNvbnN0IHRlbXBTdG9yZSA9IHN0cnVjdHVyZWRDbG9uZShzdG9yYWdlKTsKICAgICAgcnVudGltZS5TUG1icENTVE9sZFN0b3JhZ2UgPSB0ZW1wU3RvcmU7CiAgICAgIHN0YXJ0RWRpdG9yTGlzdGVuZXIoKTsKICAgICAgdm0ub25jZSgid29ya3NwYWNlVXBkYXRlIiwgKCkgPT4geyBzdG9yYWdlID0gdGVtcFN0b3JlIH0pOwogICAgICB2bS5lbWl0V29ya3NwYWNlVXBkYXRlKCk7CiAgICAgIGlmIChTY3JhdGNoLmd1aSkgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gewogICAgICAgIFNCLlByb2NlZHVyZXMuZmx5b3V0Q2F0ZWdvcnkoU0IubWFpbldvcmtzcGFjZSk7CiAgICAgIH0pOwogICAgfQogIH0KICAvLyB1c2UgZXhpc3Rpbmcgc3RvcmFnZSB3aGVuIGxvYWRlZCB0d2ljZQogIHN0b3JhZ2UgPSBydW50aW1lLlNQbWJwQ1NUT2xkU3RvcmFnZSB8fCB7fTsKICBpZiAoIWlzUE0pIHJ1bnRpbWUub25jZSgiUFJPSkVDVF9MT0FERUQiLCAoKSA9PiBkZXNlcmlhbGl6ZVN0b3JhZ2UoKSk7CgogIGZ1bmN0aW9uIHJlZnJlc2hHbG9iYWxCbG9ja3NDYWNoZSgpIHsKICAgIGdsb2JhbEJsb2Nrc0NhY2hlID0ge307CiAgICB2bS5nbG9iYWxCbG9ja3NDYWNoZSA9IGdsb2JhbEJsb2Nrc0NhY2hlOwogICAgZm9yIChjb25zdCB0YXJnZXRJZCBvZiBPYmplY3Qua2V5cyhzdG9yYWdlKSkgewogICAgICBjb25zdCB0YXJnZXQgPSBydW50aW1lLmdldFRhcmdldEJ5SWQodGFyZ2V0SWQpOwogICAgICBpZiAoIXRhcmdldCkgY29udGludWU7CiAgICAgIGZvciAoY29uc3QgcHJvY2NvZGUgb2YgT2JqZWN0LmtleXMoc3RvcmFnZVt0YXJnZXRJZF0gPz8ge30pKSB7CiAgICAgICAgaWYgKHN0b3JhZ2VbdGFyZ2V0SWRdW3Byb2Njb2RlXT8uZ2xvYmFsKSBnbG9iYWxCbG9ja3NDYWNoZVtwcm9jY29kZV0gPSB0YXJnZXQ7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldEJsb2NrUHJvdG90eXBlKHRhcmdldCwgcHJvY2NvZGUpIHsKICAgIGZvciAoY29uc3QgaWQgaW4gdGFyZ2V0LmJsb2Nrcy5fYmxvY2tzKSB7CiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldC5ibG9ja3MuX2Jsb2NrcywgaWQpKSBjb250aW51ZTsKICAgICAgY29uc3QgYmxvY2sgPSB0YXJnZXQuYmxvY2tzLl9ibG9ja3NbaWRdOwogICAgICBpZiAoYmxvY2sub3Bjb2RlID09PSAicHJvY2VkdXJlc19wcm90b3R5cGUiICYmIGJsb2NrLm11dGF0aW9uICYmIGJsb2NrLm11dGF0aW9uLnByb2Njb2RlID09PSBwcm9jY29kZSkgewogICAgICAgIHJldHVybiBibG9jazsKICAgICAgfQogICAgfQogICAgcmV0dXJuOwogIH0KCiAgZnVuY3Rpb24gY29tcGlsZVByb2NlZHVyZXMoeG1sTGlzdCwgd29ya3NwYWNlLCB1dGlscykgewogICAgaWYgKCFsaXN0TmVlZHNSZWZyZXNoKSByZXR1cm47CiAgICBjb25zdCByZXR1cm5hYmxlcyA9IGlzUE0gPyB7fSA6IHV0aWxzLmdldEFsbFByb2NlZHVyZVJldHVyblR5cGVzKHdvcmtzcGFjZSk7CiAgICByZWZyZXNoR2xvYmFsQmxvY2tzQ2FjaGUoKTsKCiAgICAvLyBnZXQgcHJpdmF0ZSBwcm9jZWR1cmVzCiAgICBwcm9jZWR1cmVzWE1MID0gIiI7CiAgICBjb25zdCBnbG9iYWxQcm9jcyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZ2xvYmFsQmxvY2tzQ2FjaGUpKTsKICAgIGNvbnN0IHRlbXBDYWNoZSA9IHt9OwogICAgb2xkTGlzdExlbmd0aCA9IHhtbExpc3QubGVuZ3RoOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRMaXN0TGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHJvYyA9IHhtbExpc3RbaV07CiAgICAgIGlmIChwcm9jLmdldEF0dHJpYnV0ZSgidHlwZSIpID09PSAicHJvY2VkdXJlc19jYWxsIikgewogICAgICAgIGNvbnN0IHByb2Njb2RlID0gcHJvYy5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgicHJvY2NvZGUiKTsKICAgICAgICBpZiAoZ2xvYmFsUHJvY3MuaGFzKHByb2Njb2RlKSkgdGVtcENhY2hlW3Byb2Njb2RlXSA9IHByb2Mub3V0ZXJIVE1MOwogICAgICAgIGVsc2UgcHJvY2VkdXJlc1hNTCArPSBwcm9jLm91dGVySFRNTDsKICAgICAgfQogICAgfQoKICAgIGlmIChnbG9iYWxQcm9jcy5zaXplID4gMCkgewogICAgICBsZXQgdGVtcExpc3QgPSBgPHNlcCBnYXA9IjEyIi8+PGxhYmVsIHRleHQ9Ikdsb2JhbCBCbG9ja3MiLz48c2VwIGdhcD0iNiIvPmA7CiAgICAgIGZvciAoY29uc3QgcHJvY2NvZGUgb2YgZ2xvYmFsUHJvY3MpIHsKICAgICAgICBjb25zdCB0YXJnZXQgPSBnbG9iYWxCbG9ja3NDYWNoZVtwcm9jY29kZV07CiAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdm0uZWRpdGluZ1RhcmdldD8uaWQpIHsKICAgICAgICAgIHRlbXBMaXN0ICs9IHRlbXBDYWNoZVtwcm9jY29kZV07CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHByb3RvID0gZ2V0QmxvY2tQcm90b3R5cGUodGFyZ2V0LCBwcm9jY29kZSk7CiAgICAgICAgaWYgKHByb3RvKSB7CiAgICAgICAgICBpZiAocHJvdG8ubXV0YXRpb24ucmV0dXJuID09PSB1bmRlZmluZWQpIHByb3RvLm11dGF0aW9uLnJldHVybiA9IHN0b3JlR2V0KHByb2Njb2RlKS5yZXR1cm47CiAgICAgICAgICBjb25zdCBuZXdNdXRhdGlvbiA9IHsuLi5wcm90by5tdXRhdGlvbn07CiAgICAgICAgICBuZXdNdXRhdGlvbi5nZW5lcmF0ZXNoYWRvd3MgPSB0cnVlOwogICAgICAgICAgdGVtcExpc3QgKz0gYDxibG9jayB0eXBlPSJwcm9jZWR1cmVzX2NhbGwiIGdhcD0iMTIiPiR7dGFyZ2V0LmJsb2Nrcy5tdXRhdGlvblRvWE1MKG5ld011dGF0aW9uKX08L2Jsb2NrPmA7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRlbXBMaXN0ICs9IGA8c2VwIGdhcD0iNiIvPjxsYWJlbCB0ZXh0PSJQcml2YXRlIEJsb2NrcyIvPjxzZXAgZ2FwPSI2Ii8+YDsKICAgICAgcHJvY2VkdXJlc1hNTCA9IHRlbXBMaXN0ICsgcHJvY2VkdXJlc1hNTDsKICAgIH0KICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIucmVmcmVzaEJsb2NrcygiU1BtYnBDU1QiKTsKICAgIGxpc3ROZWVkc1JlZnJlc2ggPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUV4dGVuc2lvbigpIHsKICAgIGV4dGVuc2lvblJlbW92YWJsZSA9IHRydWU7CiAgICBzaG91bGRTY3JvbGxUb01CUCA9IGZhbHNlOyAvLyBqdXN0IGluIGNhc2UKICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIHJ1bnRpbWUudGFyZ2V0cykgewogICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIE9iamVjdC52YWx1ZXModGFyZ2V0LmJsb2Nrcy5fYmxvY2tzKSkgewogICAgICAgIGlmIChibG9jay5vcGNvZGUuc3RhcnRzV2l0aCgiU1BtYnBDU1RfIikpIGRlbGV0ZUJsb2NrKHRhcmdldCwgYmxvY2suaWQpOwogICAgICB9CiAgICB9CiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdG9yYWdlKSBkZWxldGUgc3RvcmFnZVtrZXldOwogICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcFN0b3JlKSBkZWxldGUgdGVtcFN0b3JlW2tleV07CiAgICBydW50aW1lLlNQbWJwQ1NUT2xkU3RvcmFnZSA9IHN0b3JhZ2U7CiAgICB2bS5yZWZyZXNoV29ya3NwYWNlKCk7CiAgICBhbGVydCgiU2F2ZSBhbmQgcmVsb2FkIHRoZSBwcm9qZWN0IGZvciB0aGUgZXh0ZW5zaW9uIHRvIGZ1bGx5IGJlIHJlbW92ZWQuIik7CiAgfQoKICBmdW5jdGlvbiBkZWxldGVCbG9jayh0YXJnZXQsIGJsb2NrSWQpIHsKICAgIGlmICh0YXJnZXQgPT09IHZtLmVkaXRpbmdUYXJnZXQgJiYgU2NyYXRjaC5ndWkpIHsKICAgICAgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gewogICAgICAgIFNCLmdldE1haW5Xb3Jrc3BhY2UoKS5nZXRCbG9ja0J5SWQoYmxvY2tJZCk/LmRpc3Bvc2UodHJ1ZSwgZmFsc2UpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRhcmdldC5ibG9ja3MuZGVsZXRlQmxvY2soYmxvY2tJZCk7CiAgICB9CiAgfQoKICBjb25zdCBvbGRpbnN0YWxsVGFyZ2V0cyA9IHZtLmluc3RhbGxUYXJnZXRzOwogIHZtLmluc3RhbGxUYXJnZXRzID0gZnVuY3Rpb24oLi4uYXJncykgewogICAgLy8gUmVtb3ZlIHRoZSBkdW1teSBibG9jawogICAgaWYgKGFyZ3NbMF0gJiYgYXJnc1swXVswXSkgewogICAgICBjb25zdCB0ZW1wQmxvY2tJZCA9IE9iamVjdC52YWx1ZXMoYXJnc1swXVswXS5ibG9ja3MuX2Jsb2NrcykuZmluZChvID0+IG8ub3Bjb2RlID09PSBURU1QX0JMT0NLX09QQ09ERSk/LmlkOwogICAgICBpZiAodGVtcEJsb2NrSWQpIGRlbGV0ZSBhcmdzWzBdWzBdLmJsb2Nrcy5fYmxvY2tzW3RlbXBCbG9ja0lkXTsKICAgIH0KICAgIHJldHVybiBvbGRpbnN0YWxsVGFyZ2V0cy5hcHBseSh0aGlzLCBhcmdzKTsKICB9CgogIGNvbnN0IG9nRHVwU3ByaXRlID0gdm0uZHVwbGljYXRlU3ByaXRlOwogIHZtLmR1cGxpY2F0ZVNwcml0ZSA9IGZ1bmN0aW9uKHRhcmdldElkKSB7CiAgICByZXR1cm4gb2dEdXBTcHJpdGUuY2FsbCh0aGlzLCB0YXJnZXRJZCkudGhlbigoKSA9PiB7CiAgICAgIGNvbnN0IG5ld1RhcmdldCA9IHRoaXMucnVudGltZS50YXJnZXRzW3RoaXMucnVudGltZS50YXJnZXRzLmxlbmd0aCAtIDFdOwogICAgICBpZiAoIXN0b3JhZ2VbbmV3VGFyZ2V0LmlkXSkgewogICAgICAgIHN0b3JhZ2VbbmV3VGFyZ2V0LmlkXSA9IHN0cnVjdHVyZWRDbG9uZShzdG9yYWdlW3RhcmdldElkXSk7CiAgICAgICAgdGhpcy5lbWl0V29ya3NwYWNlVXBkYXRlKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld1RhcmdldDsKICAgIH0pOwogIH0KCiAgY29uc3Qgb2dFeHBvcnRCbG9ja3MgPSB2bS5leHBvcnRTdGFuZGFsb25lQmxvY2tzOwogIHZtLmV4cG9ydFN0YW5kYWxvbmVCbG9ja3MgPSBmdW5jdGlvbihibG9ja09iamVjdHMpIHsKICAgIGNvbnN0IGV4cG9ydGVkID0gb2dFeHBvcnRCbG9ja3MuY2FsbCh0aGlzLCBibG9ja09iamVjdHMpOwogICAgbGV0IHN0YWNrOwoKICAgIC8vIGFwcGVuZCBjdXN0b20gYmxvY2sgZGF0YSBmb3IgaW1wb3J0aW5nIGlmIHRoZXJlcyBhIGRlZmluaXRpb24KICAgIGlmIChleHBvcnRlZC5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCIpIHN0YWNrID0gZXhwb3J0ZWQuYmxvY2tzOwogICAgZWxzZSBzdGFjayA9IGV4cG9ydGVkOwogICAgZm9yIChjb25zdCBibG9jayBvZiBzdGFjaykgewogICAgICBpZiAoYmxvY2sub3Bjb2RlICE9PSAicHJvY2VkdXJlc19wcm90b3R5cGUiKSBjb250aW51ZTsKICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZUdldChibG9jay5tdXRhdGlvbi5wcm9jY29kZSk7CiAgICAgIGlmICghc3RvcmUpIGNvbnRpbnVlOwogICAgICBibG9jay5NeUJsb2Nrc1BsdXNEYXRhID0gc3RvcmU7CiAgICB9CiAgICByZXR1cm4gZXhwb3J0ZWQ7CiAgfQoKICBjb25zdCBvZ1NoYXJlQmxvY2tzID0gdm0uc2hhcmVCbG9ja3NUb1RhcmdldDsKICB2bS5zaGFyZUJsb2Nrc1RvVGFyZ2V0ID0gZnVuY3Rpb24oYmxvY2tzLCB0YXJnZXRJZCwgb3B0RnJvbVRhcmdldElkKSB7CiAgICAvLyBsb2FkIHBvdGVudGlhbCBjdXN0b20gYmxvY2sgZGF0YQogICAgbGV0IHJlYWxCbG9ja3M7CiAgICBpZiAoYmxvY2tzLmNvbnN0cnVjdG9yPy5uYW1lID09PSAiT2JqZWN0IikgcmVhbEJsb2NrcyA9IGJsb2Nrcy5ibG9ja3M7CiAgICBlbHNlIHJlYWxCbG9ja3MgPSBibG9ja3M7CgogICAgZm9yIChjb25zdCBibG9jayBvZiByZWFsQmxvY2tzKSB7CiAgICAgIGlmIChibG9jay5vcGNvZGUgIT09ICJwcm9jZWR1cmVzX3Byb3RvdHlwZSIpIGNvbnRpbnVlOwogICAgICBpZiAoYmxvY2suTXlCbG9ja3NQbHVzRGF0YSkgewogICAgICAgIGNvbnN0IHRhcmdldCA9IHJ1bnRpbWUuZ2V0VGFyZ2V0QnlJZCh0YXJnZXRJZCk7CiAgICAgICAgc3RvcmVTZXQoYmxvY2subXV0YXRpb24ucHJvY2NvZGUsIGJsb2NrLk15QmxvY2tzUGx1c0RhdGEsIHRhcmdldCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBvZ1NoYXJlQmxvY2tzLmNhbGwodGhpcywgYmxvY2tzLCB0YXJnZXRJZCwgb3B0RnJvbVRhcmdldElkKTsKICB9CgogIGNsYXNzIFNQbWJwQ1NUIHsKICAgIGNvbnN0cnVjdG9yKCkge30KICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJTUG1icENTVCIsCiAgICAgICAgbmFtZTogIk15IEJsb2NrcysiLAogICAgICAgIGNvbG9yMTogIiNGRjY2ODAiLAogICAgICAgIG1lbnVJY29uVVJJLAogICAgICAgIGJsb2NrczogWwogICAgICAgICAgewogICAgICAgICAgICBmdW5jOiAiY3JlYXRlQmxvY2siLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBleHRlbnNpb25SZW1vdmFibGUsCiAgICAgICAgICAgIHRleHQ6ICJNYWtlIGEgQmxvY2srIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGZ1bmM6ICJyZW1vdmVFeHQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBleHRlbnNpb25SZW1vdmFibGUsCiAgICAgICAgICAgIHRleHQ6ICJSZW1vdmUgVGhpcyBFeHRlbnNpb24iLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0UGFyYW0iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJzZXQgW1BBUkFNXSB0byBbVkFMVUVdIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJTUG1icENTVF9kZWZpbmVDb2xvcmVkIl0sCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZXh0ZW5zaW9uUmVtb3ZhYmxlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBQQVJBTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJwcm9jZWR1cmVQYXJhbU1lbnUiIH0sCiAgICAgICAgICAgICAgVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJ2YWx1ZSIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZXZhbFBhcmFtIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAicmVldmFsdWF0ZSBbUEFSQU1dIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJTUG1icENTVF9kZWZpbmVDb2xvcmVkIl0sCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZXh0ZW5zaW9uUmVtb3ZhYmxlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBQQVJBTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJwcm9jZWR1cmVQYXJhbU1lbnUiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImdldFBhcmFtIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogImdldCBbUEFSQU1dIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJTUG1icENTVF9kZWZpbmVDb2xvcmVkIl0sCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGV4dGVuc2lvblJlbW92YWJsZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgUEFSQU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJwYXJhbWV0ZXIgbmFtZSIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicnVuQnJhbmNoIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAic3RhcnQgYnJhbmNoIFtJTkRFWF0gW0lDT05dIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJTUG1icENTVF9kZWZpbmVDb2xvcmVkIl0sCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZXh0ZW5zaW9uUmVtb3ZhYmxlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJTkRFWDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICAgICAgICAgIElDT046IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuSU1BR0UsIGRhdGFVUkk6IGd1aVVSSXMoImJyYW5jaFN0YXJ0IikgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3RvcENhbGxlclNjcmlwdCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInN0b3AgY2FsbGVyIHNjcmlwdCIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiU1BtYnBDU1RfZGVmaW5lQ29sb3JlZCJdLAogICAgICAgICAgICBpc1Rlcm1pbmFsOiB0cnVlLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGV4dGVuc2lvblJlbW92YWJsZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5YTUwsCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZXh0ZW5zaW9uUmVtb3ZhYmxlLAogICAgICAgICAgICB4bWw6IGA8YmxvY2sgdHlwZT0icHJvY2VkdXJlc19yZXR1cm4iPjx2YWx1ZSBuYW1lPSIke2lzUE0gPyAicmV0dXJuIiA6ICJWQUxVRSJ9Ij48c2hhZG93IHR5cGU9InRleHQiPjxmaWVsZCBuYW1lPSJURVhUIj48L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+PC9ibG9jaz5gLAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlhNTCwgeG1sOiBwcm9jZWR1cmVzWE1MLCBoaWRlRnJvbVBhbGV0dGU6IGV4dGVuc2lvblJlbW92YWJsZSB9CiAgICAgICAgXSwKICAgICAgICBtZW51czogewogICAgICAgICAgcHJvY2VkdXJlUGFyYW1NZW51OiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogZmFsc2UsIGl0ZW1zOiAiZ2V0UHJvY2VkdXJlUGFyYW1NZW51IgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH07CiAgICB9CgogICAgY3JlYXRlQmxvY2soKSB7CiAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IFNjcmF0Y2hCbG9ja3MubWFpbldvcmtzcGFjZTsKICAgICAgU2NyYXRjaEJsb2Nrcy5Qcm9jZWR1cmVzLmNyZWF0ZVByb2NlZHVyZURlZkNhbGxiYWNrXyh3b3Jrc3BhY2UpOwogICAgfQoKICAgIHJlbW92ZUV4dCgpIHsKICAgICAgaWYgKGNvbmZpcm0oIlJlbW92ZSB0aGlzIGV4dGVuc2lvbj8gVGhpcyB3aWxsIHJlbW92ZSBhbGwgbmV3IGZlYXR1cmVzIGF0dHJpYnV0ZWQgdG8gTXkgQmxvY2tzKyIpKQogICAgICAgIHJlbW92ZUV4dGVuc2lvbigpOwogICAgfQoKICAgIGdldFByb2NlZHVyZVBhcmFtTWVudSgpIHsKICAgICAgaWYgKAogICAgICAgICFTY3JhdGNoQmxvY2tzIHx8ICFTY3JhdGNoQmxvY2tzLnNlbGVjdGVkIHx8IFNjcmF0Y2hCbG9ja3Muc2VsZWN0ZWQuaXNJbkZseW91dCB8fAogICAgICAgIChTY3JhdGNoQmxvY2tzLnNlbGVjdGVkLnR5cGUgIT09ICJTUG1icENTVF9zZXRQYXJhbSIgJiYgU2NyYXRjaEJsb2Nrcy5zZWxlY3RlZC50eXBlICE9PSAiU1BtYnBDU1RfZXZhbFBhcmFtIikKICAgICAgKSByZXR1cm4gWyJwYXJhbWV0ZXIgbmFtZSJdOwogICAgICBsZXQgdG9wQmxvY2sgPSBTY3JhdGNoQmxvY2tzLnNlbGVjdGVkLCBwYXJlbnQgPSBudWxsOwogICAgICB3aGlsZSAoKHBhcmVudCA9IHRvcEJsb2NrPy5nZXRQYXJlbnQoKSkpIHsgdG9wQmxvY2sgPSBwYXJlbnQgfQogICAgICBpZiAoIXRvcEJsb2NrIHx8ICF0b3BCbG9jay50eXBlLnN0YXJ0c1dpdGgoInByb2NlZHVyZXNfZGVmaW5pdGlvbiIpKSByZXR1cm4gWyIobm90IGluIGEgZGVmaW5lIHNjcmlwdCEpIl07CiAgICAgIGNvbnN0IGlubmVyQmxvY2sgPSB0b3BCbG9jay5nZXRJbnB1dCgiY3VzdG9tX2Jsb2NrIik/LmNvbm5lY3Rpb24/LnRhcmdldEJsb2NrKCk7CiAgICAgIGlmICghaW5uZXJCbG9jayB8fCAhaW5uZXJCbG9jay50eXBlID09ICJwcm9jZWR1cmVzX3Byb3RvdHlwZSIpIHJldHVybiBbIihpbnZhbGlkIGRlZmluZSBibG9jayEpIl07CgogICAgICBpZiAoaW5uZXJCbG9jay5kaXNwbGF5TmFtZXNfLmxlbmd0aCkgewogICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVHZXQoaW5uZXJCbG9jay5wcm9jQ29kZV8pOwogICAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLmlucHV0cykgcmV0dXJuIGlubmVyQmxvY2suZGlzcGxheU5hbWVzXzsKICAgICAgICBlbHNlIHsKICAgICAgICAgIGNvbnN0IG5hbWVzID0gc3RydWN0dXJlZENsb25lKGlubmVyQmxvY2suZGlzcGxheU5hbWVzXyk7CiAgICAgICAgICBjb25zdCBhbGxJbnB1dHMgPSBPYmplY3QuZW50cmllcyhzdG9yZS5pbnB1dHMpOwogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxJbnB1dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGFsbElucHV0c1tpXVsxXS50eXBlID09PSAiYnJjIikgewogICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaW5uZXJCbG9jay5hcmd1bWVudElkc18uaW5kZXhPZihhbGxJbnB1dHNbaV1bMF0pOwogICAgICAgICAgICAgIG5hbWVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBuYW1lcy5sZW5ndGggPyBuYW1lcyA6IFsiIl07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBbIiJdOwogICAgfQoKICAgIHNldFBhcmFtKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgdGhyZWFkID0gdXRpbC50aHJlYWQ7CiAgICAgIGNvbnN0IHBhcmFtID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuUEFSQU0pOwogICAgICBmb3IgKGxldCBpID0gdGhyZWFkLnN0YWNrRnJhbWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgY29uc3QgZnJhbWUgPSB0aHJlYWQuc3RhY2tGcmFtZXNbaV07CiAgICAgICAgaWYgKGZyYW1lLnBhcmFtcyA9PT0gbnVsbCkgY29udGludWU7CiAgICAgICAgZnJhbWUucGFyYW1zW3BhcmFtXSA9IGFyZ3MuVkFMVUU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIFBhcmFtZXRlcnMgbm90IHByZXNlbnQuIFByb2JhYmx5IGEgbG9uZSBzY3JpcHQgb3IgYSBzdGFjay1jbGlja2VkIGRlZmluZSBibG9jay4KICAgICAgLy8gSW4gdGhpcyBjYXNlLCBhZGQgdGhlIHBhcmFtcyB0byB0aGUgYm90dG9tIG9mIHRoZSBzdGFjawogICAgICAvLyAoYW5kIHB1c2ggdGhlIGN1cnJlbnQgYmxvY2sgdG8gaXQgc28gdGhleSBhcmVuJ3QgcmVzZXQgZm9yIHNvbWUgcmVhc29uKQogICAgICB0aHJlYWQuc3RhY2tGcmFtZXNbMF0ucGFyYW1zID0geyBbcGFyYW1dOiBhcmdzLlZBTFVFIH07CiAgICAgIHRocmVhZC5wdXNoU3RhY2sodGhyZWFkLnBlZWtTdGFjaygpKTsKICAgICAgLy8gTWFrZSB0aGUgYm90dG9tIG9mIHRoZSBzdGFjayBwb2ludCB0byBhIG5vbmV4aXN0ZW50IGJsb2NrIHNvIHRoZSBzY3JpcHQganVzdCBlbmRzCiAgICAgIC8vIGluc3RlYWQgb2YgcnVubmluZyBwYXJ0IG9mIGl0IGFnYWluCiAgICAgIHRocmVhZC5zdGFja1swXSA9ICIiOwogICAgfQoKICAgIGV2YWxQYXJhbShhcmdzLCB1dGlsKSB7CiAgICAgIGlmICghVGhyZWFkIHx8ICFleGVjdXRlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiTXkgQmxvY2tzKyBjb3VsZCBub3QgYWNjZXNzIEV4cG9ydHMhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB0aHJlYWQgPSB1dGlsLnRocmVhZDsKICAgICAgaWYgKCF0aHJlYWRbdGFyZ2V0UHJvY0RhdGFdKSByZXR1cm47CgogICAgICBjb25zdCB7IHBhcmFtcywgYmxvY2ssIGZyYW1lIH0gPSB0aHJlYWRbdGFyZ2V0UHJvY0RhdGFdOwogICAgICBjb25zdCBwYXJhbSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLlBBUkFNKTsKICAgICAgY29uc3QgaW5kZXggPSBwYXJhbXNbMF0uaW5kZXhPZihwYXJhbSk7CiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybjsKCiAgICAgIGNvbnN0IGJsb2NrVmFsdWUgPSBibG9jay5pbnB1dHNbcGFyYW1zWzFdW2luZGV4XV07CiAgICAgIGlmICghYmxvY2tWYWx1ZSkgcmV0dXJuOwoKICAgICAgY29uc3QgdGVtcFRocmVhZCA9IG5ldyBUaHJlYWQ7CiAgICAgIHRlbXBUaHJlYWQudG9wQmxvY2sgPSBibG9ja1ZhbHVlLmJsb2NrOwogICAgICB0ZW1wVGhyZWFkLnB1c2hTdGFjayhibG9ja1ZhbHVlLmJsb2NrKQogICAgICB0ZW1wVGhyZWFkLmJsb2NrQ29udGFpbmVyID0gdGhyZWFkLmJsb2NrQ29udGFpbmVyOwogICAgICB0ZW1wVGhyZWFkLnRhcmdldCA9IHRocmVhZC50YXJnZXQ7CiAgICAgIHRlbXBUaHJlYWQucHVzaFJlcG9ydGVkVmFsdWUgPSAodmFsdWUpID0+IHsgZnJhbWUucGFyYW1zW3BhcmFtXSA9IHZhbHVlIH07CiAgICAgIGV4ZWN1dGUocnVudGltZS5zZXF1ZW5jZXIsIHRlbXBUaHJlYWQpOwogICAgfQoKICAgIGdldFBhcmFtKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgcGFyYW0gPSB1dGlsLnRocmVhZC5nZXRQYXJhbShTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5QQVJBTSkpOwogICAgICByZXR1cm4gcGFyYW0gPz8gIiI7CiAgICB9CgogICAgc3RvcENhbGxlclNjcmlwdChfLCB1dGlsKSB7CiAgICAgIC8vIHN0b3BzIHRocmVhZHMgZW50aXJlbHksIGluY2x1ZGluZyBjdXN0b20gYmxvY2tzIGNvbnRleHRzCiAgICAgIC8vIG1vcmUgcG93ZXJmdWwgdGhhbiAndXRpbC5zdG9wVGhpc1NjcmlwdCgpJwogICAgICB1dGlsLnRocmVhZC5zdGF0dXMgPSA0OwogICAgfQoKICAgIHJ1bkJyYW5jaChhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IHRocmVhZCA9IHV0aWwudGhyZWFkOwogICAgICBpZiAoIXV0aWwudGhyZWFkW3RhcmdldFByb2NEYXRhXSkgcmV0dXJuOwoKICAgICAgY29uc3QgcHJvY0Jsb2NrID0gdXRpbC50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdLmJsb2NrOwogICAgICBjb25zdCBzdG9yZSA9IHN0b3JlR2V0KHByb2NCbG9jay5tdXRhdGlvbi5wcm9jY29kZSwgdGhyZWFkLnRhcmdldCk7CiAgICAgIGlmICghc3RvcmUgfHwgIXN0b3JlLmlucHV0cykgcmV0dXJuOwoKICAgICAgY29uc3QgYWxsSW5wdXRzID0gdXRpbC50aHJlYWRbdGFyZ2V0UHJvY0RhdGFdLnBhcmFtc1sxXTsKICAgICAgY29uc3QgYnJhbmNoZXMgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxJbnB1dHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc3RvcmUuaW5wdXRzW2FsbElucHV0c1tpXV0/LnR5cGUgPT09ICJicmMiKSBicmFuY2hlcy5wdXNoKGFsbElucHV0c1tpXSk7CiAgICAgIH0KCiAgICAgIGlmIChicmFuY2hlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3QgaW5kZXggPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYXJncy5JTkRFWCkgLSAxOwogICAgICAgIGNvbnN0IHJlYWxQcm9jQmxvY2sgPSB0aHJlYWQuYmxvY2tDb250YWluZXIuZ2V0QmxvY2socHJvY0Jsb2NrLmlkKTsKICAgICAgICBjb25zdCBicmFuY2ggPSByZWFsUHJvY0Jsb2NrLmlucHV0c1ticmFuY2hlc1tpbmRleF1dPy5ibG9jazsKICAgICAgICBpZiAoYnJhbmNoKSB1dGlsLnRocmVhZC5wdXNoU3RhY2soYnJhbmNoKTsKICAgICAgfQogICAgfQoKICAgIC8vIFN0b3JhZ2Ugc2V0L2dldAogICAgc2VyaWFsaXplKCkgewogICAgICBpZiAoaXNQTSkgewogICAgICAgIHN1c3BlbmRSZW1vdmFsID0gZmFsc2U7CiAgICAgICAgcmVtb3ZlVW51c2VkUHJvY3MoKTsKICAgICAgICByZW1vdmVVbnVzZWRJbWFnZXMoKTsKICAgICAgICByZXR1cm4geyBTUG1icENTVDogeyAuLi5zdG9yYWdlLCBpbWdTdG9yYWdlIH0gfTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0YXJnZXQgSUQncyBjaGFuZ2Ugd2hlbiBzYXZpbmcgOigKICAgICAgICBydW50aW1lLmV4dGVuc2lvblN0b3JhZ2VbIlNQbWJwQ1NUIl0gPSB7IGxvYWRlZDogdHJ1ZSwgaW1nU3RvcmFnZSB9OwogICAgICAgIGZvciAoY29uc3QgW2lkLCBwcm9jc10gb2YgT2JqZWN0LmVudHJpZXMoc3RvcmFnZSkpIHsKICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHJ1bnRpbWUuZ2V0VGFyZ2V0QnlJZChpZCk7CiAgICAgICAgICBpZiAoIXRhcmdldCkgY29udGludWU7CiAgICAgICAgICB0YXJnZXQuZXh0ZW5zaW9uU3RvcmFnZVsiU1BtYnBDU1QiXSA9IHsgLi4ucHJvY3MgfTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGRlc2VyaWFsaXplKGRhdGEpIHsKICAgICAgZGVzZXJpYWxpemVTdG9yYWdlKGRhdGEpOwogICAgfQogIH0KCiAgZXh0ID0gbmV3IFNQbWJwQ1NUKCk7CiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKGV4dCk7Cn0pKFNjcmF0Y2gpOwo=","SPtempVars":"data:text/javascript;base64,Ly8gTmFtZTogVGVtcG9yYXJ5IFZhcmlhYmxlcwovLyBJRDogU1B0ZW1wVmFycwovLyBEZXNjcmlwdGlvbjogQ3JlYXRlIHRlbXBvcmFyeSB2YXJpYWJsZXMgZm9yIHNwcml0ZXMsIHRocmVhZHMsIGFuZCB0aGUgcHJvamVjdC4KLy8gQnk6IFNoYXJrUG9vbAovLyBMaWNlbmNlOiBNSVQKCi8vIFZlcnNpb24gVi4xLjAuMDEKCihmdW5jdGlvbiAoU2NyYXRjaCkgewogICJ1c2Ugc3RyaWN0IjsKICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJUZW1wb3JhcnkgVmFyaWFibGVzIG11c3QgcnVuIHVuc2FuZGJveGVkISIpOwoKICBjb25zdCBtZW51SWNvblVSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhkcFpIUm9QU0l4TWpnaUlHaGxhV2RvZEQwaU1USTRJaUIyYVdWM1FtOTRQU0l3TERBc01USTRMREV5T0NJK1BHY2dkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFM05pd3RNVEUyS1NJK1BHY2djM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWo0OGNHRjBhQ0JrUFNKTk1UYzJMREU0TUdNd0xDMHpOUzR6TkRZeU1pQXlPQzQyTlRNM09Dd3ROalFnTmpRc0xUWTBZek0xTGpNME5qSXlMREFnTmpRc01qZ3VOalV6TnpnZ05qUXNOalJqTUN3ek5TNHpORFl5TWlBdE1qZ3VOalV6Tnpnc05qUWdMVFkwTERZMFl5MHpOUzR6TkRZeU1pd3dJQzAyTkN3dE1qZ3VOalV6TnpnZ0xUWTBMQzAyTkhvaUlHWnBiR3c5SWlOa1lqWmxNREFpSUhOMGNtOXJaVDBpYm05dVpTSWdjM1J5YjJ0bExYZHBaSFJvUFNKT1lVNGlJSE4wY205clpTMXNhVzVsWTJGd1BTSmlkWFIwSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW0xcGRHVnlJaTgrUEhCaGRHZ2daRDBpVFRFNE5DNHlNemd4TERFNE1HTXdMQzB6TUM0M09UWTBOU0F5TkM0NU5qVTBOaXd0TlRVdU56WXhPU0ExTlM0M05qRTVMQzAxTlM0M05qRTVZek13TGpjNU5qUTFMREFnTlRVdU56WXhPU3d5TkM0NU5qVTBOaUExTlM0M05qRTVMRFUxTGpjMk1UbGpNQ3d6TUM0M09UWTBOU0F0TWpRdU9UWTFORFlzTlRVdU56WXhPU0F0TlRVdU56WXhPU3cxTlM0M05qRTVZeTB6TUM0M09UWTBOU3d3SUMwMU5TNDNOakU1TEMweU5DNDVOalUwTmlBdE5UVXVOell4T1N3dE5UVXVOell4T1hvaUlHWnBiR3c5SWlObVpqaGpNV0VpSUhOMGNtOXJaVDBpYm05dVpTSWdjM1J5YjJ0bExYZHBaSFJvUFNJd0lpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSXZQanh3WVhSb0lHUTlJazB5TURFdU5qUTNOekVzTVRnekxqWXhNamN5WXkwd0xqQTJOek0zTEMweE1pNDBNekEzTlNBMkxqTXdORE14TEMweU5DNHdNVEEyT0NBeE5pNDROREE1TEMwek1DNDJNRFkzTld3dE1DNHdNVGcxTnl3dE15NDBOREV4TW1NdE1DNHdNVEUwTlN3dE1pNHpNekUyT1NBd0xqa3dOREV4TEMwMExqVTNNalFnTWk0MU5EVXhNeXd0Tmk0eU1qZzVNbU14TGpZME1UQXlMQzB4TGpZMU5qVXhJRE11T0RjekxDMHlMalU1TXpBMklEWXVNakEwTnpFc0xUSXVOakF6TlRKc01qQXVNamsyTWpJc0xUQXVNRGt5TldNeUxqTXpNVFk1TEMwd0xqQXhNVFExSURRdU5UY3lOQ3d3TGprd05EQTVJRFl1TWpJNE9USXNNaTQxTkRVeFl6RXVOalUyTlRFc01TNDJOREV3TWlBeUxqVTVNekEyTERNdU9EY3pNRElnTWk0Mk1ETTFNaXcyTGpJd05EY3piREF1TURFMU1UTXNNeTQwTkRFek4yTXlMamd6TlRZMkxERXVOelF4TWpjZ05TNHpOVFV4TXl3ekxqZ3lNemd5SURjdU5UTXdPVGtzTmk0eE5qWTViREl1TmpFMU56VXNMVEV1TmpjNU1USmpNaTR6TkRFME9Dd3RNUzQxTURNd05pQTFMalExT0RFeExDMHdMamd5TXpNNUlEWXVPVFl4TVRjc01TNDFNVGd4YkRRdU1EZ3lNeXcyTGpNMU9UUTFZekV1TlRBek1EWXNNaTR6TkRFME9DQXdMamd5TXpNNUxEVXVORFU0TVRFZ0xURXVOVEU0TVN3MkxqazJNVEUzYkMwekxqWTNORGMzTERJdU16VTRPVE5qTVM0M09UazFNU3czTGpBd09USXhJREV1TkRrMU9EUXNNVFF1TlRreklDMHhMakkwTnpNMExESXhMamMyTURZMVl5MDJMakUzT0RneExERTJMakUwTkRVNElDMHlNaTQ1T0RFek9Td3lOUzQxT1RjM01TQXRNemt1T1RnM05UY3NNakl1TkRrM01EZGpMVEUzTGpBd05qRTRMQzB6TGpFd01EWTBJQzB5T1M0ek9URTBNaXd0TVRjdU9EYzFORFVnTFRJNUxqUTNORGswTEMwek5TNHhOakU0TVhvaUlHWnBiR3c5SWlObVptWm1abVlpSUhOMGNtOXJaVDBpYm05dVpTSWdjM1J5YjJ0bExYZHBaSFJvUFNJeElpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSXZQanh3WVhSb0lHUTlJazB5TWpNdU1qUTVNellzTVRrM0xqTTJOemsxYURBdU16QTJZekl1TWpJNU9EWXNNQ0EwTGpNME9ETXhMQzB3TGprM09UUXpJRFV1TnprNU5EZ3NMVEl1TmpneE0yd3hPQzR6TkRJMU5pd3RNakV1TlRFeE9EWmpNUzQwTlRFd05Td3RNUzQzTURFNE55QXpMalUyT1RZeUxDMHlMalk0TVRNNUlEVXVOems1TkRRc0xUSXVOamd4TXpsb01DNHpNRFUzT0UweU5Ea3VPVGd6T0Rnc01UazNMak0yTnprMWFDMDBMamMxTnpVMVl5MHhMamN3TlRJNUxEQWdMVE11TWpBek56a3NMVEV1TVRNMk5ERWdMVE11TmpjeU16VXNMVEl1TnpnME16WnNMVFl1TURVMU16Z3NMVEl4TGpNd05UWTJZeTB3TGpRMk9EVTJMQzB4TGpZME9ESWdMVEV1T1RZM01EUXNMVEl1TnpnME5URWdMVE11TmpjeU16VXNMVEl1TnpnME5URm9MVFF1TnpVM05EWWlJR1pwYkd3OUltNXZibVVpSUhOMGNtOXJaVDBpSTJabU9HTXhZU0lnYzNSeWIydGxMWGRwWkhSb1BTSTRMalVpSUhOMGNtOXJaUzFzYVc1bFkyRndQU0p5YjNWdVpDSWdjM1J5YjJ0bExXeHBibVZxYjJsdVBTSnliM1Z1WkNJdlBqd3ZaejQ4TDJjK1BDOXpkbWMrIjsKCiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwoKICBsZXQgcHJvamVjdFZhcnM7CgogIGZ1bmN0aW9uIGluaXRUZW1wVmFyaWFibGVzKCkgewogICAgcHJvamVjdFZhcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgY29uc3QgdGFyZ2V0cyA9IHJ1bnRpbWUudGFyZ2V0czsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW2ldOwogICAgICB0YXJnZXQuU1B0ZW1wVmFycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICB9CiAgfQoKICBydW50aW1lLm9uKCJQUk9KRUNUX1NUQVJUIiwgaW5pdFRlbXBWYXJpYWJsZXMpOwogIHJ1bnRpbWUub24oIlBST0pFQ1RfU1RPUF9BTEwiLCBpbml0VGVtcFZhcmlhYmxlcyk7CiAgaW5pdFRlbXBWYXJpYWJsZXMoKTsKCiAgY2xhc3MgU1B0ZW1wVmFycyB7CiAgICBnZXRJbmZvKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiU1B0ZW1wVmFycyIsCiAgICAgICAgbmFtZTogIlRlbXBvcmFyeSBWYXJpYWJsZXMiLAogICAgICAgIGNvbG9yMTogIiNGRjhDMUEiLAogICAgICAgIGNvbG9yMjogIiNmMDc4MDAiLAogICAgICAgIGNvbG9yMzogIiNEQjZFMDAiLAogICAgICAgIG1lbnVJY29uVVJJLAogICAgICAgIGJsb2NrczogWwogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRWYXIiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJzZXQgW1RZUEVdIHZhciBbTkFNRV0gdG8gW1ZBTFVFXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfSwKICAgICAgICAgICAgICBWQUxVRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIjAiLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiY2hhbmdlVmFyIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAiY2hhbmdlIFtUWVBFXSB2YXIgW05BTUVdIGJ5IFtWQUxVRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlZBUl9UWVBFUyIgfSwKICAgICAgICAgICAgICBOQU1FOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAibXkgdmFyaWFibGUiIH0sCiAgICAgICAgICAgICAgVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICIxIiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN3YXBWYXIiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJzd2FwIFtUWVBFMV0gdmFyIFtOQU1FMV0gd2l0aCBbVFlQRTJdIHZhciBbTkFNRTJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUUxOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAibXkgdmFyaWFibGUiIH0sCiAgICAgICAgICAgICAgVFlQRTI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUUyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAibmV3IHZhcmlhYmxlIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZvclZhciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTE9PUCwKICAgICAgICAgICAgdGV4dDogWyJmb3IgZWFjaCBbVFlQRV0gdmFyIFtOQU1FXSBmcm9tIFtTVEFSVF0gdG8gW0VORF0iLCAiaW5jcmVtZW50IGJ5IFtJTkNfVkFMVUVdIl0sCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfSwKICAgICAgICAgICAgICBTVEFSVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICAgICAgICAgIEVORDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMTAgfSwKICAgICAgICAgICAgICBJTkNfVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2NvcGVWYXIiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTkRJVElPTkFMLAogICAgICAgICAgICB0ZXh0OiAicnVuIHRocmVhZCB2YXJzIGluIHNjb3BlIgogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ2YXJFeGlzdHMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJbVFlQRV0gdmFyIFtOQU1FXSBleGlzdHM/IiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJWQVJfVFlQRVMiIH0sCiAgICAgICAgICAgICAgTkFNRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIm15IHZhcmlhYmxlIiB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0VmFyIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogImdldCBbVFlQRV0gdmFyIFtOQU1FXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYWxsVmFycyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJhbGwgW1RZUEVdIHZhcmlhYmxlcyIsCiAgICAgICAgICAgIGRpc2FibGVNb25pdG9yOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlZBUl9UWVBFUyIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlQWxsVmFyIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAiZGVsZXRlIGFsbCBbVFlQRV0gdmFyaWFibGVzIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJWQVJfVFlQRVMiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZVZhciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogImRlbGV0ZSBbVFlQRV0gdmFyIFtOQU1FXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVkFSX1RZUEVTIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgbWVudXM6IHsKICAgICAgICAgIFZBUl9UWVBFUzogWyJnbG9iYWwiLCAic3ByaXRlIiwgInRocmVhZCJdCiAgICAgICAgfSwKICAgICAgfTsKICAgIH0KCiAgICAvLyBIZWxwZXIgRnVuY3MKICAgIGluaXRTcHJpdGUodGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQuU1B0ZW1wVmFycyA9PT0gdW5kZWZpbmVkKSB0YXJnZXQuU1B0ZW1wVmFycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIHJldHVybiB0YXJnZXQuU1B0ZW1wVmFyczsKICAgIH0KCiAgICBpbml0VGhyZWFkKHRocmVhZCkgewogICAgICBpZiAodGhyZWFkLlNQdGVtcFZhcnMgPT09IHVuZGVmaW5lZCkgdGhyZWFkLlNQdGVtcFZhcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICByZXR1cm4gdGhyZWFkLlNQdGVtcFZhcnM7CiAgICB9CgogICAgY2FzdFR5cGUodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgcmV0dXJuICIiOwogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAib2JqZWN0IikgcmV0dXJuIHZhbHVlOwogICAgICBpZiAoaXNOYU4oTnVtYmVyKHZhbHVlKSkpIHJldHVybiB2YWx1ZTsKICAgICAgcmV0dXJuIFNjcmF0Y2guQ2FzdC50b051bWJlcih2YWx1ZSk7CiAgICB9CgogICAgLy8gQmxvY2sgRnVuY3MKICAgIHNldFZhcihhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IG5hbWUgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5OQU1FKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImdsb2JhbCIpIHByb2plY3RWYXJzW25hbWVdID0gYXJncy5WQUxVRTsKICAgICAgZWxzZSBpZiAoYXJncy5UWVBFID09PSAic3ByaXRlIikgdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KVtuYW1lXSA9IGFyZ3MuVkFMVUU7CiAgICAgIGVsc2UgdGhpcy5pbml0VGhyZWFkKHV0aWwudGhyZWFkKVtuYW1lXSA9IGFyZ3MuVkFMVUU7CiAgICB9CgogICAgY2hhbmdlVmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY2FzdFR5cGUoYXJncy5WQUxVRSk7CiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHZhbHVlPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIlN0cmluZyIgPyAiIiA6IDA7CiAgICAgIGlmIChhcmdzLlRZUEUgPT09ICJnbG9iYWwiKSB7CiAgICAgICAgcHJvamVjdFZhcnNbbmFtZV0gPSB0aGlzLmNhc3RUeXBlKHByb2plY3RWYXJzW25hbWVdID8/IGRlZmF1bHRWYWx1ZSkgKyB2YWx1ZTsKICAgICAgfSBlbHNlIGlmIChhcmdzLlRZUEUgPT09ICJzcHJpdGUiKSB7CiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KTsKICAgICAgICBvYmpbbmFtZV0gPSB0aGlzLmNhc3RUeXBlKG9ialtuYW1lXSA/PyBkZWZhdWx0VmFsdWUpICsgdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5pbml0VGhyZWFkKHV0aWwudGhyZWFkKTsKICAgICAgICBvYmpbbmFtZV0gPSB0aGlzLmNhc3RUeXBlKG9ialtuYW1lXSA/PyBkZWZhdWx0VmFsdWUpICsgdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICBzd2FwVmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZTEgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5OQU1FMSk7CiAgICAgIGNvbnN0IG5hbWUyID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuTkFNRTIpOwoKICAgICAgY29uc3Qgb2JqMSA9IGFyZ3MuVFlQRTEgPT09ICJnbG9iYWwiID8gcHJvamVjdFZhcnMgOgogICAgICAgIGFyZ3MuVFlQRTEgPT09ICJzcHJpdGUiID8gdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KSA6IHRoaXMuaW5pdFRocmVhZCh1dGlsLnRocmVhZCk7CiAgICAgIGNvbnN0IG9iajIgPSBhcmdzLlRZUEUyID09PSAiZ2xvYmFsIiA/IHByb2plY3RWYXJzIDoKICAgICAgICBhcmdzLlRZUEUyID09PSAic3ByaXRlIiA/IHRoaXMuaW5pdFNwcml0ZSh1dGlsLnRhcmdldCkgOiB0aGlzLmluaXRUaHJlYWQodXRpbC50aHJlYWQpOwoKICAgICAgY29uc3QgdGVtcFZhbCA9IG9iajFbbmFtZTFdOwogICAgICBvYmoxW25hbWUxXSA9IG9iajJbbmFtZTJdOwogICAgICBvYmoyW25hbWUyXSA9IHRlbXBWYWw7CiAgICB9CgogICAgZm9yVmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5pbmRleCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmluY3JlbWVudFZhbCA9IE1hdGgucm91bmQoU2NyYXRjaC5DYXN0LnRvTnVtYmVyKGFyZ3MuSU5DX1ZBTFVFKSk7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmluZGV4ID0gTWF0aC5yb3VuZChTY3JhdGNoLkNhc3QudG9OdW1iZXIoYXJncy5TVEFSVCkpOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5lbmRJbmRleCA9IE1hdGgucm91bmQoU2NyYXRjaC5DYXN0LnRvTnVtYmVyKGFyZ3MuRU5EKSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0VmFyKHsgLi4uYXJncywgVkFMVUU6IHV0aWwuc3RhY2tGcmFtZS5pbmRleCB9LCB1dGlsKTsKICAgICAgdXRpbC5zdGFydEJyYW5jaCgxLCB1dGlsLnN0YWNrRnJhbWUuaW5kZXggPCB1dGlsLnN0YWNrRnJhbWUuZW5kSW5kZXgpOwogICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXggKz0gdXRpbC5zdGFja0ZyYW1lLmluY3JlbWVudFZhbDsKICAgIH0KCiAgICBzY29wZVZhcihfLCB1dGlsKSB7CiAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUuaW5pdGlhbGl6ZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLm9sZFZhcnMgPSBzdHJ1Y3R1cmVkQ2xvbmUodGhpcy5pbml0VGhyZWFkKHV0aWwudGhyZWFkKSk7CiAgICAgICAgdXRpbC5zdGFydEJyYW5jaCgxLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyByZW1vdmUgdmFyaWFibGVzIGZyb20gc2NvcGUKICAgICAgICBjb25zdCBvbGRWYXJzID0gdXRpbC5zdGFja0ZyYW1lLm9sZFZhcnM7CiAgICAgICAgY29uc3QgY3VyVmFycyA9IHRoaXMuaW5pdFRocmVhZCh1dGlsLnRocmVhZCk7CiAgICAgICAgT2JqZWN0LmtleXMoY3VyVmFycykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgICBpZiAob2xkVmFyc1trZXldID09PSB1bmRlZmluZWQpIGRlbGV0ZSBjdXJWYXJzW2tleV07CiAgICAgICAgfSkKICAgICAgfQogICAgfQoKICAgIHZhckV4aXN0cyhhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IG5hbWUgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5OQU1FKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImdsb2JhbCIpIHJldHVybiBwcm9qZWN0VmFyc1tuYW1lXSAhPT0gdW5kZWZpbmVkOwogICAgICBlbHNlIGlmIChhcmdzLlRZUEUgPT09ICJzcHJpdGUiKSByZXR1cm4gdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KVtuYW1lXSAhPT0gdW5kZWZpbmVkOwogICAgICBlbHNlIHJldHVybiB0aGlzLmluaXRUaHJlYWQodXRpbC50aHJlYWQpW25hbWVdICE9PSB1bmRlZmluZWQ7CiAgICB9CgogICAgZ2V0VmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICBpZiAoYXJncy5UWVBFID09PSAiZ2xvYmFsIikgcmV0dXJuIHByb2plY3RWYXJzW25hbWVdID8/ICIiOwogICAgICBlbHNlIGlmIChhcmdzLlRZUEUgPT09ICJzcHJpdGUiKSByZXR1cm4gdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KVtuYW1lXSA/PyAiIjsKICAgICAgZWxzZSByZXR1cm4gdGhpcy5pbml0VGhyZWFkKHV0aWwudGhyZWFkKVtuYW1lXSA/PyAiIjsKICAgIH0KCiAgICBhbGxWYXJzKGFyZ3MsIHV0aWwpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKAogICAgICAgIGFyZ3MuVFlQRSA9PT0gImdsb2JhbCIgPyBwcm9qZWN0VmFycyA6CiAgICAgICAgYXJncy5UWVBFID09PSAic3ByaXRlIiA/IHRoaXMuaW5pdFNwcml0ZSh1dGlsLnRhcmdldCkgOgogICAgICAgIHRoaXMuaW5pdFRocmVhZCh1dGlsLnRocmVhZCkKICAgICAgKSk7CiAgICB9CgogICAgZGVsZXRlQWxsVmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImdsb2JhbCIpIHsKICAgICAgICBwcm9qZWN0VmFycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBsZXQgb2JqID0gYXJncy5UWVBFID09PSAic3ByaXRlIiA/IHRoaXMuaW5pdFNwcml0ZSh1dGlsLnRhcmdldCkgOiB0aGlzLmluaXRUaHJlYWQodXRpbC50aHJlYWQpOwogICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goa2V5ID0+IGRlbGV0ZSBvYmpba2V5XSk7CiAgICB9CgogICAgZGVsZXRlVmFyKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICBpZiAoYXJncy5UWVBFID09PSAiZ2xvYmFsIikgZGVsZXRlIHByb2plY3RWYXJzW25hbWVdOwogICAgICBlbHNlIGlmIChhcmdzLlRZUEUgPT09ICJzcHJpdGUiKSBkZWxldGUgdGhpcy5pbml0U3ByaXRlKHV0aWwudGFyZ2V0KVtuYW1lXTsKICAgICAgZWxzZSBkZWxldGUgdGhpcy5pbml0VGhyZWFkKHV0aWwudGhyZWFkKVtuYW1lXTsKICAgIH0KICB9CgogIFNjcmF0Y2guZXh0ZW5zaW9ucy5yZWdpc3RlcihuZXcgU1B0ZW1wVmFycygpKTsKfSkoU2NyYXRjaCk7Cg==","shovellzcompress":"https://extensions.turbowarp.org/TheShovel/LZ-String.js","SPjson":"data:text/javascript;base64,Ly8gTmFtZTogSlNPTiBhbmQgQXJyYXkKLy8gSUQ6IFNQanNvbgovLyBEZXNjcmlwdGlvbjogU3VwZXIgRmFzdCBKU09OIGFuZCBBcnJheSBFeHRlbnNpb24KLy8gQnk6IFNoYXJrUG9vbAovLyBMaWNlbmNlOiBNSVQKCi8vIFZlcnNpb24gVi4xLjEuMQoKKGZ1bmN0aW9uIChTY3JhdGNoKSB7CiAgInVzZSBzdHJpY3QiOwogIGlmICghU2NyYXRjaC5leHRlbnNpb25zLnVuc2FuZGJveGVkKSB0aHJvdyBuZXcgRXJyb3IoIkpTT04gYW5kIEFycmF5IG11c3QgcnVuIHVuc2FuZGJveGVkISIpOwoKICBjb25zdCBtZW51SWNvblVSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSTRNeTR5TWpjaUlHaGxhV2RvZEQwaU9ETXVNakkzSWlCMmFXVjNRbTk0UFNJd0lEQWdPRE11TWpJM0lEZ3pMakl5TnlJK1BIQmhkR2dnWkQwaVRUQWdOREV1TmpFMFF6QWdNVGd1TmpNeElERTRMall6TVNBd0lEUXhMall4TkNBd2N6UXhMall4TkNBeE9DNDJNekVnTkRFdU5qRTBJRFF4TGpZeE5DMHhPQzQyTXpFZ05ERXVOakUwTFRReExqWXhOQ0EwTVM0Mk1UUlRNQ0EyTkM0MU9UY2dNQ0EwTVM0Mk1UUWlJR1pwYkd3OUlpTTFNVFl4WVRZaUx6NDhjR0YwYUNCa1BTSk5OQzR6TkRRZ05ERXVOakUwWXpBdE1qQXVOVGNnTVRZdU5qZzNMVE0zTGpJM0lETTNMakkzTFRNM0xqSTNjek0zTGpJM0lERTJMalk0TnlBek55NHlOeUF6Tnk0eU55MHhOUzQzT0RNZ016Y3VNamN0TXpjdU1qY2dNemN1TWpjdE16Y3VNamN0TVRZdU55MHpOeTR5Tnkwek55NHlOeUlnWm1sc2JEMGlJemMwT0dKbFpTSXZQanh3WVhSb0lHUTlJazB6Tmk0M09UZ2dOalF1TWprMFlUSXVNVGsxSURJdU1UazFJREFnTUNBeExUSXVNVGsxSURJdU1UazBTREk0TGpjMVlUVXVNVEkzSURVdU1USTNJREFnTUNBeExUVXVNVEl0TlM0eE1sWTFNQzR4TmpOc0xUWXVORGszTFRZdU9UazNZVEl1TVRrMUlESXVNVGsxSURBZ01DQXhJREF0TXk0eE1EUnNOaTQwT1RZdE5pNDVPVGRXTWpFdU9EWXhZVFV1TVRJM0lEVXVNVEkzSURBZ01DQXhJRFV1TVRJeExUVXVNVEl4YURVdU9EVXpZVEl1TVRrMUlESXVNVGsxSURBZ01TQXhJREFnTkM0ek9VZ3lPQzQzTldFdU56TXVOek1nTUNBd0lEQXRMamN6TVM0M00zWXhNaTR4TVRSak1DQXVOVGd6TFM0eU16RWdNUzR4TkMwdU5qUXpJREV1TlRVeWJDMDFMalU0T0NBMkxqQTRPQ0ExTGpVNE9DQTJMakE0T0dNdU5ERXlMalF4TVM0Mk5ETXVPVGN1TmpReklERXVOVFV5ZGpFeUxqRXhNMk13SUM0ME1ETXVNekk0TGpjek1pNDNNekV1TnpNeWFEVXVPRFV6WXpFdU1qRXlJREFnTWk0eE9UVXVPVGd5SURJdU1UazFJREl1TVRrMGVpSWdabWxzYkQwaUkyWm1aaUlnYzNSeWIydGxQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGlUVE0zTGpBeE9DQTJOQzR5T1RSaE1pNHhPVFVnTWk0eE9UVWdNQ0F3SURFdE1pNHhPVFVnTWk0eE9UUm9MVFV1T0RVeVlUVXVNVEkzSURVdU1USTNJREFnTUNBeExUVXVNVEl5TFRVdU1USldOVEF1TVRZemJDMDJMalE1TmkwMkxqazVOMkV5TGpFNU5TQXlMakU1TlNBd0lEQWdNU0F3TFRNdU1UQTBiRFl1TkRrMkxUWXVPVGszVmpJeExqZzJNV0UxTGpFeU55QTFMakV5TnlBd0lEQWdNU0ExTGpFeU1TMDFMakV5TVdnMUxqZzFNMkV5TGpFNU5TQXlMakU1TlNBd0lERWdNU0F3SURRdU16bG9MVFV1T0RVeVlTNDNNeTQzTXlBd0lEQWdNQzB1TnpNeUxqY3pkakV5TGpFeE5HTXdJQzQxT0RNdExqSXpNU0F4TGpFMExTNDJORE1nTVM0MU5USnNMVFV1TlRnNElEWXVNRGc0SURVdU5UZzRJRFl1TURnNFl5NDBNVEl1TkRFeExqWTBNeTQ1Tnk0Mk5ETWdNUzQxTlRKMk1USXVNVEV6WXpBZ0xqUXdNeTR6TWpndU56TXlMamN6TVM0M016Sm9OUzQ0TlROak1TNHlNVElnTUNBeUxqRTVOUzQ1T0RJZ01pNHhPVFVnTWk0eE9UUjZiVEV4TGpNNE5pMHlMakU1TldnMUxqZzFNMkV1TnpNdU56TWdNQ0F3SURBZ0xqY3pNaTB1TnpNeVZqUTVMakkxTkdNd0xTNDFPRE11TWpNeExURXVNVFF1TmpRekxURXVOVFV5YkRVdU5UZzRMVFl1TURnNExUVXVOVGc0TFRZdU1EZzRZVEl1TWlBeUxqSWdNQ0F3SURFdExqWTBNeTB4TGpVMU1sWXlNUzQ0TmpGaExqY3pMamN6SURBZ01DQXdMUzQzTXpJdExqY3pNbWd0TlM0NE5USmhNaTR4T1RVZ01pNHhPVFVnTUNBd0lERWdNQzAwTGpNNWFEVXVPRFV5WVRVdU1USTNJRFV1TVRJM0lEQWdNQ0F4SURVdU1USXlJRFV1TVRJeWRqRXhMakl3Tkd3MkxqUTVOaUEyTGprNU4yRXlMakU1TlNBeUxqRTVOU0F3SURBZ01TQXdJRE11TVRBMGJDMDJMalE1TmlBMkxqazVOM1l4TVM0eU1EUmhOUzR4TWpjZ05TNHhNamNnTUNBd0lERXROUzR4TWpJZ05TNHhNakZvTFRVdU9EVXlZVEl1TVRrMUlESXVNVGsxSURBZ01DQXhJREF0TkM0ek9Yb2lJR1pwYkd3OUlpTm1abVlpSUhOMGNtOXJaVDBpSTJabVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJeUxqVWlMejQ4TDNOMlp6ND0iOwoKICBjb25zdCBhcnJvd1VSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhOUzQ0T1RNaUlHaGxhV2RvZEQwaU1UVXVPRGt6SWlCMmFXVjNRbTk0UFNJd0lEQWdNVFV1T0RreklERTFMamc1TXlJK1BIQmhkR2dnWkQwaVRUa3VNREl4SURFeUxqSTVOSFl0TWk0eE1EZHNMVFl1T0RNNUxTNDVNRFZETVM0ek9UZ2dPUzR4T0RRdU9EUTJJRGd1TkRnMkxqazJNaUEzTGpjeU4yTXVNRGt0TGpZeE1pNDJNRE10TVM0d09TQXhMakl5TFRFdU1UWTBiRFl1T0RNNUxTNDVNRFZXTXk0Mll6QXRMalU0Tmk0M016SXRMamcyT1NBeExqRTFOaTB1TkRZMGJEUXVOVGMySURRdU16UTFZUzQyTkRNdU5qUXpJREFnTUNBeElEQWdMamt4T0d3dE5DNDFOellnTkM0ek5tTXRMalF5TkM0ME1EUXRNUzR4TlRZdU1URXRNUzR4TlRZdExqUTJOU0lnWm1sc2JEMGlibTl1WlNJZ2MzUnliMnRsTFc5d1lXTnBkSGs5SWk0eE5TSWdjM1J5YjJ0bFBTSWpNREF3SWlCemRISnZhMlV0ZDJsa2RHZzlJakV1TnpVaUx6NDhjR0YwYUNCa1BTSk5PUzR3TWpFZ01USXVNamswZGkweUxqRXdOMnd0Tmk0NE16a3RMamt3TlVNeExqTTVPQ0E1TGpFNE5DNDRORFlnT0M0ME9EWXVPVFl5SURjdU56STNZeTR3T1MwdU5qRXlMall3TXkweExqQTVJREV1TWpJdE1TNHhOalJzTmk0NE16a3RMamt3TlZZekxqWmpNQzB1TlRnMkxqY3pNaTB1T0RZNUlERXVNVFUyTFM0ME5qUnNOQzQxTnpZZ05DNHpORFZoTGpZME15NDJORE1nTUNBd0lERWdNQ0F1T1RFNGJDMDBMalUzTmlBMExqTTJZeTB1TkRJMExqUXdOQzB4TGpFMU5pNHhNUzB4TGpFMU5pMHVORFkxSWlCbWFXeHNQU0lqWm1abUlpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlMejQ4Y0dGMGFDQmtQU0pOTUNBeE5TNDRPVEpXTUdneE5TNDRPVEoyTVRVdU9Ea3llaUlnWm1sc2JEMGlibTl1WlNJdlBqd3ZjM1puUGc9PSI7CgogIGNvbnN0IENhc3QgPSBTY3JhdGNoLkNhc3Q7CiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwogIGNvbnN0IGlzUE0gPSBTY3JhdGNoLmV4dGVuc2lvbnMuaXNQZW5ndWluTW9kOwoKICBjb25zdCBoYXNPd24gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsKICBsZXQgZXh0Q2xhc3M7CgogIGNvbnN0IGNpcmN1bGFyUmVwbGFjZXIgPSAoKSA9PiB7CiAgICBjb25zdCBzdGFjayA9IG5ldyBTZXQoKTsKICAgIHJldHVybiBmdW5jdGlvbiByZXBsYWNlcihfLCB2YWx1ZSkgewogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAib2JqZWN0IiAmJiB2YWx1ZSAhPT0gbnVsbCkgewogICAgICAgIGlmIChzdGFjay5oYXModmFsdWUpKSByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAiWy4uLl0iIDogInsuLi59IjsKICAgICAgICBzdGFjay5hZGQodmFsdWUpOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH07CiAgfTsKCiAgY29uc3QgcmVnZW5SZXBvcnRlcnMgPSBbIlNQanNvbl9vYmpLZXkiLCAiU1Bqc29uX29ialZhbHVlIiwgIlNQanNvbl9hcnJWYWx1ZUEiLCAiU1Bqc29uX2FyclZhbHVlQiJdOwogIGNvbnN0IGpzb25CbG9ja3MgPSBbIlNQanNvbl9vYmpWYWxpZCIsICJTUGpzb25fanNvbkJ1aWxkZXIiLCAiU1Bqc29uX2dldEtleSIsICJTUGpzb25fZ2V0UGF0aCIsICJTUGpzb25fc2V0S2V5IiwgIlNQanNvbl9zZXRQYXRoIiwgIlNQanNvbl9kZWxldGVLZXkiLCAiU1Bqc29uX2pzb25TaXplIiwgIlNQanNvbl9rZXlJbmRleCIsICJTUGpzb25fZ2V0RW50cnkiLCAiU1Bqc29uX2V4dHJhY3RKc29uIiwgIlNQanNvbl9tZXJnZUpzb24iLCAiU1Bqc29uX2pzb25NYXAiLCAiU1Bqc29uX2pzb25NYWtlIl07CiAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICAvLyBSZWdlbiBSZXBvcnRlcnMKICAgIGNvbnN0IG9nQ2hlY2sgPSBTQi5zY3JhdGNoQmxvY2tzVXRpbHMuaXNTaGFkb3dBcmd1bWVudFJlcG9ydGVyOwogICAgU0Iuc2NyYXRjaEJsb2Nrc1V0aWxzLmlzU2hhZG93QXJndW1lbnRSZXBvcnRlciA9IGZ1bmN0aW9uIChibG9jaykgewogICAgICBjb25zdCByZXN1bHQgPSBvZ0NoZWNrKGJsb2NrKTsKICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBibG9jay5pc1NoYWRvdygpICYmIHJlZ2VuUmVwb3J0ZXJzLmluY2x1ZGVzKGJsb2NrLnR5cGUpOwogICAgfTsKCiAgICAvLyBDdXN0b20gSlNPTiBCbG9jayBTaGFwZQogICAgY29uc3QgbWFrZVNoYXBlID0gKHdpZHRoKSA9PiB7CiAgICAgIHdpZHRoIC09IDM1OwogICAgICByZXR1cm4gKGAKICAgICAgICBtMjAgMGgke3dpZHRofUMke3dpZHRoICsgMzB9IDAgJHt3aWR0aCArIDMwfSA0ICR7d2lkdGggKyAzMH0gMTIKICAgICAgICBjMCAwIDIgMCAzIDAgMSAwIDMgMiAzIDMgMCAxIDAgOCAwIDEwIDAgMi0xIDMtMyAzLTIgMC0zIDAtMyAwCiAgICAgICAgQyR7d2lkdGggKyAzMH0gMzcgJHt3aWR0aCArIDMwfSA0MCAke3dpZHRoICsgMjB9IDQwaCR7KHdpZHRoICsgMTApICogLTF9CiAgICAgICAgQzUgNDAgNSAzNiA0IDI4YzAgMC0xIDAtMiAwLTIgMC0zLTEtMy0zbDAtMTBjMCAwIDAtMyA0LTMgMCAwIDEgMCAxIDBDNSA0IDUgMCAxMCAwegogICAgICBgKS5yZXBsYWNlQWxsKCJcbiIsICIiKS50cmltKCk7CiAgICB9OwoKICAgIGNvbnN0IG9nUmVuZGVyID0gU0IuQmxvY2tTdmcucHJvdG90eXBlLnJlbmRlcjsKICAgIFNCLkJsb2NrU3ZnLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgICBjb25zdCBkYXRhID0gb2dSZW5kZXIuY2FsbCh0aGlzLCAuLi5hcmdzKTsKICAgICAgaWYgKHRoaXMuc3ZnUGF0aF8gJiYganNvbkJsb2Nrcy5pbmNsdWRlcyh0aGlzLnR5cGUpKSB7CiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gIlNQanNvbl9qc29uVmFsaWQiICYmIHRoaXMudHlwZSAhPT0gIlNQanNvbl9vYmpWYWxpZCIpIHsKICAgICAgICAgIGNvbnN0IGZpeGVkV2lkdGggPSB0aGlzLndpZHRoIC0gMzU7CiAgICAgICAgICB0aGlzLnN2Z1BhdGhfLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwgYHNjYWxlKDEsICR7dGhpcy5oZWlnaHQgLyA0MH0pYCk7CiAgICAgICAgICB0aGlzLnN2Z1BhdGhfLnNldEF0dHJpYnV0ZSgiZCIsIG1ha2VTaGFwZSh0aGlzLndpZHRoKSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7CiAgICAgICAgICBpZiAoaW5wdXQubmFtZS5zdGFydHNXaXRoKCJPQkoiKSkgewogICAgICAgICAgICBjb25zdCBibG9jayA9IGlucHV0LmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTsKICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnR5cGUgPT09ICJ0ZXh0IiAmJiBibG9jay5zdmdQYXRoXykgewogICAgICAgICAgICAgIGJsb2NrLnN2Z1BhdGhfLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwgYHNjYWxlKDEsICR7YmxvY2suaGVpZ2h0IC8gNDB9KWApOwogICAgICAgICAgICAgIGJsb2NrLnN2Z1BhdGhfLnNldEF0dHJpYnV0ZSgiZCIsIG1ha2VTaGFwZShibG9jay53aWR0aCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgfSk7CgogIC8vIFBhdGNoIFNhdmluZyBQdXJlIE9iamVjdHMgdG8gVmFyaWFibGVzCiAgLy8gV2UgbXVzdCBzdHJpbmdpZnkgdGhlbSBmb3IgaXQgdG8gd29yawogIGNvbnN0IG9nMkpTT04gPSB2bS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUudG9KU09OOwogIHZtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgZm9yIChjb25zdCB0YXJnZXQgb2YgcnVudGltZS50YXJnZXRzKSB7CiAgICAgIGNvbnN0IHZhcnMgPSBPYmplY3QudmFsdWVzKHRhcmdldC52YXJpYWJsZXMpOwogICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgdmFycykgewogICAgICAgIGlmIChkYXRhLnR5cGUgIT09ICJicm9hZGNhc3RfbXNnIikgewogICAgICAgICAgY29uc3QgdmFsID0gZGF0YS52YWx1ZTsKICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICJsaXN0IikgewogICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBsaXN0IGl0ZW0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbFtpXSA9PT0gIm9iamVjdCIpIHZhbFtpXSA9IEpTT04uc3RyaW5naWZ5KHZhbFtpXSwgY2lyY3VsYXJSZXBsYWNlcigpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICJvYmplY3QiKSBkYXRhLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsLCBjaXJjdWxhclJlcGxhY2VyKCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG9nMkpTT04uY2FsbCh0aGlzLCAuLi5hcmdzKTsKICB9CgogIC8vIE1vZGlmeSBWaXN1YWwgUmVwb3J0IHRvIHN0cmluZ2lmeSBKU09OCiAgY29uc3Qgb2dWaXNSZXBvcnQgPSBydW50aW1lLnZpc3VhbFJlcG9ydDsKICBpZiAoaXNQTSkgewogICAgcnVudGltZS52aXN1YWxSZXBvcnQgPSBmdW5jdGlvbiAoYmxvY2tJZCwgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlLmNvbnN0cnVjdG9yPy5uYW1lID09PSAiT2JqZWN0IiB8fCB2YWx1ZS5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIkFycmF5IikgewogICAgICAgIC8vIFBNIGN1c3RvbSByZXR1cm4gY29uc3RydWN0b3JzIGhhdmUgYSBkaWZmZXJlbnQgbmFtZQogICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUsIGNpcmN1bGFyUmVwbGFjZXIoKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG9nVmlzUmVwb3J0LmNhbGwodGhpcywgYmxvY2tJZCwgdmFsdWUpOwogICAgfQogIH0gZWxzZSB7CiAgICBydW50aW1lLnZpc3VhbFJlcG9ydCA9IGZ1bmN0aW9uICh0YXJnZXQsIGJsb2NrSWQsIHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJvYmplY3QiKSB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlLCBjaXJjdWxhclJlcGxhY2VyKCkpOwogICAgICByZXR1cm4gb2dWaXNSZXBvcnQuY2FsbCh0aGlzLCB0YXJnZXQsIGJsb2NrSWQsIHZhbHVlKTsKICAgIH0KICB9CgogIC8vIENvbXBpbGVyIFBhdGNoZXMKICAvLyBUT0RPIHJlbW92ZSB0aGlzIHdoZW4gdGhlcmUgaXMgYSBkZWRpY2F0ZWQgQVBJIGZvciByZWZyZXNoaW5nIGJsb2NrIGFyZ3VtZW50cwogIGNvbnN0IGdlbmVyYXRlUGFyc2VyID0gKHR5cGUsIGFsd2F5c1RyeVBhcnNlKSA9PiB7CiAgICBpZiAoIWFsd2F5c1RyeVBhcnNlKSByZXR1cm4gYChvKSA9PiBvYDsKCiAgICBjb25zdCBkZWZhdWx0ViA9IHR5cGUgPT09IHVuZGVmaW5lZCA/ICJvIiA6IHR5cGUgPT09IDAgPyAie30iIDogIltdIjsKICAgIGxldCBmdW5jU3RyaW5nID0gYChvKSA9PiB7XG5gOwoKICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIGZ1bmNTdHJpbmcgKz0gYGlmICh0eXBlb2YgbyA9PT0gIm9iamVjdCIpIHJldHVybiBvO1xuYDsKICAgIGVsc2UgaWYgKHR5cGUgPT09IDApIGZ1bmNTdHJpbmcgKz0gYGlmIChvLmNvbnN0cnVjdG9yPy5uYW1lID09PSAiT2JqZWN0IikgcmV0dXJuIG87XG5gOwogICAgZWxzZSBmdW5jU3RyaW5nICs9IGBpZiAoQXJyYXkuaXNBcnJheShvKSkgcmV0dXJuIG87XG5gOwoKICAgIGZ1bmNTdHJpbmcgKz0gYHRyeSB7XG5gOwogICAgZnVuY1N0cmluZyArPSBgY29uc3QgcCA9IEpTT04ucGFyc2Uobyk7XG5gOwogICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkgZnVuY1N0cmluZyArPSBgcmV0dXJuIHA7XG5gOwogICAgZWxzZSBpZiAodHlwZSA9PT0gMCkgZnVuY1N0cmluZyArPSBgcmV0dXJuIHAuY29uc3RydWN0b3I/Lm5hbWUgPT09ICJPYmplY3QiID8gcCA6ICR7ZGVmYXVsdFZ9O1xuYDsKICAgIGVsc2UgZnVuY1N0cmluZyArPSBgcmV0dXJuIEFycmF5LmlzQXJyYXkocCkgPyBwIDogJHtkZWZhdWx0Vn07XG5gOwogICAgZnVuY1N0cmluZyArPSBgfSBjYXRjaCB7cmV0dXJuICR7ZGVmYXVsdFZ9fVxuYDsKICAgIHJldHVybiBmdW5jU3RyaW5nICsgIn0iOwogIH0KICBjb25zdCBnZW5lcmF0ZUNsZWFuc2VyID0gKHR5cGUpID0+IHsKICAgIGxldCBmdW5jU3RyaW5nID0gYCgoKSA9PiB7XG5gOwogICAgZnVuY1N0cmluZyArPSBgY29uc3QgdCA9IHR5cGVvZiAke3R5cGV9O1xuYDsKICAgIGZ1bmNTdHJpbmcgKz0gYGlmICh0ID09PSAidW5kZWZpbmVkIikgcmV0dXJuICIiO1xuYDsKICAgIGZ1bmNTdHJpbmcgKz0gYGVsc2UgaWYgKHQgPT09ICJvYmplY3QiKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJHt0eXBlfSk7XG5gOwogICAgZnVuY1N0cmluZyArPSBgZWxzZSByZXR1cm4gJHt0eXBlfS50b1N0cmluZygpO1xuYDsKICAgIHJldHVybiBmdW5jU3RyaW5nICsgIn0pKCkiOwogIH0KCiAgZnVuY3Rpb24gZ2V0Q29tcGlsZXIoKSB7CiAgICBpZiAodm0uZXhwb3J0cy5pX3dpbGxfbm90X2Fza19mb3JfaGVscF93aGVuX3RoZXNlX2JyZWFrKSByZXR1cm4gdm0uZXhwb3J0cy5pX3dpbGxfbm90X2Fza19mb3JfaGVscF93aGVuX3RoZXNlX2JyZWFrKCk7CiAgICBlbHNlIGlmICh2bS5leHBvcnRzLkpTR2VuZXJhdG9yICYmIHZtLmV4cG9ydHMuSVJHZW5lcmF0b3I/LmV4cG9ydHMpIHJldHVybiB7CiAgICAgIC4uLnZtLmV4cG9ydHMsIFNjcmlwdFRyZWVHZW5lcmF0b3I6IHZtLmV4cG9ydHMuSVJHZW5lcmF0b3IuZXhwb3J0cy5TY3JpcHRUcmVlR2VuZXJhdG9yCiAgICB9OwogIH0KICBjb25zdCBjb21waWxlciA9IGdldENvbXBpbGVyKCk7CiAgaWYgKGNvbXBpbGVyKSB7CiAgICBjb25zdCB7IEpTR2VuZXJhdG9yLCBTY3JpcHRUcmVlR2VuZXJhdG9yIH0gPSBjb21waWxlcjsKICAgIGNvbnN0IGV4cCA9IEpTR2VuZXJhdG9yLmV4cG9ydHMgPT09IHVuZGVmaW5lZCA/IEpTR2VuZXJhdG9yLnVuc3RhYmxlX2V4cG9ydHMgOiBKU0dlbmVyYXRvci5leHBvcnRzOwogICAgY29uc3QgX29nSVJkZXNjZW5kU3RhY2sgPSBTY3JpcHRUcmVlR2VuZXJhdG9yLnByb3RvdHlwZS5kZXNjZW5kU3RhY2tlZEJsb2NrOwogICAgU2NyaXB0VHJlZUdlbmVyYXRvci5wcm90b3R5cGUuZGVzY2VuZFN0YWNrZWRCbG9jayA9IGZ1bmN0aW9uIChibG9jaykgewogICAgICBzd2l0Y2ggKGJsb2NrLm9wY29kZSkgewogICAgICAgIGNhc2UgIlNQanNvbl9mb3JFYWNoIjoKICAgICAgICAgIHRoaXMuYW5hbHl6ZUxvb3AoKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGtpbmQ6ICJTUGpzb24uZm9yRWFjaCIsCiAgICAgICAgICAgIG9iajogdGhpcy5kZXNjZW5kSW5wdXRPZkJsb2NrKGJsb2NrLCAiT0JKIiksIGJyYW5jaDogdGhpcy5kZXNjZW5kU3Vic3RhY2soYmxvY2ssICJTVUJTVEFDSyIpCiAgICAgICAgICB9OwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBfb2dJUmRlc2NlbmRTdGFjay5jYWxsKHRoaXMsIGJsb2NrKTsKICAgICAgfQogICAgfQogICAgY29uc3QgX29nSlNkZXNjZW5kU3RhY2sgPSBKU0dlbmVyYXRvci5wcm90b3R5cGUuZGVzY2VuZFN0YWNrZWRCbG9jazsKICAgIEpTR2VuZXJhdG9yLnByb3RvdHlwZS5kZXNjZW5kU3RhY2tlZEJsb2NrID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgc3dpdGNoIChub2RlLmtpbmQpIHsKICAgICAgICBjYXNlICJTUGpzb24uZm9yRWFjaCI6CiAgICAgICAgICBjb25zdCBzYWZlT2JqID0gdGhpcy5kZXNjZW5kSW5wdXQobm9kZS5vYmopLmFzVW5rbm93bigpOwogICAgICAgICAgY29uc3Qgb2JqVmFyID0gdGhpcy5sb2NhbFZhcmlhYmxlcy5uZXh0KCk7CiAgICAgICAgICBjb25zdCBpc0FycmF5ID0gdGhpcy5sb2NhbFZhcmlhYmxlcy5uZXh0KCk7CiAgICAgICAgICBjb25zdCBpID0gdGhpcy5sb2NhbFZhcmlhYmxlcy5uZXh0KCk7CgogICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYGxldCAke29ialZhcn0gPSAoJHtnZW5lcmF0ZVBhcnNlcih1bmRlZmluZWQsIGV4dENsYXNzLmFsd2F5c1RyeVBhcnNlKX0pKCR7c2FmZU9ian0pXG47YDsKICAgICAgICAgIHRoaXMuc291cmNlICs9IGBjb25zdCAke2lzQXJyYXl9ID0gQXJyYXkuaXNBcnJheSgke29ialZhcn0pXG47YDsKICAgICAgICAgIHRoaXMuc291cmNlICs9IGAke29ialZhcn0gPSBPYmplY3QuZW50cmllcygke29ialZhcn0pXG47YDsKICAgICAgICAgIHRoaXMuc291cmNlICs9IGBmb3IgKGxldCAke2l9ID0gMDsgJHtpfSA8ICR7b2JqVmFyfS5sZW5ndGg7ICR7aX0rKykge1xuO2A7CiAgICAgICAgICB0aGlzLnNvdXJjZSArPSBgbGV0IFtTUG9iakssIFNQb2JqVl0gPSAke29ialZhcn1bJHtpfV07XG5gOwogICAgICAgICAgdGhpcy5zb3VyY2UgKz0gYGlmICgke2lzQXJyYXl9KSBTUG9iaksrK1xuYDsKICAgICAgICAgIHRoaXMuZGVzY2VuZFN0YWNrKG5vZGUuYnJhbmNoLCBuZXcgZXhwLkZyYW1lKHRydWUpKTsKICAgICAgICAgIHRoaXMueWllbGRMb29wKCk7CiAgICAgICAgICB0aGlzLnNvdXJjZSArPSBgfVxuYDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBfb2dKU2Rlc2NlbmRTdGFjay5jYWxsKHRoaXMsIG5vZGUpOwogICAgICB9CiAgICB9CgogICAgY29uc3QgX29nSVJkZXNjZW5kSW5wID0gU2NyaXB0VHJlZUdlbmVyYXRvci5wcm90b3R5cGUuZGVzY2VuZElucHV0OwogICAgU2NyaXB0VHJlZUdlbmVyYXRvci5wcm90b3R5cGUuZGVzY2VuZElucHV0ID0gZnVuY3Rpb24gKGJsb2NrKSB7CiAgICAgIHN3aXRjaCAoYmxvY2sub3Bjb2RlKSB7CiAgICAgICAgY2FzZSAiU1Bqc29uX2FyclZhbHVlQSI6IHJldHVybiB7IGtpbmQ6ICJTUGpzb24uYXJyVmFsQSIgfTsKICAgICAgICBjYXNlICJTUGpzb25fYXJyVmFsdWVCIjogcmV0dXJuIHsga2luZDogIlNQanNvbi5hcnJWYWxCIiB9OwogICAgICAgIGNhc2UgIlNQanNvbl9vYmpLZXkiOiByZXR1cm4geyBraW5kOiAiU1Bqc29uLm9iaktleSIgfTsKICAgICAgICBjYXNlICJTUGpzb25fb2JqVmFsdWUiOiByZXR1cm4geyBraW5kOiAiU1Bqc29uLm9ialZhbCIgfTsKICAgICAgICBjYXNlICJTUGpzb25fanNvbk1hcCI6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBraW5kOiAiU1Bqc29uLmpzb25NYXAiLAogICAgICAgICAgICBvYmo6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIk9CSiIpLCB2YWx1ZTogdGhpcy5kZXNjZW5kSW5wdXRPZkJsb2NrKGJsb2NrLCAiVkFMVUUiKQogICAgICAgICAgfTsKICAgICAgICBjYXNlICJTUGpzb25fYXJyQ2hlY2siOgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAga2luZDogIlNQanNvbi5hcnJDaGVjayIsIHR5cGU6IGJsb2NrLmZpZWxkcy5UWVBFLnZhbHVlLAogICAgICAgICAgICBhcnJheTogdGhpcy5kZXNjZW5kSW5wdXRPZkJsb2NrKGJsb2NrLCAiQVJSIiksIGJvb2w6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIkJPT0wiKSwKICAgICAgICAgIH07CiAgICAgICAgY2FzZSAiU1Bqc29uX2Fyck1hcCI6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBraW5kOiAiU1Bqc29uLmFyck1hcCIsCiAgICAgICAgICAgIGFycmF5OiB0aGlzLmRlc2NlbmRJbnB1dE9mQmxvY2soYmxvY2ssICJBUlIiKSwgdmFsdWU6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIlZBTFVFIikKICAgICAgICAgIH07CiAgICAgICAgY2FzZSAiU1Bqc29uX2FyclNvcnQiOgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAga2luZDogIlNQanNvbi5hcnJTb3J0IiwKICAgICAgICAgICAgYXJyYXk6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIkFSUiIpLCB2YWx1ZTogdGhpcy5kZXNjZW5kSW5wdXRPZkJsb2NrKGJsb2NrLCAiVkFMVUUiKQogICAgICAgICAgfTsKICAgICAgICBjYXNlICJTUGpzb25fZmlsdGVyTmV3IjoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGtpbmQ6ICJTUGpzb24uZmlsdGVyIiwgdHlwZTogYmxvY2suZmllbGRzLlRZUEUudmFsdWUsCiAgICAgICAgICAgIG9iajogdGhpcy5kZXNjZW5kSW5wdXRPZkJsb2NrKGJsb2NrLCAiT0JKIiksIGJvb2w6IHRoaXMuZGVzY2VuZElucHV0T2ZCbG9jayhibG9jaywgIkJPT0wiKQogICAgICAgICAgfTsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gX29nSVJkZXNjZW5kSW5wLmNhbGwodGhpcywgYmxvY2spOwogICAgICB9CiAgICB9OwogICAgY29uc3QgX29nSlNkZXNjZW5kSW5wID0gSlNHZW5lcmF0b3IucHJvdG90eXBlLmRlc2NlbmRJbnB1dDsKICAgIEpTR2VuZXJhdG9yLnByb3RvdHlwZS5kZXNjZW5kSW5wdXQgPSBmdW5jdGlvbiAobm9kZSkgewogICAgICBpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgIHN3aXRjaCAobm9kZS5raW5kKSB7CiAgICAgICAgY2FzZSAiU1Bqc29uLmFyclZhbEEiOiByZXR1cm4gbmV3IGV4cC5UeXBlZElucHV0KGdlbmVyYXRlQ2xlYW5zZXIoIlNQYXJyQSIpLCBleHAuVFlQRV9TVFJJTkcpOwogICAgICAgIGNhc2UgIlNQanNvbi5hcnJWYWxCIjogcmV0dXJuIG5ldyBleHAuVHlwZWRJbnB1dChnZW5lcmF0ZUNsZWFuc2VyKCJTUGFyckIiKSwgZXhwLlRZUEVfU1RSSU5HKTsKICAgICAgICBjYXNlICJTUGpzb24ub2JqS2V5IjogcmV0dXJuIG5ldyBleHAuVHlwZWRJbnB1dChnZW5lcmF0ZUNsZWFuc2VyKCJTUG9iaksiKSwgZXhwLlRZUEVfU1RSSU5HKTsKICAgICAgICBjYXNlICJTUGpzb24ub2JqVmFsIjogcmV0dXJuIG5ldyBleHAuVHlwZWRJbnB1dChnZW5lcmF0ZUNsZWFuc2VyKCJTUG9ialYiKSwgZXhwLlRZUEVfU1RSSU5HKTsKICAgICAgICBjYXNlICJTUGpzb24uanNvbk1hcCI6IHsKICAgICAgICAgIGNvbnN0IHNhZmVPYmogPSB0aGlzLmRlc2NlbmRJbnB1dChub2RlLm9iaikuYXNVbmtub3duKCk7CiAgICAgICAgICBjb25zdCBzYWZlVmFsdWUgPSB0aGlzLmRlc2NlbmRJbnB1dChub2RlLnZhbHVlKS5hc1Vua25vd24oKTsKICAgICAgICAgIHJldHVybiBuZXcgZXhwLlR5cGVkSW5wdXQoYChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZnVuY3Rpb24qIGdlbmVyYXRvcigpIHsKICAgICAgICAgICAgICBjb25zdCBwID0gKCR7Z2VuZXJhdGVQYXJzZXIoMCwgZXh0Q2xhc3MuYWx3YXlzVHJ5UGFyc2UpfSkoJHtzYWZlT2JqfSk7CiAgICAgICAgICAgICAgY29uc3QgZSA9IE9iamVjdC5lbnRyaWVzKHApOwogICAgICAgICAgICAgIGZvciAoY29uc3QgW1NQb2JqSywgU1BvYmpWXSBvZiBlKSB5aWVsZCBbU1BvYmpLLCAke3NhZmVWYWx1ZX1dOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZ2VuZXJhdG9yKCkpOwogICAgICAgICAgfSkoKWAsIGV4cC5UWVBFX1VOS05PV04pOwogICAgICAgIH0KICAgICAgICBjYXNlICJTUGpzb24uYXJyQ2hlY2siOiB7CiAgICAgICAgICBjb25zdCBzYWZlT2JqID0gdGhpcy5kZXNjZW5kSW5wdXQobm9kZS5hcnJheSkuYXNVbmtub3duKCk7CiAgICAgICAgICBjb25zdCBzYWZlQm9vbCA9IHRoaXMuZGVzY2VuZElucHV0KG5vZGUuYm9vbCkuYXNCb29sZWFuKCk7CiAgICAgICAgICByZXR1cm4gbmV3IGV4cC5UeXBlZElucHV0KGB5aWVsZCogKGZ1bmN0aW9uKiAoKSB7CiAgICAgICAgICAgIGZ1bmN0aW9uKiBydW5HZW5lcmF0b3IoZ2VuLCBpbnB1dCkgewogICAgICAgICAgICAgIGxldCByZXN1bHQ7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbi5uZXh0KGlucHV0KTsKICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IHRocm93IGUgfQoKICAgICAgICAgICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7CiAgICAgICAgICAgICAgICBsZXQgeWllbGRlZCA9IHJlc3VsdC52YWx1ZTsKICAgICAgICAgICAgICAgIGlmICh5aWVsZGVkICYmIHR5cGVvZiB5aWVsZGVkLm5leHQgPT09ICJmdW5jdGlvbiIpIHlpZWxkZWQgPSB5aWVsZCogcnVuR2VuZXJhdG9yKHlpZWxkZWQpOwogICAgICAgICAgICAgICAgZWxzZSBpZiAoeWllbGRlZCAmJiB0eXBlb2YgeWllbGRlZC50aGVuID09PSAiZnVuY3Rpb24iKSB5aWVsZGVkID0geWllbGQgeWllbGRlZDsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICByZXN1bHQgPSBnZW4ubmV4dCh5aWVsZGVkKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgdGhyb3cgZSB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uKiBnZW5Tb21lKGFyciwgcHJlZGljYXRlKSB7CiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICh5aWVsZCogcHJlZGljYXRlKGFycltpXSwgaSkpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24qIGdlbkV2ZXJ5KGFyciwgcHJlZGljYXRlKSB7CiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICghKHlpZWxkKiBwcmVkaWNhdGUoYXJyW2ldLCBpKSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHAgPSAoJHtnZW5lcmF0ZVBhcnNlcigxLCBleHRDbGFzcy5hbHdheXNUcnlQYXJzZSl9KSgke3NhZmVPYmp9KTsKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQqIHJ1bkdlbmVyYXRvcigKICAgICAgICAgICAgICAke25vZGUudHlwZSA9PT0gInNvbWUiID8gImdlblNvbWUiIDogImdlbkV2ZXJ5In0ocCwgZnVuY3Rpb24qIChTUG9ialYsIFNQb2JqSykgewogICAgICAgICAgICAgICAgU1BvYmpLKys7CiAgICAgICAgICAgICAgICByZXR1cm4gJHtzYWZlQm9vbH07CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0pKClgLCBleHAuVFlQRV9CT09MRUFOKTsKICAgICAgICB9CiAgICAgICAgY2FzZSAiU1Bqc29uLmFyck1hcCI6IHsKICAgICAgICAgIGNvbnN0IHNhZmVPYmogPSB0aGlzLmRlc2NlbmRJbnB1dChub2RlLmFycmF5KS5hc1Vua25vd24oKTsKICAgICAgICAgIGNvbnN0IHNhZmVWYWx1ZSA9IHRoaXMuZGVzY2VuZElucHV0KG5vZGUudmFsdWUpLmFzVW5rbm93bigpOwogICAgICAgICAgcmV0dXJuIG5ldyBleHAuVHlwZWRJbnB1dChgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBmdW5jdGlvbiogZ2VuZXJhdG9yKCkgewogICAgICAgICAgICAgIGNvbnN0IHAgPSAoJHtnZW5lcmF0ZVBhcnNlcigxLCBleHRDbGFzcy5hbHdheXNUcnlQYXJzZSl9KSgke3NhZmVPYmp9KTsKICAgICAgICAgICAgICBsZXQgU1BvYmpLID0gMTsKICAgICAgICAgICAgICBmb3IgKGNvbnN0IFNQb2JqViBvZiBwKSB7CiAgICAgICAgICAgICAgICB5aWVsZCAke3NhZmVWYWx1ZX07CiAgICAgICAgICAgICAgICBTUG9iaksrKzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFsuLi5nZW5lcmF0b3IoKV07CiAgICAgICAgICB9KSgpYCwgZXhwLlRZUEVfVU5LTk9XTik7CiAgICAgICAgfQogICAgICAgIGNhc2UgIlNQanNvbi5hcnJTb3J0IjogewogICAgICAgICAgY29uc3Qgc2FmZU9iaiA9IHRoaXMuZGVzY2VuZElucHV0KG5vZGUuYXJyYXkpLmFzVW5rbm93bigpOwogICAgICAgICAgY29uc3Qgc2FmZVZhbHVlID0gdGhpcy5kZXNjZW5kSW5wdXQobm9kZS52YWx1ZSkuYXNVbmtub3duKCk7CiAgICAgICAgICAvLyB0aGlzIGlzIGEgcm91Z2ggY2hlY2ssIGJ1dCBpdHMgdGhlIGJlc3Qgd2UgY2FuIGRvCiAgICAgICAgICBpZiAoc2FmZVZhbHVlLmluY2x1ZGVzKGB5aWVsZCogZXhlY3V0ZUluQ29tcGF0YCkgJiYgIXNhZmVWYWx1ZS5pbmNsdWRlcyhgInlpZWxkKiBleGVjdXRlSW5Db21wYXRgKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IGV4cC5UeXBlZElucHV0KGAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgZnVuY3Rpb24qIGdlbmVyYXRvcigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ2VyID0gKHYpID0+IHsgcmV0dXJuIHR5cGVvZiB2ID09PSAib2JqZWN0IiA/IEpTT04uc3RyaW5naWZ5KHYpIDogdi50b1N0cmluZygpIH07CiAgICAgICAgICAgICAgICBjb25zdCBzID0ge307CiAgICAgICAgICAgICAgICBjb25zdCBwID0gKCR7Z2VuZXJhdGVQYXJzZXIoMSwgZXh0Q2xhc3MuYWx3YXlzVHJ5UGFyc2UpfSkoJHtzYWZlT2JqfSk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgU1BhcnJBID0gcFtpXSwgU1BhcnJCID0gcFtqXTsKICAgICAgICAgICAgICAgICAgICBzW3N0cmluZ2VyKHBbaV0pICsgc3RyaW5nZXIocFtqXSldID0gJHtzYWZlVmFsdWV9OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWQgPSBbLi4ucF0uc29ydCgoYSwgYikgPT4geyByZXR1cm4gc1tzdHJpbmdlcihhKSArIHN0cmluZ2VyKGIpXSA/PyAwIH0pOwogICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNvcnRlZCkgeWllbGQgaXRlbTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIFsuLi5nZW5lcmF0b3IoKV07CiAgICAgICAgICAgIH0pKClgLCBleHAuVFlQRV9VTktOT1dOKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgZXhwLlR5cGVkSW5wdXQoYChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBmdW5jdGlvbiogZ2VuZXJhdG9yKCkgewogICAgICAgICAgICAgICAgY29uc3QgcCA9ICgke2dlbmVyYXRlUGFyc2VyKDEsIGV4dENsYXNzLmFsd2F5c1RyeVBhcnNlKX0pKCR7c2FmZU9ian0pOwogICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gWy4uLnBdLnNvcnQoKFNQYXJyQSwgU1BhcnJCKSA9PiB7IHJldHVybiAke3NhZmVWYWx1ZX07IH0pOwogICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNvcnRlZCkgeWllbGQgaXRlbTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIFsuLi5nZW5lcmF0b3IoKV07CiAgICAgICAgICAgIH0pKClgLCBleHAuVFlQRV9VTktOT1dOKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2FzZSAiU1Bqc29uLmZpbHRlciI6IHsKICAgICAgICAgIGNvbnN0IHNhZmVPYmogPSB0aGlzLmRlc2NlbmRJbnB1dChub2RlLm9iaikuYXNVbmtub3duKCk7CiAgICAgICAgICBjb25zdCBzYWZlQm9vbCA9IHRoaXMuZGVzY2VuZElucHV0KG5vZGUuYm9vbCkuYXNCb29sZWFuKCk7CiAgICAgICAgICByZXR1cm4gbmV3IGV4cC5UeXBlZElucHV0KGAoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7CiAgICAgICAgICAgICAgY29uc3QgcCA9ICgke2dlbmVyYXRlUGFyc2VyKHVuZGVmaW5lZCwgZXh0Q2xhc3MuYWx3YXlzVHJ5UGFyc2UpfSkoJHtzYWZlT2JqfSk7CiAgICAgICAgICAgICAgY29uc3QgZSA9IE9iamVjdC5lbnRyaWVzKHApOwogICAgICAgICAgICAgIGNvbnN0IGlzTyA9IHAuY29uc3RydWN0b3I/Lm5hbWUgPT09ICJPYmplY3QiOwoKICAgICAgICAgICAgICBpZiAoJHtub2RlLnR5cGUgPT09ICJmaWx0ZXIifSkgewogICAgICAgICAgICAgICAgaWYgKGlzTykgewogICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTsKICAgICAgICAgICAgICAgICAgZm9yIChsZXQgW1NQb2JqSywgU1BvYmpWXSBvZiBlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCR7c2FmZUJvb2x9KSByZXN1bHRbU1BvYmpLXSA9IFNQb2JqVjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB5aWVsZCByZXN1bHQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgICAgICAgICAgICAgZm9yIChsZXQgW1NQb2JqSywgU1BvYmpWXSBvZiBlKSB7CiAgICAgICAgICAgICAgICAgICAgU1BvYmpLKys7CiAgICAgICAgICAgICAgICAgICAgaWYgKCR7c2FmZUJvb2x9KSByZXN1bHQucHVzaChTUG9ialYpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHlpZWxkIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgbiA9IFtdOwogICAgICAgICAgICAgICAgZm9yIChsZXQgW1NQb2JqSywgU1BvYmpWXSBvZiBlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChpc08pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJHtzYWZlQm9vbH0pIG4udW5zaGlmdChbU1BvYmpLLCBTUG9ialZdKTsKICAgICAgICAgICAgICAgICAgICBlbHNlIG4ucHVzaChbU1BvYmpLLCBTUG9ialZdKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBTUG9iaksrKzsKICAgICAgICAgICAgICAgICAgICBpZiAoJHtzYWZlQm9vbH0pIG4udW5zaGlmdChTUG9ialYpOwogICAgICAgICAgICAgICAgICAgIGVsc2Ugbi5wdXNoKFNQb2JqVik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHlpZWxkIGlzTyA/IE9iamVjdC5mcm9tRW50cmllcyhuKSA6IG47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBbLi4uZ2VuZXJhdG9yKCldWzBdOwogICAgICAgICAgfSkoKWAsIGV4cC5UWVBFX1VOS05PV04pOwogICAgICAgIH0KICAgICAgICBkZWZhdWx0OiByZXR1cm4gX29nSlNkZXNjZW5kSW5wLmNhbGwodGhpcywgbm9kZSk7CiAgICAgIH0KICAgIH07CiAgfQoKICBjbGFzcyBTUGpzb24gewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuc2V0dGluZ3MgPSBbCiAgICAgICAgeyB0ZXh0OiAiYWx3YXlzIGNhc3QgdmFsdWVzIiwgdmFsdWU6ICJhbHdheXNDYXN0IiB9LAogICAgICAgIHsgdGV4dDogImFsd2F5cyBwYXJzZSB0ZXh0IG9iamVjdHMiLCB2YWx1ZTogImFsd2F5c1BhcnNlIiB9LAogICAgICAgIHsgdGV4dDogImFsd2F5cyB0cnkgcGFyc2luZyIsIHZhbHVlOiAiYWx3YXlzVHJ5UGFyc2UiIH0sCiAgICAgICAgeyB0ZXh0OiAiZG9udCBlZGl0IHNvdXJjZSBvYmplY3RzIiwgdmFsdWU6ICJ1c2VOZXdPYmoiIH0sCiAgICAgIF07CiAgICAgIHRoaXMuYWx3YXlzQ2FzdCA9IHRydWU7IHRoaXMuYWx3YXlzUGFyc2UgPSB0cnVlOwogICAgICB0aGlzLmFsd2F5c1RyeVBhcnNlID0gdHJ1ZTsgdGhpcy51c2VOZXdPYmogPSB0cnVlOwogICAgICB0aGlzLmluaXRQYXJzZXIoKTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJTUGpzb24iLAogICAgICAgIG5hbWU6ICJKU09OIGFuZCBBcnJheSIsCiAgICAgICAgY29sb3IxOiAiIzc0OGJlZSIsCiAgICAgICAgbWVudUljb25VUkksCiAgICAgICAgYmxvY2tzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIGZ1bmM6ICJ3YXJuIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CVVRUT04sCiAgICAgICAgICAgIHRleHQ6ICJVc2FnZSBXYXJuaW5nIgogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogIkpTT04iIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogIm9ialZhbGlkIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiAiaXMgb2JqZWN0IFtPQkpdIHZhbGlkPyIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjoidmFsdWUifWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJqc29uQnVpbGRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAieyBbS0VZXSA6IFtWQUxdIH0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJrZXkiIH0sCiAgICAgICAgICAgICAgVkFMOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAidmFsdWUiLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImdldEtleSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiZ2V0IFtLRVldIGZyb20gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJrZXkiIH0sCiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyJrZXkiOiJ2YWx1ZSJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0UGF0aCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiZ2V0IHBhdGggW1BBVEhdIGZyb20gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBQQVRIOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJrZXkiLCAidmFsdWUxIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5Ijp7InZhbHVlMSI6MSwgInZhbHVlMiI6Mn19YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0S2V5IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJzZXQgW0tFWV0gdG8gW1ZBTF0gaW4gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJrZXkiIH0sCiAgICAgICAgICAgICAgVkFMOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAidmFsdWUiLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogInt9IiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0UGF0aCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAic2V0IHBhdGggW1BBVEhdIHRvIFtWQUxdIGluIFtPQkpdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgUEFUSDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsia2V5MSIsICJrZXkyIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIFZBTDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogInZhbHVlIiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBPQko6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGB7ImtleTEiOnt9fWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZUtleSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiZGVsZXRlIFtLRVldIGZyb20gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJrZXkiIH0sCiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyJrZXkiOiJ2YWx1ZSJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAianNvblNpemUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAic2l6ZSBvZiBbT0JKXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjoidmFsdWUifWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAia2V5SW5kZXgiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiaW5kZXggb2YgW0tFWV0gaW4gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJrZXkiIH0sCiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyJrZXkiOiJ2YWx1ZSJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0RW50cnkiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogImdldCBbS0VZXSBlbnRyeSBmcm9tIFtPQkpdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgS0VZOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAia2V5IiB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjoidmFsdWUifWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImV4dHJhY3RKc29uIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJhbGwgW1RZUEVdIGZyb20gW09CSl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIk9CSl9FWFRSQUNUIiB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjoidmFsdWUiLCJrZXkyIjoidmFsdWUyIn1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtZXJnZUpzb24iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogIm1lcmdlIFtPQkoxXSBhbmQgW09CSjJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT0JKMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjoidmFsdWUifWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgT0JKMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5MiI6InZhbHVlMiJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJqc29uTWFwIiwgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJtYXAgW09CSl0gdXNpbmcgcnVsZSBbSU5EXSBbVkFMXSBbSU1HXSBbVkFMVUVdIiwgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBPQko6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIElORDoge30sIFZBTDoge30sCiAgICAgICAgICAgICAgVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIElNRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5JTUFHRSwgZGF0YVVSSTogYXJyb3dVUkkgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5YTUwsCiAgICAgICAgICAgIHhtbDogYAogICAgICAgICAgICAgIDxibG9jayB0eXBlPSJTUGpzb25fanNvbk1hcCI+CiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iT0JKIj48c2hhZG93IHR5cGU9InRleHQiPjxmaWVsZCBuYW1lPSJURVhUIj57ImtleSI6InZhbHVlIn08L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iSU5EIj48c2hhZG93IHR5cGU9IlNQanNvbl9vYmpLZXkiPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iVkFMIj48c2hhZG93IHR5cGU9IlNQanNvbl9vYmpWYWx1ZSI+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJWQUxVRSI+PHNoYWRvdyB0eXBlPSJ0ZXh0Ij48ZmllbGQgbmFtZT0iVEVYVCI+dmFsdWUtMjwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICA8L2Jsb2NrPmAKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJBcnJheXMiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclZhbGlkIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiAiaXMgYXJyYXkgW0FSUl0gdmFsaWQ/IiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiLCAiYyJdYCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyckJ1aWxkZXIiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogIu+8uyBbVkFMXSDvvL0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBWQUw6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJ2YWx1ZSIsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyQWRkIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYmxvY2tTaGFwZTogU2NyYXRjaC5CbG9ja1NoYXBlLlNRVUFSRSwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJhZGQgW0lURU1dIHRvIFtBUlJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSVRFTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogInRoaW5nIiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJbXSIsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyckluc2VydCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiaW5zZXJ0IFtJVEVNXSBhdCBbSU5EXSBpbiBbQVJSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElURU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiIiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBJTkQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDIgfSwKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGBbImEiLCAiYyJdYCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyUmVwbGFjZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAicmVwbGFjZSBpdGVtIFtJTkRdIHdpdGggW0lURU1dIGluIFtBUlJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSU5EOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAxIH0sCiAgICAgICAgICAgICAgSVRFTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImEiLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIEFSUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsieiIsICJiIiwgImMiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclN3YXAiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogInN3YXAgaXRlbSBbSU5EMV0gd2l0aCBpdGVtIFtJTkQyXSBpbiBbQVJSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElORDE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgICAgICAgICAgICBJTkQyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAzIH0sCiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiLCAiYyJdYCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyRGVsZXRlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYmxvY2tTaGFwZTogU2NyYXRjaC5CbG9ja1NoYXBlLlNRVUFSRSwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJkZWxldGUgaXRlbSBbSU5EXSBpbiBbQVJSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElORDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICAgICAgICAgIEFSUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsiYSIsICJiIiwgImMiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyckdldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiaXRlbSBbSU5EXSBpbiBbQVJSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElORDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMSB9LAogICAgICAgICAgICAgIEFSUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsiYSIsICJiIiwgImMiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclNsaWNlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYmxvY2tTaGFwZTogU2NyYXRjaC5CbG9ja1NoYXBlLlNRVUFSRSwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJpdGVtcyBbSU5EMV0gdG8gW0lORDJdIGluIFtBUlJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSU5EMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMiB9LAogICAgICAgICAgICAgIElORDI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDMgfSwKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGBbImEiLCAiYiIsICJjIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhcnJMZW5ndGgiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICB0ZXh0OiAibGVuZ3RoIG9mIFtBUlJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiLCAiYyJdYCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJpdGVtRXhpc3RzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiAiW0FSUl0gY29udGFpbnMgW0lURU1dID8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGBbImEiLCAiYiIsICJjIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIElURU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiIiwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyTWF0Y2hlcyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIHRleHQ6ICIjIG9mIHRpbWVzIFtJVEVNXSBhcHBlYXJzIGluIFtBUlJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSVRFTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImEiIH0sCiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiLCAiYiIsICJhIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhcnJDb250YWluZXJzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYmxvY2tTaGFwZTogU2NyYXRjaC5CbG9ja1NoYXBlLlNRVUFSRSwKICAgICAgICAgICAgdGV4dDogIiMgb2YgaXRlbXMgY29udGFpbmluZyBbVEVTVEVSXSBpbiBbQVJSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRFU1RFUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImEiIH0sCiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImFiIiwgImJhIiwgImJiIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJpdGVtSW5kZXgiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogImluZGV4ICMgW0lORF0gb2YgaXRlbSBbSVRFTV0gaW4gW0FSUl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJTkQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgICAgICAgICAgICBJVEVNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYSIgfSwKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGBbImEiLCAiYiIsICJiIiwgImEiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibWVyZ2VBcnJheSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAibWVyZ2UgYXJyYXkgW0FSUjFdIGFuZCBbQVJSMl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBBUlIxOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgQVJSMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsiYyIsICJkIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZXBlYXRBcnJheSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAicmVwZWF0IGFycmF5IFtBUlJdIFtOVU1dIHRpbWVzIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgWyJhIiwgImIiXWAsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgTlVNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAzIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZpbGxBcnJheSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiZmlsbCBhcnJheSBbQVJSXSB0byBsZW5ndGggW05VTV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBBUlI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGBbImEiLCAiYiJdYCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBOVU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyT3JkZXIiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogIm9yZGVyIFtBUlJdIGJ5IFtPUkRFUkVSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEFSUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYFsiMiIsICJpdGVtMSIsICIxIiwgIml0ZW0xMiIsICIxIl1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIE9SREVSRVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiT1JERVJJTkciIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhcnJDaGVjayIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJjaGVjayBbQVJSXSBpZiBbVFlQRV0gaXRlbSBbSU5EXSBbVkFMXSBbSU1HXSBbQk9PTF0iLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQVJSQVlfQ0hFQ0siIH0sCiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBJTkQ6IHt9LCBWQUw6IHt9LCBCT09MOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLkJPT0xFQU4gfSwKICAgICAgICAgICAgICBJTUc6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuSU1BR0UsIGRhdGFVUkk6IGFycm93VVJJIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyck1hcCIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIHRleHQ6ICJtYXAgW0FSUl0gdXNpbmcgcnVsZSBbSU5EXSBbVkFMXSBbSU1HXSBbVkFMVUVdIiwgaGlkZUZyb21QYWxldHRlOiB0cnVlLCBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgQVJSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBJTkQ6IHt9LCBWQUw6IHt9LAogICAgICAgICAgICAgIFZBTFVFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgICBJTUc6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuSU1BR0UsIGRhdGFVUkk6IGFycm93VVJJIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclZhbHVlQSIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJ2YWx1ZSBBIiwgY29sb3IxOiAiIzY3N2NkNiIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclZhbHVlQiIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJ2YWx1ZSBCIiwgY29sb3IxOiAiIzY3N2NkNiIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFyclNvcnQiLCBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLCBibG9ja1NoYXBlOiBTY3JhdGNoLkJsb2NrU2hhcGUuU1FVQVJFLAogICAgICAgICAgICB0ZXh0OiAic29ydCBbQVJSXSB1c2luZyBydWxlIFtBXSBbQl0gW0lNR10gW1ZBTFVFXSIsIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEFSUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgQToge30sIEI6IHt9LAogICAgICAgICAgICAgIFZBTFVFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9LAogICAgICAgICAgICAgIElNRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5JTUFHRSwgZGF0YVVSSTogYXJyb3dVUkkgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5YTUwsCiAgICAgICAgICAgIHhtbDogYAogICAgICAgICAgICAgIDxibG9jayB0eXBlPSJTUGpzb25fYXJyQ2hlY2siPgogICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9IlRZUEUiPmV2ZXJ5PC9maWVsZD4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJBUlIiPjxzaGFkb3cgdHlwZT0idGV4dCI+PGZpZWxkIG5hbWU9IlRFWFQiPlsiYSIsICJiIiwgImMiXTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJJTkQiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29iaktleSI+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJWQUwiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29ialZhbHVlIj48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgIDwvYmxvY2s+CiAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9IlNQanNvbl9hcnJNYXAiPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9IkFSUiI+PHNoYWRvdyB0eXBlPSJ0ZXh0Ij48ZmllbGQgbmFtZT0iVEVYVCI+WyJhIiwgImIiLCAiYyJdPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9IklORCI+PHNoYWRvdyB0eXBlPSJTUGpzb25fb2JqS2V5Ij48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9IlZBTCI+PHNoYWRvdyB0eXBlPSJTUGpzb25fb2JqVmFsdWUiPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iVkFMVUUiPjxzaGFkb3cgdHlwZT0idGV4dCI+PGZpZWxkIG5hbWU9IlRFWFQiPmQ8L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgPC9ibG9jaz4KICAgICAgICAgICAgICA8YmxvY2sgdHlwZT0iU1Bqc29uX2FyclNvcnQiPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9IkFSUiI+PHNoYWRvdyB0eXBlPSJ0ZXh0Ij48ZmllbGQgbmFtZT0iVEVYVCI+WzEsIDIsIDNdPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9IkEiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX2FyclZhbHVlQSI+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJCIj48c2hhZG93IHR5cGU9IlNQanNvbl9hcnJWYWx1ZUIiPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iVkFMVUUiPjxzaGFkb3cgdHlwZT0idGV4dCI+PGZpZWxkIG5hbWU9IlRFWFQiPjwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICA8L2Jsb2NrPmAKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJVdGlsaXRpZXMiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImpzb25WYWxpZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogImlzIEpTT04gW09CSl0gdmFsaWQ/IiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyJrZXkiOiJ2YWx1ZSJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInBhcnNlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogInBhcnNlIFtPQkpdIiwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogYHsia2V5IjogInZhbHVlIn1gLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJjbG9uZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJjb3B5IFtPQkpdIHRvIG5ldyIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBPQko6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IGB7ImtleSI6ICJ2YWx1ZSJ9YCwgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiY29udmVydCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJbT0JKXSB0byBbVFlQRV0iLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAie30iLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQ09OVkVSVFMiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAianNvbk1ha2UiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBhbGxvd0Ryb3BBbnl3aGVyZTogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogIltUWFRdIHNwbGl0IGJ5IFtTUExJVF0gd2l0aCBkZWxpbWl0ZXIgW0RFTElNXSB0byBKU09OIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFhUOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYToxLGI6MixjOjMiIH0sCiAgICAgICAgICAgICAgU1BMSVQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICIsIiB9LAogICAgICAgICAgICAgIERFTElNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiOiIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXJyTWFrZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGJsb2NrU2hhcGU6IFNjcmF0Y2guQmxvY2tTaGFwZS5TUVVBUkUsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiW1RYVF0gc3BsaXQgYnkgW1NQTElUXSB0byBbVFlQRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWFQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJhLGIsYyIsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgU1BMSVQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICIsIiB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQ09OVkVSVFMyIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogIm9iaktleSIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJrZXkiLCBjb2xvcjE6ICIjNjc3Y2Q2IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAib2JqVmFsdWUiLCBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IHRydWUsIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAidmFsdWUiLCBjb2xvcjE6ICIjNjc3Y2Q2IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZmlsdGVyIiwgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT05ESVRJT05BTCwgYnJhbmNoQ291bnQ6IC0xLCAvLyBkZXByZWNhdGVkCiAgICAgICAgICAgIHRleHQ6ICJpbiB0aHJlYWQgW1RZUEVdIFtPQkpdIGJ5IFtJTkRdIFtWQUxdIFtJTUddIFtCT09MXSIsIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJDVVNUX09SREVSIiB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgSU5EOiB7fSwgVkFMOiB7fSwgQk9PTDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5CT09MRUFOIH0sCiAgICAgICAgICAgICAgSU1HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLklNQUdFLCBkYXRhVVJJOiBhcnJvd1VSSSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmaWx0ZXJSZXN1bHQiLCBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLCAvLyBkZXByZWNhdGVkCiAgICAgICAgICAgIGRpc2FibGVNb25pdG9yOiB0cnVlLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsIHRleHQ6ICJ0aHJlYWQgZmlsdGVyIHJlc3VsdCIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZpbHRlck5ldyIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAiW1RZUEVdIFtPQkpdIGJ5IFtJTkRdIFtWQUxdIFtJTUddIFtCT09MXSIsIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJDVVNUX09SREVSIiB9LAogICAgICAgICAgICAgIE9CSjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0sCiAgICAgICAgICAgICAgSU5EOiB7fSwgVkFMOiB7fSwgQk9PTDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5CT09MRUFOIH0sCiAgICAgICAgICAgICAgSU1HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLklNQUdFLCBkYXRhVVJJOiBhcnJvd1VSSSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmb3JFYWNoIiwgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MT09QLAogICAgICAgICAgICB0ZXh0OiAiZm9yIGVhY2ggW0lORF0gW1ZBTF0gaW4gW09CSl0iLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElORDoge30sIFZBTDoge30sCiAgICAgICAgICAgICAgT0JKOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZXhlbXB0RnJvbU5vcm1hbGl6YXRpb246IHRydWUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5YTUwsCiAgICAgICAgICAgIHhtbDogYAogICAgICAgICAgICAgIDxibG9jayB0eXBlPSJTUGpzb25fZmlsdGVyTmV3Ij4KICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPSJUWVBFIj5maWx0ZXI8L2ZpZWxkPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9Ik9CSiI+PHNoYWRvdyB0eXBlPSJ0ZXh0Ij48ZmllbGQgbmFtZT0iVEVYVCI+eyJKU09OIjoib3IgYXJyYXkifTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJJTkQiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29iaktleSI+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJWQUwiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29ialZhbHVlIj48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgIDwvYmxvY2s+CiAgICAgICAgICAgICAgPHNlcCBnYXA9IjM2Ij48L3NlcD4KICAgICAgICAgICAgICA8YmxvY2sgdHlwZT0iU1Bqc29uX2ZvckVhY2giPgogICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9Ik9CSiI+PHNoYWRvdyB0eXBlPSJ0ZXh0Ij48ZmllbGQgbmFtZT0iVEVYVCI+eyJKU09OIjoib3IgYXJyYXkifTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJJTkQiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29iaktleSI+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJWQUwiPjxzaGFkb3cgdHlwZT0iU1Bqc29uX29ialZhbHVlIj48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgIDwvYmxvY2s+YAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRSYXdWYXJWYWx1ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNldCBbVFlQRV0gbmFtZWQgW05BTUVdIHRvIFtWQUxVRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlZBUl9UWVBFIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfSwKICAgICAgICAgICAgICBWQUxVRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJhd1ZhclZhbHVlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYWxsb3dEcm9wQW55d2hlcmU6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICJnZXQgcmF3IFtUWVBFXSBuYW1lZCBbTkFNRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlZBUl9UWVBFIiB9LAogICAgICAgICAgICAgIE5BTUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJteSB2YXJpYWJsZSIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogIlNhZmV0eSBTZXR0aW5ncyIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgZnVuYzogIm9wdGltaXplV2FybiIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQlVUVE9OLAogICAgICAgICAgICB0ZXh0OiAiT3B0aW1pemF0aW9uIFdhcm5pbmciCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJpc1NldHRpbmdPbiIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogImlzIFtUSElOR10gZW5hYmxlZD8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUSElORzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJTRVRUSU5HUyIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidG9nZ2xlU2V0dGluZyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNldCBbVEhJTkddIHRvIFtUWVBFXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRISU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlNFVFRJTkdTIiB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVE9HR0xFUiIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgbWVudXM6IHsKICAgICAgICAgIFRPR0dMRVI6IFsiZW5hYmxlZCIsICJkaXNhYmxlZCJdLAogICAgICAgICAgQ1VTVF9PUkRFUjogWyJmaWx0ZXIiLCAib3JkZXIiXSwKICAgICAgICAgIEFSUkFZX0NIRUNLOiBbImV2ZXJ5IiwgInNvbWUiXSwKICAgICAgICAgIFZBUl9UWVBFOiBbInZhcmlhYmxlIiwgImxpc3QiXSwKICAgICAgICAgIE9CSl9FWFRSQUNUOiB7IGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwgaXRlbXM6IFsia2V5cyIsICJ2YWx1ZXMiXSB9LAogICAgICAgICAgQ09OVkVSVFM6IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogWyJzdHJpbmciLCAicHJldHR5IHN0cmluZyIsICJhcnJheSIsICJKU09OIl0gfSwKICAgICAgICAgIENPTlZFUlRTMjogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiBbImFycmF5IiwgInRleHQiXSB9LAogICAgICAgICAgU0VUVElOR1M6IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogdGhpcy5zZXR0aW5ncyB9LAogICAgICAgICAgT1JERVJJTkc6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgICJyYW5kb20iLCAicmV2ZXJzZSIsICJhc2NlbmRpbmciLCAiZGVzY2VuZGluZyIsCiAgICAgICAgICAgICAgImFzY2VuZGluZyBieSBsZW5ndGgiLCAiZGVzY2VuZGluZyBieSBsZW5ndGgiLAogICAgICAgICAgICAgICJBLXoiLCAiei1BIiwgIm1vc3QgY29tbW9uIiwgImxlYXN0IGNvbW1vbiIKICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH07CiAgICB9CgogICAgLy8gSGVscGVyIEZ1bmNzCiAgICBpbml0UGFyc2VyKCkgewogICAgICAvLyBkeW5hbWljYWxseSBjcmVhdGUgJ3RyeVBhcnNlJyBzbyBpdHMgYXMgZmFzdCBhcyBwb3NzaWJsZSwgbm8gbmVlZCBmb3IgdW51c2VkIGNoZWNrcwogICAgICBjb25zdCBmaXhlZENsb25lID0gKG9iaikgPT4gewogICAgICAgIHRyeSB7IHJldHVybiBzdHJ1Y3R1cmVkQ2xvbmUob2JqKSB9IGNhdGNoIHsgcmV0dXJuIG9iaiB9CiAgICAgIH07CgogICAgICBpZiAoIXRoaXMuYWx3YXlzVHJ5UGFyc2UpIHJldHVybiB0aGlzLnRyeVBhcnNlID0gKG9iaikgPT4gb2JqOwoKICAgICAgaWYgKHRoaXMudXNlTmV3T2JqICYmIHRoaXMuYWx3YXlzUGFyc2UpIHsKICAgICAgICB0aGlzLnRyeVBhcnNlID0gKG9iaiwgb3B0VHlwZSkgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICAob3B0VHlwZSA9PT0gMSAmJiBBcnJheS5pc0FycmF5KG9iaikpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSAwICYmIG9iai5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCIpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpCiAgICAgICAgICApIHJldHVybiBmaXhlZENsb25lKG9iaik7CiAgICAgICAgICBjb25zdCBkZWZhdWx0ViA9IG9wdFR5cGUgPT09IHVuZGVmaW5lZCA/IG9iaiA6IG9wdFR5cGUgPT09IDAgPyB7fSA6IFtdOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShvYmopOwogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIChvcHRUeXBlID09PSAxICYmIEFycmF5LmlzQXJyYXkocGFyc2VkKSkgfHwKICAgICAgICAgICAgICAob3B0VHlwZSA9PT0gMCAmJiBwYXJzZWQuY29uc3RydWN0b3I/Lm5hbWUgPT09ICJPYmplY3QiKSB8fAogICAgICAgICAgICAgIG9wdFR5cGUgPT09IHVuZGVmaW5lZAogICAgICAgICAgICApID8gcGFyc2VkIDogZGVmYXVsdFY7CiAgICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMudXNlTmV3T2JqICYmIHRoaXMuYWx3YXlzUGFyc2UpIHsKICAgICAgICB0aGlzLnRyeVBhcnNlID0gKG9iaiwgb3B0VHlwZSkgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICAob3B0VHlwZSA9PT0gMSAmJiBBcnJheS5pc0FycmF5KG9iaikpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSAwICYmIG9iai5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCIpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpCiAgICAgICAgICApIHJldHVybiBvYmo7CiAgICAgICAgICBjb25zdCBkZWZhdWx0ViA9IG9wdFR5cGUgPT09IHVuZGVmaW5lZCA/IG9iaiA6IG9wdFR5cGUgPT09IDAgPyB7fSA6IFtdOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShvYmopOwogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIChvcHRUeXBlID09PSAxICYmIEFycmF5LmlzQXJyYXkocGFyc2VkKSkgfHwKICAgICAgICAgICAgICAob3B0VHlwZSA9PT0gMCAmJiBwYXJzZWQuY29uc3RydWN0b3I/Lm5hbWUgPT09ICJPYmplY3QiKSB8fAogICAgICAgICAgICAgIG9wdFR5cGUgPT09IHVuZGVmaW5lZAogICAgICAgICAgICApID8gcGFyc2VkIDogZGVmYXVsdFY7CiAgICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy51c2VOZXdPYmogJiYgIXRoaXMuYWx3YXlzUGFyc2UpIHsKICAgICAgICB0aGlzLnRyeVBhcnNlID0gKG9iaiwgb3B0VHlwZSkgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICAob3B0VHlwZSA9PT0gMSAmJiBBcnJheS5pc0FycmF5KG9iaikpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSAwICYmIG9iai5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCIpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpCiAgICAgICAgICApIHJldHVybiBmaXhlZENsb25lKG9iaik7CiAgICAgICAgICByZXR1cm4gb3B0VHlwZSA9PT0gdW5kZWZpbmVkID8gb2JqIDogb3B0VHlwZSA9PT0gMCA/IHt9IDogW107CiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy51c2VOZXdPYmogJiYgIXRoaXMuYWx3YXlzUGFyc2UpIHsKICAgICAgICB0aGlzLnRyeVBhcnNlID0gKG9iaiwgb3B0VHlwZSkgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICAob3B0VHlwZSA9PT0gMSAmJiBBcnJheS5pc0FycmF5KG9iaikpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSAwICYmIG9iai5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCIpIHx8CiAgICAgICAgICAgIChvcHRUeXBlID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpCiAgICAgICAgICApIHJldHVybiBvYmo7CiAgICAgICAgICByZXR1cm4gb3B0VHlwZSA9PT0gdW5kZWZpbmVkID8gb2JqIDogb3B0VHlwZSA9PT0gMCA/IHt9IDogW107CiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KCiAgICB0cnlQYXJzZShvYmosIG9wdFR5cGUpIHsgLyogZHluYW1pY2FsbHkgY29uc3RydWN0ZWQgKi8gfQoKICAgIHRvQXJySW5kKG51bSkgeyByZXR1cm4gQ2FzdC50b051bWJlcihudW0pIC0gMSB9CgogICAgdG9TYWZlKHZhbCkgewogICAgICBpZiAodGhpcy5hbHdheXNDYXN0KSB7CiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICJvYmplY3QiKSByZXR1cm4gdmFsOwogICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA9PT0gSW5maW5pdHkgfHwgdmFsID09PSAtSW5maW5pdHkpIHJldHVybiBDYXN0LnRvU3RyaW5nKHZhbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICByZXBvcnRlcllpZWxkKHV0aWwsIHdhc0NvbXBpbGVkKSB7CiAgICAgIGxldCB0aGlzQmxvY2sgPSB1dGlsLnRocmVhZC5ibG9ja0NvbnRhaW5lci5nZXRCbG9jaygKICAgICAgICB3YXNDb21waWxlZCA/IHV0aWwudGhyZWFkLnBlZWtTdGFjaygpIDogdXRpbC50aHJlYWQucGVla1N0YWNrRnJhbWUoKS5vcD8uaWQKICAgICAgKTsKICAgICAgaWYgKCF0aGlzQmxvY2spIHRoaXNCbG9jayA9IHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLm15SUQ7CiAgICAgIGlmICghdGhpc0Jsb2NrKSByZXR1cm4gdHJ1ZTsgLy8gYWJvcnQhCgogICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5teUlEID0gdGhpc0Jsb2NrOwogICAgICB1dGlsLnRocmVhZC5wZWVrU3RhY2tGcmFtZSgpLmlzTG9vcCA9IHRydWU7CgogICAgICBjb25zdCBwdXNoQmxvY2sgPSB0aGlzQmxvY2suaW5wdXRzLkJPT0w/LmJsb2NrIHx8IHRoaXNCbG9jay5pbnB1dHMuVkFMVUU/LmJsb2NrOwogICAgICBpZiAocHVzaEJsb2NrKSB1dGlsLnRocmVhZC5wdXNoU3RhY2socHVzaEJsb2NrKTsKICAgICAgdXRpbC55aWVsZCgpOwogICAgfQoKICAgIGZpbHRlckhhbmRsZXIoYXJncywgdXRpbCwgZmluaXNoRnVuYywgeWllbGRGdW5jLCBvcHRJbml0WWllbGQpIHsKICAgICAgY29uc3QgaGFuZGxlQ29uID0gKGlzQXJyYXksIGl0ZW0pID0+IHsKICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjsKICAgICAgICBjb25zdCB0aGluZyA9IGlzQXJyYXkgPyBpdGVtWzFdIHx8ICIiIDogaXRlbSB8fCB7fTsKICAgICAgICBpZiAoYXJncy5CT09MKSB1dGlsLnN0YWNrRnJhbWUubmV3T2JqLnVuc2hpZnQodGhpbmcpOwogICAgICAgIGVsc2UgaWYgKGFyZ3MuVFlQRSA9PT0gIm9yZGVyIikgdXRpbC5zdGFja0ZyYW1lLm5ld09iai5wdXNoKHRoaW5nKTsKICAgICAgfTsKICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zdCBwYXJzZSA9IHRoaXMudHJ5UGFyc2UoYXJncy5PQkopOwogICAgICAgIGNvbnN0IGVudHJ5ID0gT2JqZWN0LmVudHJpZXMocGFyc2UpOwogICAgICAgIGlmIChlbnRyeS5sZW5ndGggPT09IDApIHJldHVybiBwYXJzZTsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUubmV3T2JqID0gW107CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSB0cnVlOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5lbnRyeSA9IGVudHJ5OwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5pbmRleCA9IGVudHJ5Lmxlbmd0aDsKICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheShwYXJzZSk7CiAgICAgICAgLy8gSW5pdGlhbGl6ZSBKU09OIGluIHN0YWNrZnJhbWVzCiAgICAgICAgaWYgKCFvcHRJbml0WWllbGQpIHlpZWxkRnVuYyh1dGlsKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IG9wdEluaXRZaWVsZCh1dGlsKTsKICAgICAgICAgIGlmIChzdGF0dXMgPT09IHRydWUpIHJldHVybiBBcnJheS5pc0FycmF5KHBhcnNlKSA/IFtdIDoge307CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsgaW5kZXgsIGVudHJ5IH0gPSB1dGlsLnN0YWNrRnJhbWU7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSAiZG9uZSI7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb24gPSBlbnRyeVtpbmRleCAtIDFdOwogICAgICAgICAgaGFuZGxlQ29uKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLmlzQXJyYXksIGVudHJ5W2luZGV4XSk7CiAgICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXgtLTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID09PSAiZG9uZSIpIHJldHVybiBmaW5pc2hGdW5jKHV0aWwpOwogICAgICBlbHNlIHlpZWxkRnVuYyh1dGlsKTsKICAgIH0KCiAgICAvLyBCdXR0b25zIGFuZCBTZXR0aW5ncwogICAgd2FybigpIHsKICAgICAgd2luZG93LmFsZXJ0KFsKICAgICAgICAiVGhpcyBleHRlbnNpb24gaXMgZmFzdCBiZWNhdXNlIGl0IHdvcmtzIHdpdGggcmF3IG9iamVjdHMgaW5zdGVhZCBvZiByZXBlYXRlZGx5IHBhcnNpbmcgdGhlbS4iLAogICAgICAgICJIb3dldmVyLCB0aGlzIG1heSBsZWFkIHRvIGNvbmZ1c2lvbiBvciBpbmNvcnJlY3QgYXNzdW1wdGlvbnMgdGhhdCBjZXJ0YWluIGJlaGF2aW9ycyBhcmUgYnVncy4iLAogICAgICAgICJGb3IgZXhhbXBsZSwgaXQncyBpbnRlbnRpb25hbCB0aGF0IHRleHQtYmFzZWQgY29tcG9uZW50cyBtYXkgbm90IHByb3Blcmx5IGRpc3BsYXkgd2hlbiBoYW5kbGluZyByYXcgb2JqZWN0cy4iLAogICAgICAgICJUbyByZXNvbHZlIHRoaXMsIHNpbXBseSB1c2UgdGhlICgoe30pIHRvIChzdHJpbmcgdikpIGJsb2NrIHRvIGNvbnZlcnQgdGhlIG9iamVjdCB0byBhIHN0cmluZy4iCiAgICAgIF0uam9pbigiXG5cbiIpKTsKICAgIH0KCiAgICBvcHRpbWl6ZVdhcm4oKSB7CiAgICAgIHdpbmRvdy5hbGVydCgiRGlzYWJsaW5nIHRoZXNlIFNldHRpbmdzIGNhbiBpbXByb3ZlIHBlcmZvcm1hbmNlLCBidXQgbWF5IGxlYWQgdG8gdW5leHBlY3RlZCBidWdzIG9yIGlzc3VlcyIpOwogICAgfQoKICAgIHRvZ2dsZVNldHRpbmcoYXJncykgewogICAgICBjb25zdCBvcHQgPSB0aGlzLnNldHRpbmdzLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSBhcmdzLlRISU5HKT8udmFsdWU7CiAgICAgIGlmIChvcHQpIHsKICAgICAgICB0aGlzW29wdF0gPSBhcmdzLlRZUEUgPT09ICJlbmFibGVkIjsKICAgICAgICB0aGlzLmluaXRQYXJzZXIoKTsKICAgICAgfQogICAgfQoKICAgIGlzU2V0dGluZ09uKGFyZ3MpIHsKICAgICAgY29uc3Qgb3B0ID0gdGhpcy5zZXR0aW5ncy5maW5kKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gYXJncy5USElORyk/LnZhbHVlOwogICAgICByZXR1cm4gb3B0ID8gdGhpc1tvcHRdIDogZmFsc2U7CiAgICB9CgogICAgLy8gSlNPTiBGdW5jcwogICAgb2JqVmFsaWQoYXJncykgewogICAgICBjb25zdCBvYmogPSB0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKKTsKICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICJvYmplY3QiICYmIG9iai5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gIk9iamVjdCI7CiAgICB9CgogICAganNvbkJ1aWxkZXIoYXJncykgeyByZXR1cm4geyBbYXJncy5LRVldIDogdGhpcy50b1NhZmUoYXJncy5WQUwpIH0gfQoKICAgIGdldEtleShhcmdzKSB7CiAgICAgIGNvbnN0IG9iaiA9IHRoaXMudHJ5UGFyc2UoYXJncy5PQkosIDApOwogICAgICBjb25zdCBrZXkgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuS0VZKTsKICAgICAgaWYgKGhhc093bihvYmosIGtleSkpIHJldHVybiBvYmpba2V5XSA/PyAiIjsKICAgICAgcmV0dXJuICIiOwogICAgfQoKICAgIGdldFBhdGgoYXJncykgewogICAgICBjb25zdCBwYXRoID0gdGhpcy50cnlQYXJzZShhcmdzLlBBVEgsIDEpOwogICAgICBsZXQgdmFsID0gdGhpcy50cnlQYXJzZShhcmdzLk9CSiwgMCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGtleSA9IENhc3QudG9TdHJpbmcocGF0aFtpXSk7CiAgICAgICAgaWYgKGhhc093bih2YWwsIGtleSkpIHZhbCA9IHZhbFtrZXldOwogICAgICAgIGVsc2UgdmFsID0gdW5kZWZpbmVkOwogICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFsID0gIiI7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbCA/PyAiIjsKICAgIH0KCiAgICBzZXRLZXkoYXJncykgewogICAgICBjb25zdCBvYmogPSB0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKLCAwKTsKICAgICAgb2JqW0Nhc3QudG9TdHJpbmcoYXJncy5LRVkpXSA9IHRoaXMudG9TYWZlKGFyZ3MuVkFMKTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KCiAgICBzZXRQYXRoKGFyZ3MpIHsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMudHJ5UGFyc2UoYXJncy5QQVRILCAxKTsKICAgICAgbGV0IG9iaiA9IHRoaXMudHJ5UGFyc2UoYXJncy5PQkosIDApOwogICAgICBwYXRoLnJlZHVjZSgoYWNjLCBwYXJ0LCBpKSA9PiB7CiAgICAgICAgaWYgKGkgPT09IHBhdGgubGVuZ3RoIC0gMSkgYWNjW3BhcnRdID0gdGhpcy50b1NhZmUoYXJncy5WQUwpOwogICAgICAgIGVsc2UgYWNjW3BhcnRdID0gYWNjW3BhcnRdIHx8IHt9OwogICAgICAgIHJldHVybiBhY2NbcGFydF07CiAgICAgIH0sIG9iaik7CiAgICAgIHJldHVybiBvYmo7CiAgICB9CgogICAgZGVsZXRlS2V5KGFyZ3MpIHsKICAgICAgY29uc3Qgb2JqID0gdGhpcy50cnlQYXJzZShhcmdzLk9CSiwgMCk7CiAgICAgIGRlbGV0ZSBvYmpbQ2FzdC50b1N0cmluZyhhcmdzLktFWSldOwogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIGpzb25TaXplKGFyZ3MpIHsgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJ5UGFyc2UoYXJncy5PQkosIDApKS5sZW5ndGggfQoKICAgIGtleUluZGV4KGFyZ3MpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJ5UGFyc2UoYXJncy5PQkosIDApKQogICAgICAgIC5pbmRleE9mKENhc3QudG9TdHJpbmcoYXJncy5LRVkpKSArIDE7CiAgICB9CgogICAgZ2V0RW50cnkoYXJncykgewogICAgICBjb25zdCBvYmogPSB0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKLCAwKTsKICAgICAgY29uc3Qga2V5ID0gQ2FzdC50b1N0cmluZyhhcmdzLktFWSk7CiAgICAgIGlmIChoYXNPd24ob2JqLCBrZXkpKSByZXR1cm4geyBba2V5XSA6IG9ialtrZXldIH0gfHwge307CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICBleHRyYWN0SnNvbihhcmdzKSB7CiAgICAgIHJldHVybiBPYmplY3RbYXJncy5UWVBFID09PSAia2V5cyIgPyAia2V5cyIgOiAidmFsdWVzIl0odGhpcy50cnlQYXJzZShhcmdzLk9CSiwgMCkpOwogICAgfQoKICAgIG1lcmdlSnNvbihhcmdzKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4udGhpcy50cnlQYXJzZShhcmdzLk9CSjEsIDApLCAuLi50aGlzLnRyeVBhcnNlKGFyZ3MuT0JKMiwgMCkKICAgICAgfQogICAgfQoKICAgIGpzb25NYXAoYXJncywgdXRpbCkgewogICAgICBpZiAodXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKLCAwKSk7CiAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gW107CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSB0cnVlOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5lbnRyaWVzID0gZW50cmllczsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXggPSBlbnRyaWVzLmxlbmd0aCAtIDE7CiAgICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQd2FzQ29tcGlsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZCA9IHV0aWwudGhyZWFkLmlzQ29tcGlsZWQ7CiAgICAgICAgICB1dGlsLnRocmVhZC5pc0NvbXBpbGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHlpZWxkRmFpbCA9IHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsLCB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkKTsgLy8gSW5pdGlhbGl6ZSBKU09OIGluIHN0YWNrZnJhbWVzCiAgICAgICAgaWYgKHlpZWxkRmFpbCA9PT0gdHJ1ZSkgcmV0dXJuIHt9OwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsgaW5kZXgsIGVudHJpZXMgfSA9IHV0aWwuc3RhY2tGcmFtZTsKICAgICAgICBpZiAoaW5kZXggPCAwKSB1dGlsLnN0YWNrRnJhbWUuZXhlY3V0ZSA9ICJkb25lIjsKICAgICAgICBlbHNlIGlmIChlbnRyaWVzW2luZGV4XSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25zdCBmaXhlZGluZGV4ID0gaW5kZXggLSAxIDwgMCA/IGVudHJpZXMubGVuZ3RoIC0gMSA6IGluZGV4IC0gMTsKICAgICAgICAgIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQanNvbiA9IGVudHJpZXNbaW5kZXhdOwogICAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmVudHJpZXNbZml4ZWRpbmRleF1bMV0gPSBhcmdzLlZBTFVFOwogICAgICAgIH0KICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXgtLTsKICAgICAgfQogICAgICBpZiAodXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPT09ICJkb25lIikgewogICAgICAgIHV0aWwudGhyZWFkLmlzQ29tcGlsZWQgPSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkOwoKICAgICAgICBjb25zdCBmaXhlZEVudHJpZXMgPSB1dGlsLnN0YWNrRnJhbWUuZW50cmllczsKICAgICAgICBmaXhlZEVudHJpZXMudW5zaGlmdChmaXhlZEVudHJpZXMucG9wKCkpOwogICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZml4ZWRFbnRyaWVzKTsKICAgICAgfSBlbHNlIHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsKTsKICAgIH0KCiAgICAvLyBBcnJheSBGdW5jcwogICAgYXJyVmFsaWQoYXJncykgeyByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSKSkgfQoKICAgIGFyckJ1aWxkZXIoYXJncykgeyByZXR1cm4gW3RoaXMudG9TYWZlKGFyZ3MuVkFMKV0gfQoKICAgIGFyckFkZChhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpOwogICAgICBhcnIucHVzaCh0aGlzLnRvU2FmZShhcmdzLklURU0pKTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAgICBhcnJJbnNlcnQoYXJncykgewogICAgICBjb25zdCBhcnIgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgY29uc3QgaW5kID0gTWF0aC5tYXgoMCwgdGhpcy50b0FyckluZChhcmdzLklORCkpOwogICAgICBpZiAoaW5kKSBhcnIuc3BsaWNlKGluZCwgMCwgdGhpcy50b1NhZmUoYXJncy5JVEVNKSk7CiAgICAgIGVsc2UgYXJyLnVuc2hpZnQodGhpcy50b1NhZmUoYXJncy5JVEVNKSk7CiAgICAgIHJldHVybiBhcnI7CiAgICB9CgogICAgYXJyUmVwbGFjZShhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpOwogICAgICBjb25zdCBpbmQgPSB0aGlzLnRvQXJySW5kKGFyZ3MuSU5EKTsKICAgICAgaWYgKGFyci5sZW5ndGggPiBpbmQpIGFycltpbmRdID0gdGhpcy50b1NhZmUoYXJncy5JVEVNKTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAgICBhcnJTd2FwKGFyZ3MpIHsKICAgICAgY29uc3QgYXJyID0gdGhpcy50cnlQYXJzZShhcmdzLkFSUiwgMSk7CiAgICAgIGNvbnN0IGluZDEgPSB0aGlzLnRvQXJySW5kKGFyZ3MuSU5EMSk7CiAgICAgIGNvbnN0IGluZDIgPSB0aGlzLnRvQXJySW5kKGFyZ3MuSU5EMik7CiAgICAgIGNvbnN0IG1heEluZCA9IE1hdGgubWF4KGluZDEsIGluZDIpOwogICAgICB3aGlsZSAoYXJyLmxlbmd0aCA8PSBtYXhJbmQpIGFyci5wdXNoKCIiKTsKCiAgICAgIFthcnJbaW5kMV0sIGFycltpbmQyXV0gPSBbYXJyW2luZDJdLCBhcnJbaW5kMV1dOwogICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIGFyckRlbGV0ZShhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpOwogICAgICBhcnIuc3BsaWNlKHRoaXMudG9BcnJJbmQoYXJncy5JTkQpLCAxKTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAgICBhcnJHZXQoYXJncykgewogICAgICBjb25zdCBhcnIgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgY29uc3QgaW5kID0gdGhpcy50b0FyckluZChhcmdzLklORCk7CiAgICAgIHJldHVybiBhcnJbaW5kID4gLTEgPyBpbmQgOiBpbmQgPCAwID8gYXJyLmxlbmd0aCArIGluZCArIDEgOiAtMV0gPz8gIiI7CiAgICB9CgogICAgYXJyU2xpY2UoYXJncykgewogICAgICByZXR1cm4gdGhpcy50cnlQYXJzZShhcmdzLkFSUiwgMSkuc2xpY2UoCiAgICAgICAgdGhpcy50b0FyckluZChhcmdzLklORDEpLCBDYXN0LnRvTnVtYmVyKGFyZ3MuSU5EMikKICAgICAgKTsKICAgIH0KCiAgICBhcnJMZW5ndGgoYXJncykgeyByZXR1cm4gdGhpcy50cnlQYXJzZShhcmdzLkFSUiwgMSkubGVuZ3RoIH0KCiAgICBpdGVtRXhpc3RzKGFyZ3MpIHsgcmV0dXJuIHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpLmluZGV4T2YodGhpcy50b1NhZmUoYXJncy5JVEVNKSkgPiAtMSB9CgogICAgYXJyTWF0Y2hlcyhhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpOwogICAgICByZXR1cm4gYXJyLmZpbHRlcigoaXRlbSkgPT4gaXRlbSA9PSB0aGlzLnRvU2FmZShhcmdzLklURU0pKS5sZW5ndGg7CiAgICB9CgogICAgYXJyQ29udGFpbmVycyhhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJ5UGFyc2UoYXJncy5BUlIsIDEpOwogICAgICByZXR1cm4gYXJyLmZpbHRlcigoaXRlbSkgPT4gQ2FzdC50b1N0cmluZyhpdGVtKS5pbmNsdWRlcyh0aGlzLnRvU2FmZShhcmdzLlRFU1RFUikpKS5sZW5ndGg7CiAgICB9CgogICAgaXRlbUluZGV4KGFyZ3MpIHsKICAgICAgY29uc3QgYXJyID0gdGhpcy50cnlQYXJzZShhcmdzLkFSUiwgMSk7CiAgICAgIGNvbnN0IGluZCA9IENhc3QudG9OdW1iZXIoYXJncy5JTkQpOwogICAgICBjb25zdCBzYWZlID0gdGhpcy50b1NhZmUoYXJncy5JVEVNKQogICAgICBpZiAoaW5kID09PSAwKSByZXR1cm4gYXJyLmluZGV4T2Yoc2FmZSkgKyAxOyAvLyBTZWNyZXQgQmVoYXZpb3VyCiAgICAgIGVsc2UgewogICAgICAgIGxldCBpbmRleGVzID0gW107CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChhcnJbaV0gPT0gc2FmZSkgaW5kZXhlcy5wdXNoKGkpOwogICAgICAgIH0KICAgICAgICBjb25zdCB2YWwgPSBpbmRleGVzW2luZCAtIDFdICsgMTsKICAgICAgICByZXR1cm4gaXNOYU4odmFsKSA/IDAgOiB2YWw7CiAgICAgIH0KICAgIH0KCiAgICBtZXJnZUFycmF5KGFyZ3MpIHsKICAgICAgcmV0dXJuIHRoaXMudHJ5UGFyc2UoYXJncy5BUlIxLCAxKS5jb25jYXQodGhpcy50cnlQYXJzZShhcmdzLkFSUjIsIDEpKTsKICAgIH0KCiAgICByZXBlYXRBcnJheShhcmdzKSB7CiAgICAgIGNvbnN0IHRpbWVzID0gQ2FzdC50b051bWJlcihhcmdzLk5VTSk7CiAgICAgIHJldHVybiBBcnJheSh0aW1lcykuZmlsbCh0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKSkuZmxhdCgpOwogICAgfQoKICAgIGZpbGxBcnJheShhcmdzKSB7CiAgICAgIGNvbnN0IGxlbmd0aCA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0pOwogICAgICBjb25zdCBhcnIgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgcmV0dXJuIGFyci5jb25jYXQoQXJyYXkoTWF0aC5tYXgoMCwgbGVuZ3RoIC0gYXJyLmxlbmd0aCkpLmZpbGwoIiIpKTsKICAgIH0KCiAgICBhcnJPcmRlcihhcmdzKSB7CiAgICAgIGxldCBhcnIgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgY29uc3Qgc29ydEZyZXEgPSAoYXJyYXksIG1vc3RDb21tKSA9PiB7CiAgICAgICAgY29uc3QgZnJlcU1hcCA9IHt9OwogICAgICAgIGFycmF5LmZvckVhY2goaSA9PiB7IGZyZXFNYXBbaV0gPSAoZnJlcU1hcFtpXSB8fCAwKSArIDEgfSk7CiAgICAgICAgcmV0dXJuIGFycmF5LnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgIGlmIChtb3N0Q29tbSkgcmV0dXJuIGZyZXFNYXBbYl0gLSBmcmVxTWFwW2FdIHx8IGFycmF5LmluZGV4T2YoYSkgLSBhcnJheS5pbmRleE9mKGIpOwogICAgICAgICAgZWxzZSByZXR1cm4gZnJlcU1hcFthXSAtIGZyZXFNYXBbYl0gfHwgYXJyYXkuaW5kZXhPZihhKSAtIGFycmF5LmluZGV4T2YoYik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgc3dpdGNoIChhcmdzLk9SREVSRVIpIHsKICAgICAgICBjYXNlICJyZXZlcnNlIjogcmV0dXJuIGFyci5yZXZlcnNlKCk7CiAgICAgICAgY2FzZSAiYXNjZW5kaW5nIjogcmV0dXJuIGFyci5zb3J0KChhLCBiKSA9PiBhIC0gYik7CiAgICAgICAgY2FzZSAiZGVzY2VuZGluZyI6IHJldHVybiBhcnIuc29ydCgoYSwgYikgPT4gYiAtIGEpOwogICAgICAgIGNhc2UgImRlc2NlbmRpbmcgYnkgbGVuZ3RoIjogcmV0dXJuIGFyci5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKTsKICAgICAgICBjYXNlICJhc2NlbmRpbmcgYnkgbGVuZ3RoIjogcmV0dXJuIGFyci5zb3J0KChhLCBiKSA9PiBhLmxlbmd0aCAtIGIubGVuZ3RoKTsKICAgICAgICBjYXNlICJBLXoiOiByZXR1cm4gYXJyLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSk7CiAgICAgICAgY2FzZSAiei1BIjogcmV0dXJuIGFyci5zb3J0KChhLCBiKSA9PiBiLmxvY2FsZUNvbXBhcmUoYSkpOwogICAgICAgIGNhc2UgIm1vc3QgY29tbW9uIjogcmV0dXJuIHNvcnRGcmVxKGFyciwgdHJ1ZSk7CiAgICAgICAgY2FzZSAibGVhc3QgY29tbW9uIjogcmV0dXJuIHNvcnRGcmVxKGFyciwgZmFsc2UpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOwogICAgICAgICAgICBbYXJyW2ldLCBhcnJbal1dID0gW2FycltqXSwgYXJyW2ldXTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBhcnI7IC8vIHJhbmRvbQogICAgICB9CiAgICB9CgogICAgYXJyQ2hlY2soYXJncywgdXRpbCkgewogICAgICBpZiAodXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IGFycmF5ID0gdGhpcy50cnlQYXJzZShhcmdzLkFSUiwgMSk7CiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5jaGVja3MgPSBbXTsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUuZXhlY3V0ZSA9IHRydWU7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmFycmF5ID0gYXJyYXk7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmluZGV4ID0gYXJyYXkubGVuZ3RoIC0gMTsKICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb24gPSB1bmRlZmluZWQ7CiAgICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQd2FzQ29tcGlsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZCA9IHV0aWwudGhyZWFkLmlzQ29tcGlsZWQ7CiAgICAgICAgICB1dGlsLnRocmVhZC5pc0NvbXBpbGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHlpZWxkRmFpbCA9IHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsLCB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkKTsgLy8gSW5pdGlhbGl6ZSBKU09OIGluIHN0YWNrZnJhbWVzCiAgICAgICAgaWYgKHlpZWxkRmFpbCA9PT0gdHJ1ZSkgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsgaW5kZXgsIGFycmF5IH0gPSB1dGlsLnN0YWNrRnJhbWU7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSAiZG9uZSI7CiAgICAgICAgaWYgKGFycmF5W2luZGV4XSAhPT0gdW5kZWZpbmVkKSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb24gPSBbaW5kZXggKyAxLCBhcnJheVtpbmRleF1dOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5jaGVja3MucHVzaChDYXN0LnRvQm9vbGVhbihhcmdzLkJPT0wpKTsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXgtLTsKCiAgICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID09PSAiZG9uZSIpIHsKICAgICAgICAgIHV0aWwudGhyZWFkLmlzQ29tcGlsZWQgPSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkOwoKICAgICAgICAgIGNvbnN0IGZpeGVkQXJyYXkgPSB1dGlsLnN0YWNrRnJhbWUuY2hlY2tzOwogICAgICAgICAgZml4ZWRBcnJheS5zaGlmdCgpOwogICAgICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImV2ZXJ5IikgcmV0dXJuIGZpeGVkQXJyYXkuaW5kZXhPZihmYWxzZSkgPCAwOwogICAgICAgICAgZWxzZSByZXR1cm4gZml4ZWRBcnJheS5pbmRleE9mKHRydWUpID4gLTE7CiAgICAgICAgfSBlbHNlIHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsKTsKICAgICAgfQogICAgfQoKICAgIGFyck1hcChhcmdzLCB1dGlsKSB7CiAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUuZXhlY3V0ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3QgYXJyYXkgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4gW107CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSB0cnVlOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5hcnJheSA9IGFycmF5OwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5pbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7CiAgICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQd2FzQ29tcGlsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZCA9IHV0aWwudGhyZWFkLmlzQ29tcGlsZWQ7CiAgICAgICAgICB1dGlsLnRocmVhZC5pc0NvbXBpbGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHlpZWxkRmFpbCA9IHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsLCB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkKTsgLy8gSW5pdGlhbGl6ZSBKU09OIGluIHN0YWNrZnJhbWVzCiAgICAgICAgaWYgKHlpZWxkRmFpbCA9PT0gdHJ1ZSkgcmV0dXJuIFtdOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsgaW5kZXgsIGFycmF5IH0gPSB1dGlsLnN0YWNrRnJhbWU7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSAiZG9uZSI7CiAgICAgICAgZWxzZSBpZiAoYXJyYXlbaW5kZXhdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQanNvbiA9IFtpbmRleCArIDEsIGFycmF5W2luZGV4XV07CiAgICAgICAgICB1dGlsLnN0YWNrRnJhbWUuYXJyYXlbaW5kZXhdID0gYXJncy5WQUxVRTsKICAgICAgICB9CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmluZGV4LS07CiAgICAgIH0KICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID09PSAiZG9uZSIpIHsKICAgICAgICB1dGlsLnRocmVhZC5pc0NvbXBpbGVkID0gdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZDsKCiAgICAgICAgY29uc3QgZml4ZWRBcnJheSA9IHV0aWwuc3RhY2tGcmFtZS5hcnJheTsKICAgICAgICBmaXhlZEFycmF5LnVuc2hpZnQoZml4ZWRBcnJheS5wb3AoKSk7CiAgICAgICAgcmV0dXJuIGZpeGVkQXJyYXk7CiAgICAgIH0gZWxzZSB0aGlzLnJlcG9ydGVyWWllbGQodXRpbCk7CiAgICB9CgogICAgYXJyU29ydChhcmdzLCB1dGlsKSB7CiAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUuZXhlY3V0ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3QgYXJyYXkgPSB0aGlzLnRyeVBhcnNlKGFyZ3MuQVJSLCAxKTsKICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4gW107CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSB0cnVlOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5hcnJheSA9IGFycmF5OwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5zb3J0ZWRWYWxzID0ge307CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmkgPSAwOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5qID0gMDsKICAgICAgICBpZiAodXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkID0gdXRpbC50aHJlYWQuaXNDb21waWxlZDsKICAgICAgICAgIHV0aWwudGhyZWFkLmlzQ29tcGlsZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgY29uc3QgeWllbGRGYWlsID0gdGhpcy5yZXBvcnRlcllpZWxkKHV0aWwsIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQd2FzQ29tcGlsZWQpOyAvLyBJbml0aWFsaXplIEpTT04gaW4gc3RhY2tmcmFtZXMKICAgICAgICBpZiAoeWllbGRGYWlsID09PSB0cnVlKSByZXR1cm4gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgeyBpLCBqLCBhcnJheSB9ID0gdXRpbC5zdGFja0ZyYW1lOwogICAgICAgIGlmIChpID4gYXJyYXkubGVuZ3RoIC0gMSkgdXRpbC5zdGFja0ZyYW1lLmV4ZWN1dGUgPSAiZG9uZSI7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb24gPSBbYXJyYXlbaV0sIGFycmF5W2pdXTsKICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gaiA+IGFycmF5Lmxlbmd0aCAtIDEgPyBgMCR7YXJyYXlbaV19YCA6IGkgPCAxID8gYCR7YXJyYXlbal19JHthcnJheVthcnJheS5sZW5ndGggLSAxXX1gIDogYCR7YXJyYXlbal19JHthcnJheVtpIC0gMV19YDsKICAgICAgICAgIHV0aWwuc3RhY2tGcmFtZS5zb3J0ZWRWYWxzW3Byb3BOYW1lXSA9IENhc3QudG9OdW1iZXIoYXJncy5WQUxVRSk7CiAgICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaisrOwogICAgICAgICAgaWYgKGogPiBhcnJheS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIHV0aWwuc3RhY2tGcmFtZS5pKys7CiAgICAgICAgICAgIHV0aWwuc3RhY2tGcmFtZS5qID0gMDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID09PSAiZG9uZSIpIHsKICAgICAgICB1dGlsLnRocmVhZC5pc0NvbXBpbGVkID0gdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1B3YXNDb21waWxlZDsKCiAgICAgICAgY29uc3Qgc29ydGVkID0gdXRpbC5zdGFja0ZyYW1lLnNvcnRlZFZhbHM7CiAgICAgICAgcmV0dXJuIHV0aWwuc3RhY2tGcmFtZS5hcnJheS5zb3J0KChhLCBiKSA9PiBzb3J0ZWRbYCR7YX0ke2J9YF0pOwogICAgICB9IGVsc2UgdGhpcy5yZXBvcnRlcllpZWxkKHV0aWwpOwogICAgfQoKICAgIC8vIFV0aWwgRnVuY3MKICAgIGpzb25WYWxpZChhcmdzKSB7CiAgICAgIGNvbnN0IG9iaiA9IGFyZ3MuT0JKOwogICAgICBjb25zdCB0eXBlID0gdHlwZW9mIG9iajsKICAgICAgaWYgKHR5cGUgPT09ICJvYmplY3QiKSByZXR1cm4gdHJ1ZTsKICAgICAgaWYgKHRoaXMuYWx3YXlzUGFyc2UpIHsKICAgICAgICBpZiAodHlwZSAhPSAic3RyaW5nIikgcmV0dXJuIGZhbHNlOwogICAgICAgIHRyeSB7CiAgICAgICAgICBKU09OLnBhcnNlKG9iaik7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHBhcnNlKGFyZ3MpIHsKICAgICAgY29uc3Qgb2JqID0gYXJncy5PQko7CiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAib2JqZWN0IikgcmV0dXJuIG9iajsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShvYmopOwogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KCiAgICBjbG9uZShhcmdzKSB7CiAgICAgIGNvbnN0IG9iaiA9IGFyZ3MuT0JKOwogICAgICBpZiAodHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpIHJldHVybiBzdHJ1Y3R1cmVkQ2xvbmUob2JqKTsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShvYmopOwogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KCiAgICBjb252ZXJ0KGFyZ3MpIHsKICAgICAgc3dpdGNoIChhcmdzLlRZUEUpIHsKICAgICAgICBjYXNlICJhcnJheSI6IHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKKSk7CiAgICAgICAgY2FzZSAiSlNPTiI6IHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKKSk7CiAgICAgICAgY2FzZSAicHJldHR5IHN0cmluZyI6IHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRyeVBhcnNlKGFyZ3MuT0JKKSwgY2lyY3VsYXJSZXBsYWNlcigpLCAiXHQiKTsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50cnlQYXJzZShhcmdzLk9CSiksIGNpcmN1bGFyUmVwbGFjZXIoKSk7CiAgICAgIH0KICAgIH0KCiAgICBqc29uTWFrZShhcmdzKSB7CiAgICAgIGNvbnN0IGFyciA9IENhc3QudG9TdHJpbmcoYXJncy5UWFQpLnNwbGl0KGFyZ3MuU1BMSVQpOwogICAgICBjb25zdCBvYmogPSB7fTsKICAgICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0uc3BsaXQoYXJncy5ERUxJTSk7CiAgICAgICAgb2JqW3ZhbHVlWzBdXSA9IHZhbHVlWzFdID8/ICIiOwogICAgICB9KTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KCiAgICBhcnJNYWtlKGFyZ3MpIHsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImFycmF5IikgcmV0dXJuIENhc3QudG9TdHJpbmcoYXJncy5UWFQpLnNwbGl0KGFyZ3MuU1BMSVQpOwogICAgICBlbHNlIHJldHVybiB0aGlzLnRyeVBhcnNlKGFyZ3MuVFhULCAxKS5qb2luKGFyZ3MuU1BMSVQpOwogICAgfQoKICAgIG9iaktleShhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IGFyciA9IHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQanNvbjsKICAgICAgaWYgKGFycikgewogICAgICAgIGlmICh1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5pc0FycmF5KSByZXR1cm4gQ2FzdC50b051bWJlcihhcnJbMF0pICsgMSA/PyAiIjsKICAgICAgICBlbHNlIHJldHVybiBhcnJbMF0gPz8gIiI7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfQogICAgb2JqVmFsdWUoYXJncywgdXRpbCkgewogICAgICBjb25zdCBhcnIgPSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb247CiAgICAgIHJldHVybiBhcnIgPyBhcnJbMV0gPz8gIiIgOiAiIjsKICAgIH0KCiAgICBhcnJWYWx1ZUEoYXJncywgdXRpbCkgewogICAgICBjb25zdCBhcnIgPSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb247CiAgICAgIHJldHVybiBhcnIgPyBhcnJbMF0gPz8gIiIgOiAiIjsKICAgIH0KICAgIGFyclZhbHVlQihhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IGFyciA9IHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQanNvbjsKICAgICAgcmV0dXJuIGFyciA/IGFyclsxXSA/PyAiIiA6ICIiOwogICAgfQoKICAgIC8vIGRlcHJlY2F0ZWQgc3RhY2sgZmlsdGVyIGJsb2NrCiAgICBmaWx0ZXJSZXN1bHQoXywgdXRpbCkgeyByZXR1cm4gdXRpbC50aHJlYWQuU1Bqc29uRmlsdGVyUmVzID8/ICIiIH0KICAgIGZpbHRlcihhcmdzLCB1dGlsKSB7CiAgICAgIHRoaXMuZmlsdGVySGFuZGxlcigKICAgICAgICBhcmdzLCB1dGlsLAogICAgICAgICh1dGlsKSA9PiB7CiAgICAgICAgICBpZiAodXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uaXNBcnJheSkgdXRpbC50aHJlYWQuU1Bqc29uRmlsdGVyUmVzID0gdXRpbC5zdGFja0ZyYW1lLm5ld09iajsKICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBjb25zdCBuZXdPYmogPSB7fTsKICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gdXRpbC5zdGFja0ZyYW1lLm5ld09iajsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb25zdCBpdGVtID0gc3RvcmVkW2ldOwogICAgICAgICAgICAgIG5ld09ialtpdGVtWzBdXSA9IGl0ZW1bMV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdXRpbC50aHJlYWQuU1Bqc29uRmlsdGVyUmVzID0gbmV3T2JqOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgKHV0aWwpID0+IHV0aWwuc3RhcnRCcmFuY2goMSwgdHJ1ZSkKICAgICAgKTsKICAgIH0KCiAgICBmaWx0ZXJOZXcoYXJncywgdXRpbCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJIYW5kbGVyKAogICAgICAgIGFyZ3MsIHV0aWwsCiAgICAgICAgKHV0aWwpID0+IHsKICAgICAgICAgIHV0aWwudGhyZWFkLmlzQ29tcGlsZWQgPSB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkOwogICAgICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLmlzQXJyYXkpIHJldHVybiB1dGlsLnN0YWNrRnJhbWUubmV3T2JqOwogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IG5ld09iaiA9IHt9OwogICAgICAgICAgICBjb25zdCBzdG9yZWQgPSB1dGlsLnN0YWNrRnJhbWUubmV3T2JqOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0b3JlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yZWRbaV07CiAgICAgICAgICAgICAgbmV3T2JqW2l0ZW1bMF1dID0gaXRlbVsxXTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV3T2JqOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgKHV0aWwpID0+IHRoaXMucmVwb3J0ZXJZaWVsZCh1dGlsKSwKICAgICAgICAodXRpbCkgPT4gewogICAgICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQd2FzQ29tcGlsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUHdhc0NvbXBpbGVkID0gdXRpbC50aHJlYWQuaXNDb21waWxlZDsKICAgICAgICAgICAgdXRpbC50aHJlYWQuaXNDb21waWxlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgY29uc3QgeWllbGRGYWlsID0gdGhpcy5yZXBvcnRlcllpZWxkKHV0aWwsIHV0aWwuc3RhY2tGcmFtZS53YXNDb21waWxlZCk7CiAgICAgICAgICBpZiAoeWllbGRGYWlsID09PSB0cnVlKSByZXR1cm4gdHJ1ZTsgLy8gaW5pdGlhdGUgYSBvdmVycmlkZQogICAgICAgIH0KICAgICAgKTsKICAgIH0KCiAgICBmb3JFYWNoKGFyZ3MsIHV0aWwpIHsKICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlKSB7CiAgICAgICAgdXRpbC5zdGFja0ZyYW1lLmluZGV4Kys7CiAgICAgICAgY29uc3QgeyBpbmRleCwgZW50cnkgfSA9IHV0aWwuc3RhY2tGcmFtZTsKICAgICAgICBpZiAoaW5kZXggPiBlbnRyeS5sZW5ndGggLSAxKSByZXR1cm47CiAgICAgICAgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1Bqc29uID0gZW50cnlbaW5kZXhdOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHBhcnNlID0gdGhpcy50cnlQYXJzZShhcmdzLk9CSik7CiAgICAgICAgY29uc3QgZW50cnkgPSBPYmplY3QuZW50cmllcyhwYXJzZSk7CiAgICAgICAgaWYgKGVudHJ5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5lbnRyeSA9IGVudHJ5OwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5leGVjdXRlID0gdHJ1ZTsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUuaW5kZXggPSAwOwogICAgICAgIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHBhcnNlKTsKICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGpzb24gPSBlbnRyeVswXTsKICAgICAgfQogICAgICB1dGlsLnN0YXJ0QnJhbmNoKDEsIHRydWUpOwogICAgfQoKICAgIHNldFJhd1ZhclZhbHVlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZSA9IENhc3QudG9TdHJpbmcoYXJncy5OQU1FKTsKICAgICAgbGV0IHZhcmlhYmxlLCBzdGFnZSA9IHJ1bnRpbWUuZ2V0VGFyZ2V0Rm9yU3RhZ2UoKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gInZhcmlhYmxlIikgewogICAgICAgIHZhcmlhYmxlID0gc3RhZ2UubG9va3VwVmFyaWFibGVCeU5hbWVBbmRUeXBlKG5hbWUsICIiKTsKICAgICAgICBpZiAoIXZhcmlhYmxlKSB2YXJpYWJsZSA9IHV0aWwudGFyZ2V0Lmxvb2t1cFZhcmlhYmxlQnlOYW1lQW5kVHlwZShuYW1lLCAiIik7CgogICAgICAgIGlmICh2YXJpYWJsZSkgdmFyaWFibGUudmFsdWUgPSBhcmdzLlZBTFVFOwogICAgICB9IGVsc2UgewogICAgICAgIHZhcmlhYmxlID0gc3RhZ2UubG9va3VwVmFyaWFibGVCeU5hbWVBbmRUeXBlKG5hbWUsICJsaXN0Iik7CiAgICAgICAgaWYgKCF2YXJpYWJsZSkgdmFyaWFibGUgPSB1dGlsLnRhcmdldC5sb29rdXBWYXJpYWJsZUJ5TmFtZUFuZFR5cGUobmFtZSwgImxpc3QiKTsKCiAgICAgICAgaWYgKHZhcmlhYmxlICYmIEFycmF5LmlzQXJyYXkoYXJncy5WQUxVRSkpIHZhcmlhYmxlLnZhbHVlID0gYXJncy5WQUxVRTsKICAgICAgfQogICAgfQoKICAgIHJhd1ZhclZhbHVlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbmFtZSA9IENhc3QudG9TdHJpbmcoYXJncy5OQU1FKTsKICAgICAgbGV0IHZhcmlhYmxlLCBzdGFnZSA9IHJ1bnRpbWUuZ2V0VGFyZ2V0Rm9yU3RhZ2UoKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gInZhcmlhYmxlIikgewogICAgICAgIHZhcmlhYmxlID0gc3RhZ2UubG9va3VwVmFyaWFibGVCeU5hbWVBbmRUeXBlKG5hbWUsICIiKTsKICAgICAgICBpZiAoIXZhcmlhYmxlKSB2YXJpYWJsZSA9IHV0aWwudGFyZ2V0Lmxvb2t1cFZhcmlhYmxlQnlOYW1lQW5kVHlwZShuYW1lLCAiIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyaWFibGUgPSBzdGFnZS5sb29rdXBWYXJpYWJsZUJ5TmFtZUFuZFR5cGUobmFtZSwgImxpc3QiKTsKICAgICAgICBpZiAoIXZhcmlhYmxlKSB2YXJpYWJsZSA9IHV0aWwudGFyZ2V0Lmxvb2t1cFZhcmlhYmxlQnlOYW1lQW5kVHlwZShuYW1lLCAibGlzdCIpOwogICAgICB9CgogICAgICByZXR1cm4gdmFyaWFibGUgPyB2YXJpYWJsZS52YWx1ZSA6ICIiOwogICAgfQogIH0KCiAgZXh0Q2xhc3MgPSBuZXcgU1Bqc29uKCk7CiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKGV4dENsYXNzKTsKfSkoU2NyYXRjaCk7Cg==","strings":"https://extensions.turbowarp.org/text.js","textcomparison":"data:text/javascript;base64,Y2xhc3MgVGV4dENvbXBhcmlzb25FeHRlbnNpb24gewogICAgZ2V0SW5mbygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpZDogJ3RleHRjb21wYXJpc29uJywKICAgICAgICAgICAgbmFtZTogJ1RleHQgQ29tcGFyaXNvbicsCiAgICAgICAgICAgIGJsb2NrczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG9wY29kZTogJ2NhbGN1bGF0ZUxldmVuc2h0ZWluRGlzdGFuY2UnLAogICAgICAgICAgICAgICAgICAgIGJsb2NrVHlwZTogJ3JlcG9ydGVyJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnY2FsY3VsYXRlIExldmVuc2h0ZWluIGRpc3RhbmNlIG9mIFt0ZXh0MV0gYW5kIFt0ZXh0Ml0nLAogICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0MTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdIZWxsbycKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnSGVsbycKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgb3Bjb2RlOiAnY2FsY3VsYXRlU2ltaWxhcml0eVNjb3JlJywKICAgICAgICAgICAgICAgICAgICBibG9ja1R5cGU6ICdyZXBvcnRlcicsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ2NhbGN1bGF0ZSBzaW1pbGFyaXR5IHNjb3JlIG9mIFt0ZXh0MV0gYW5kIFt0ZXh0Ml0nLAogICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0MTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdIZWxsbycKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnSGVsbycKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH07CiAgICB9CgogICAgY2FsY3VsYXRlTGV2ZW5zaHRlaW5EaXN0YW5jZShhcmdzKSB7CiAgICAgICAgY29uc3QgdGV4dDEgPSBhcmdzLnRleHQxOwogICAgICAgIGNvbnN0IHRleHQyID0gYXJncy50ZXh0MjsKICAgICAgICByZXR1cm4gdGhpcy5sZXZlbnNodGVpbkRpc3RhbmNlKHRleHQxLCB0ZXh0Mik7CiAgICB9CgogICAgY2FsY3VsYXRlU2ltaWxhcml0eVNjb3JlKGFyZ3MpIHsKICAgICAgICBjb25zdCB0ZXh0MSA9IGFyZ3MudGV4dDE7CiAgICAgICAgY29uc3QgdGV4dDIgPSBhcmdzLnRleHQyOwogICAgICAgIHJldHVybiB0aGlzLnNpbWlsYXJpdHlTY29yZSh0ZXh0MSwgdGV4dDIpOwogICAgfQoKICAgIGxldmVuc2h0ZWluRGlzdGFuY2UodGV4dDEsIHRleHQyKSB7CiAgICAgICAgY29uc3QgbSA9IHRleHQxLmxlbmd0aDsKICAgICAgICBjb25zdCBuID0gdGV4dDIubGVuZ3RoOwoKICAgICAgICAvLyBDcmVhdGUgYSAyRCBhcnJheSB0byBzdG9yZSB0aGUgTGV2ZW5zaHRlaW4gZGlzdGFuY2VzCiAgICAgICAgY29uc3QgZHAgPSBuZXcgQXJyYXkobSArIDEpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG07IGkrKykgewogICAgICAgICAgICBkcFtpXSA9IG5ldyBBcnJheShuICsgMSk7CiAgICAgICAgfQoKICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBmaXJzdCByb3cgYW5kIGNvbHVtbiBvZiB0aGUgYXJyYXkKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBtOyBpKyspIHsKICAgICAgICAgICAgZHBbaV1bMF0gPSBpOwogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBuOyBqKyspIHsKICAgICAgICAgICAgZHBbMF1bal0gPSBqOwogICAgICAgIH0KCiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgTGV2ZW5zaHRlaW4gZGlzdGFuY2VzCiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbTsgaSsrKSB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IG47IGorKykgewogICAgICAgICAgICAgICAgaWYgKHRleHQxW2kgLSAxXSA9PT0gdGV4dDJbaiAtIDFdKSB7CiAgICAgICAgICAgICAgICAgICAgZHBbaV1bal0gPSBkcFtpIC0gMV1baiAtIDFdOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkcFtpXVtqXSA9IE1hdGgubWluKAogICAgICAgICAgICAgICAgICAgICAgICBkcFtpIC0gMV1bal0gKyAxLCAvLyBEZWxldGlvbgogICAgICAgICAgICAgICAgICAgICAgICBkcFtpXVtqIC0gMV0gKyAxLCAvLyBJbnNlcnRpb24KICAgICAgICAgICAgICAgICAgICAgICAgZHBbaSAtIDFdW2ogLSAxXSArIDEgLy8gU3Vic3RpdHV0aW9uCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRwW21dW25dOwogICAgfQoKICAgIHNpbWlsYXJpdHlTY29yZSh0ZXh0MSwgdGV4dDIpIHsKICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMubGV2ZW5zaHRlaW5EaXN0YW5jZSh0ZXh0MSwgdGV4dDIpOwogICAgICAgIGNvbnN0IG1heExlbmd0aCA9IE1hdGgubWF4KHRleHQxLmxlbmd0aCwgdGV4dDIubGVuZ3RoKTsKICAgICAgICByZXR1cm4gMSAtIGRpc3RhbmNlIC8gbWF4TGVuZ3RoOwogICAgfQp9CgpTY3JhdGNoLmV4dGVuc2lvbnMucmVnaXN0ZXIobmV3IFRleHRDb21wYXJpc29uRXh0ZW5zaW9uKCkpOwo=","lmsclonesplus":"https://extensions.turbowarp.org/Lily/ClonesPlus.js","truefantommath":"https://extensions.turbowarp.org/true-fantom/math.js","utilities":"https://extensions.turbowarp.org/utilities.js","SPmessages":"data:text/javascript;base64,Ly8gTmFtZTogQWR2YW5jZWQgTWVzc2FnZXMNCi8vIElEOiBTUG1lc3NhZ2VzDQovLyBEZXNjcmlwdGlvbjogTW9yZSBNZXNzYWdlIEJsb2NrcyB0aGF0IGRvIGNvb2wgc3R1ZmYhDQovLyBCeTogU2hhcmtQb29sDQovLyBMaWNlbnNlOiBNSVQNCg0KLy8gVmVyc2lvbiBWLjIuMC4wMQ0KDQooZnVuY3Rpb24gKFNjcmF0Y2gpIHsNCiAgInVzZSBzdHJpY3QiOw0KICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJBZHZhbmNlZCBNZXNzYWdlcyBtdXN0IHJ1biB1bnNhbmRib3hlZCEiKTsNCg0KICBjb25zdCBtZW51SWNvblVSSSA9DQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0kzTlM0NU1qRWlJR2hsYVdkb2REMGlOelV1T1RJeElpQjJhV1YzUW05NFBTSXdJREFnTnpVdU9USXhJRGMxTGpreU1TSStQSEJoZEdnZ1pEMGlUVElnTXpjdU9UWkRNaUF4T0M0eElERTRMakVnTWlBek55NDVOaUF5Y3pNMUxqazJJREUyTGpFZ016VXVPVFlnTXpVdU9UWXRNVFl1TVNBek5TNDVOaTB6TlM0NU5pQXpOUzQ1TmxNeUlEVTNMamd5SURJZ016Y3VPVFo2SWlCbWFXeHNQU0lqWm1aaVpqQXdJaUJ6ZEhKdmEyVTlJaU5qT1RBaUlITjBjbTlyWlMxM2FXUjBhRDBpTkNJdlBqeHdZWFJvSUdROUlrMHhNeTR6TkRVZ016UXVOVFU0WXkwdU1qRTNMVEV3TGpZek55QTFMamc1TWkweE5DNHdORFFnTVRBdU5Ea3pMVEUwTGpBME5DQTFMalU1T0NBd0lERTNMams1TXkwdU16SXpJREkzTGpVek5DQXdJRFF1TmpZdU1UVTRJREV4TGpReU9DQXpMalk1SURFeExqSXdOQ0F4TkM0d05EUXRMakl4TXlBNUxqYzVPQzAzTGpjM015QXhNaTQzT0MweE1TNHlPRElnTVRJdU56aElNell1TmprNFl5MHhMall3TXlBd0xUWXVNRGt4SURndU5EVTRMVEV6TGpReE15QTRMakl3TmkwMUxqRTVNaTB1TVRnZ01pNDVOVEl0T0M0eU1EVXVPRFk0TFRndU1qQTFMVFl1TVRnZ01DMHhNQzQyTlRndE5TNHpOemd0TVRBdU9EQTRMVEV5TGpjNE1TSWdabWxzYkQwaUkyWm1aaUl2UGp3dmMzWm5QZz09IjsNCiAgY29uc3QgYmxvY2tJY29uVVJJID0NCiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSTNNUzQ1TWpFaUlHaGxhV2RvZEQwaU56RXVPVEl4SWlCMmFXVjNRbTk0UFNJd0lEQWdOekV1T1RJeElEY3hMamt5TVNJK1BIQmhkR2dnWkQwaVRUQWdOekV1T1RKV01HZzNNUzQ1TW5ZM01TNDVNbm9pSUdacGJHdzlJbTV2Ym1VaUx6NDhjR0YwYUNCa1BTSk5OaTR3T1RNZ01qRXVNVGN6WXkwdU1UazJMVGt1TmpJMUlEVXVNek14TFRFeUxqY3dPQ0E1TGpRNU5TMHhNaTQzTURnZ05TNHdOallnTUNBeE5pNHlPREl0TGpJNU1pQXlOQzQ1TVRZZ01DQTBMakl4Tmk0eE5ETWdNVEF1TXpRZ015NHpOQ0F4TUM0eE16Y2dNVEl1TnpBNExTNHhPVElnT0M0NE5qWXROeTR3TXpNZ01URXVOVFkyTFRFd0xqSXdPU0F4TVM0MU5qWklNamN1TWpJMVl5MHhMalExSURBdE5TNDFNVElnTnk0Mk5UTXRNVEl1TVRNM0lEY3VOREkxTFRRdU5qazVMUzR4TmpJZ01pNDJOekV0Tnk0ME1qVXVOemcxTFRjdU5ESTFMVFV1TlRreUlEQXRPUzQyTkRRdE5DNDROamN0T1M0M09DMHhNUzQxTmpaTk5UZ3VNVElnTlRjdU56STVZeTB4TGpRNE5pQXdJRFF1TXpJeUlEVXVOekkwTGpZeE9TQTFMamcxTWkwMUxqSXlNaTR4T0MwNExqUXlNeTAxTGpnMU1pMDVMalUyTlMwMUxqZzFNbWd0TVRBdU5ERmpMVEl1TlRBeUlEQXROeTQ0T1RRdE1pNHhNamN0T0M0d05EWXRPUzR4TVRVdExqRTJMVGN1TXpnMElEUXVOalkzTFRrdU9UQXpJRGN1T1RrdE1UQXVNREUySURZdU9EQTFMUzR5TXlBeE5TNDJORFFnTUNBeE9TNDJNemNnTUNBekxqSTRNU0F3SURjdU5qTTRJREl1TkRNZ055NDBPRFFnTVRBdU1ERTJMUzR4TURnZ05TNHlPQzB6TGpNd01pQTVMakV4TlMwM0xqY3dPU0E1TGpFeE5TSWdabWxzYkQwaUkyWm1aaUl2UGp3dmMzWm5QZz09IjsNCg0KICBjb25zdCB2bSA9IFNjcmF0Y2gudm07DQogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOw0KICBsZXQgbWVzc2FnZUJhbmsgPSBPYmplY3QuY3JlYXRlKG51bGwpOw0KDQogIGNsYXNzIFNQbWVzc2FnZXMgew0KICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVEFSVCIsICgpID0+IHsgbWVzc2FnZUJhbmsgPSBPYmplY3QuY3JlYXRlKG51bGwpIH0pOw0KICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVE9QX0FMTCIsICgpID0+IHsgbWVzc2FnZUJhbmsgPSBPYmplY3QuY3JlYXRlKG51bGwpIH0pOw0KICAgICAgcnVudGltZS5vbigiQUZURVJfRVhFQ1VURSIsICgpID0+IHsNCiAgICAgICAgLy8gY2xlYXIgZmluaXNoZWQgYnJvYWRjYXN0cw0KICAgICAgICBjb25zdCBtc2dEYXRhID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlQmFuayk7DQogICAgICAgIGZvciAoY29uc3QgbXNnIG9mIG1zZ0RhdGEpIHsNCiAgICAgICAgICBmb3IgKHZhciBpID0gbXNnLnRocmVhZHMubGVuZ3RoOyBpLS07ICkgew0KICAgICAgICAgICAgY29uc3QgdGhyZWFkID0gbXNnLnRocmVhZHNbaV07DQogICAgICAgICAgICBpZiAodGhyZWFkLnN0YXR1cyA9PT0gNCkgbXNnLnRocmVhZHMuc3BsaWNlKGksIDEpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICAgIGdldEluZm8oKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpZDogIlNQbWVzc2FnZXMiLA0KICAgICAgICBuYW1lOiAiQWR2YW5jZWQgTWVzc2FnZXMiLA0KICAgICAgICBjb2xvcjE6ICIjRkZCRjAwIiwNCiAgICAgICAgY29sb3IyOiAiI0U2QUMwMCIsDQogICAgICAgIGNvbG9yMzogIiNDQzk5MDAiLA0KICAgICAgICBtZW51SWNvblVSSSwNCiAgICAgICAgYmxvY2tJY29uVVJJLA0KICAgICAgICBibG9ja3M6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBmdW5jOiAiV0FSTiIsDQogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwNCiAgICAgICAgICAgIHRleHQ6ICJXQVJOSU5HIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3Bjb2RlOiAiYnJvYWRjYXN0TXNnIiwNCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwNCiAgICAgICAgICAgIHRleHQ6ICJicm9hZGNhc3QgW01TR10gd2l0aCBkYXRhIFtEQVRBXSBhbmQgW1dBSVRdIiwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBNU0c6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJtZXNzYWdlIDEiIH0sDQogICAgICAgICAgICAgIERBVEE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJoZWxsbyB3b3JsZCIgfSwNCiAgICAgICAgICAgICAgV0FJVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJTSE9VTERfV0FJVCIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogImJyb2FkY2FzdE1zZ1JldHVybiIsDQogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLA0KICAgICAgICAgICAgdGV4dDogImJyb2FkY2FzdCBbTVNHXSB3aXRoIGRhdGEgW0RBVEFdIiwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBNU0c6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJtZXNzYWdlIDEiIH0sDQogICAgICAgICAgICAgIERBVEE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJoZWxsbyB3b3JsZCIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgICItLS0iLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogIndoZW5SZWNlaXZlMSIsDQogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkhBVCwNCiAgICAgICAgICAgIGlzRWRnZUFjdGl2YXRlZDogZmFsc2UsDQogICAgICAgICAgICB0ZXh0OiAid2hlbiBJIHJlY2VpdmUgW01TR10iLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7DQogICAgICAgICAgICAgIE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIm1lc3NhZ2UgMSIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogIndoZW5SZWNlaXZlRGF0YTEiLA0KICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5IQVQsDQogICAgICAgICAgICBpc0VkZ2VBY3RpdmF0ZWQ6IGZhbHNlLA0KICAgICAgICAgICAgdGV4dDogIndoZW4gSSByZWNlaXZlIFtNU0ddIHdpdGggZGF0YSBbREFUQV0iLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7DQogICAgICAgICAgICAgIE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIm1lc3NhZ2UgMSIgfSwNCiAgICAgICAgICAgICAgREFUQTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImhlbGxvIHdvcmxkIiB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3Bjb2RlOiAid2hlblJlY2VpdmUyIiwNCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwNCiAgICAgICAgICAgIHRleHQ6ICJ3YXMgW01TR10gW1RZUEVdID8iLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7DQogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiTVNHX1RZUEUiIH0sDQogICAgICAgICAgICAgIE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIm1lc3NhZ2UgMSIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogIndoZW5SZWNlaXZlRGF0YTIiLA0KICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLA0KICAgICAgICAgICAgdGV4dDogIndhcyBbTVNHXSB3aXRoIGRhdGEgW0RBVEFdIFtUWVBFXSA/IiwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIk1TR19UWVBFIiB9LA0KICAgICAgICAgICAgICBNU0c6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJtZXNzYWdlIDEiIH0sDQogICAgICAgICAgICAgIERBVEE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJoZWxsbyB3b3JsZCIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogInJldHVybkRhdGEiLA0KICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELA0KICAgICAgICAgICAgaXNUZXJtaW5hbDogdHJ1ZSwNCiAgICAgICAgICAgIHRleHQ6ICJyZXR1cm4gW0RBVEFdIiwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBEQVRBOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiaGVsbG8hIiB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICAgIi0tLSIsDQogICAgICAgICAgew0KICAgICAgICAgICAgb3Bjb2RlOiAicmVjZWl2ZWREYXRhIiwNCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsDQogICAgICAgICAgICB0ZXh0OiAicmVjZWl2ZWQgZGF0YSBpbiBbTVNHXSIsDQogICAgICAgICAgICBhcmd1bWVudHM6IHsNCiAgICAgICAgICAgICAgTVNHOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAibWVzc2FnZSAxIiB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0UmVjaWV2ZXJzIiwNCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsDQogICAgICAgICAgICB0ZXh0OiAiW1RZUEVdIG9mIFtNU0ddIiwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkRBVEFfVFlQRSIgfSwNCiAgICAgICAgICAgICAgTVNHOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAibWVzc2FnZSAxIiB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgb3Bjb2RlOiAiYWxsb3dTZW5kZXIiLA0KICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELA0KICAgICAgICAgICAgdGV4dDogImxldCBzZW5kZXIgb2YgW01TR10gY29udGludWUiLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7DQogICAgICAgICAgICAgIE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIm1lc3NhZ2UgMSIgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIC8qIERlcHJlY2F0aW9uIE1hcmtlciAqLw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wY29kZTogImJyb2FkY2FzdDEiLCBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsDQogICAgICAgICAgICB0ZXh0OiAiYnJvYWRjYXN0IFtNU0ddIiwgaGlkZUZyb21QYWxldHRlOiB0cnVlLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7IE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSB9LA0KICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgIG9wY29kZTogImJyb2FkY2FzdDIiLCBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsDQogICAgICAgICAgICB0ZXh0OiAiYnJvYWRjYXN0IFtNU0ddIGFuZCB3YWl0IiwgaGlkZUZyb21QYWxldHRlOiB0cnVlLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7IE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSB9LA0KICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgIG9wY29kZTogImJyb2FkY2FzdERhdGExIiwgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELA0KICAgICAgICAgICAgdGV4dDogImJyb2FkY2FzdCBbTVNHXSB3aXRoIGRhdGEgW0RBVEFdIiwgaGlkZUZyb21QYWxldHRlOiB0cnVlLA0KICAgICAgICAgICAgYXJndW1lbnRzOiB7DQogICAgICAgICAgICAgIE1TRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSwgREFUQTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LCB7DQogICAgICAgICAgICBvcGNvZGU6ICJicm9hZGNhc3REYXRhMiIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwNCiAgICAgICAgICAgIHRleHQ6ICJicm9hZGNhc3QgW01TR10gd2l0aCBkYXRhIFtEQVRBXSBhbmQgd2FpdCIsIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwNCiAgICAgICAgICAgIGFyZ3VtZW50czogew0KICAgICAgICAgICAgICBNU0c6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0sIERBVEE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwgew0KICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlTWVzc2FnZSIsIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwNCiAgICAgICAgICAgIHRleHQ6ICJkZWxldGUgW01TR10iLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsDQogICAgICAgICAgICBhcmd1bWVudHM6IHsgTVNHOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9IH0sDQogICAgICAgICAgfSwgew0KICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlQWxsIiwgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELA0KICAgICAgICAgICAgdGV4dDogImRlbGV0ZSBhbGwgbWVzc2FnZXMiLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUNCiAgICAgICAgICB9DQogICAgICAgICAgLyogTWFya2VyIEVuZCAqLw0KICAgICAgICBdLA0KICAgICAgICBtZW51czogew0KICAgICAgICAgIFNIT1VMRF9XQUlUOiBbImNvbnRpbnVlIiwgIndhaXQiXSwNCiAgICAgICAgICBNU0dfVFlQRTogWyJyZWNlaXZlZCIsICJ3YWl0aW5nIl0sDQogICAgICAgICAgREFUQV9UWVBFOiBbInJlY2VpdmVycyIsICJzZW5kZXIiXQ0KICAgICAgICB9LA0KICAgICAgfTsNCiAgICB9DQoNCiAgICAvLyBIZWxwZXIgRnVuY3MNCiAgICBXQVJOKCkgeyBhbGVydCgiVGhpcyBFeHRlbnNpb24gaXMgTk9UIENvbXBhdGlibGUgd2l0aCB0aGUgVmFuaWxsYSBCcm9hZGNhc3QgQmxvY2tzIikgfQ0KDQogICAgc2VuZE1lc3NhZ2Uob3Bjb2RlLCBtc2csIGRhdGEsIHNlbmRlcikgew0KICAgICAgY29uc3Qgb2xkVGhyZWFkcyA9IG1lc3NhZ2VCYW5rW21zZ107DQogICAgICBsZXQgbmV3VGhyZWFkcyA9IG9sZFRocmVhZHMgIT09IHVuZGVmaW5lZCA/IG9sZFRocmVhZHMudGhyZWFkcyA6IFtdOw0KICAgICAgcnVudGltZS5hbGxTY3JpcHRzQnlPcGNvZGVEbyhvcGNvZGUsIChzY3JpcHQsIHRhcmdldCkgPT4gew0KICAgICAgICBjb25zdCB0b3BCbG9ja0lkID0gc2NyaXB0LmJsb2NrSWQ7DQogICAgICAgIGNvbnN0IHRocmVhZCA9IHJ1bnRpbWUuX3B1c2hUaHJlYWQoc2NyaXB0LmJsb2NrSWQsIHRhcmdldCk7DQogICAgICAgIHRocmVhZC5TUGFkdk1zZyA9IHsgZGF0YSwgbXNnLCBzZW5kZXIsIHBhc3M6IGZhbHNlIH07DQogICAgICAgIG5ld1RocmVhZHMucHVzaCh0aHJlYWQpOw0KICAgICAgfSk7DQogICAgICBtZXNzYWdlQmFua1ttc2ddID0gew0KICAgICAgICBzZW5kVGltZSA6IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMCksIGZvcmNlIDogZmFsc2UsDQogICAgICAgIHRocmVhZHMgOiBuZXdUaHJlYWRzLCByZWNlaXZlcnMgOiBbXSwgZGF0YSwgc2VuZGVyDQogICAgICB9Ow0KICAgICAgcmV0dXJuIG5ld1RocmVhZHM7DQogICAgfQ0KDQogICAgLy8gQmxvY2tzDQogICAgYnJvYWRjYXN0TXNnKGFyZ3MsIHV0aWwpIHsNCiAgICAgIGlmICghdXRpbC5zdGFja0ZyYW1lLlNQbXNnKSB1dGlsLnN0YWNrRnJhbWUuU1Btc2cgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5NU0cpOw0KICAgICAgY29uc3QgZGF0YSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLkRBVEEpOw0KICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5TUG1zZykgew0KICAgICAgICBjb25zdCB0YXJnZXQgPSBgJHt1dGlsLnRhcmdldC5nZXROYW1lKCl9JHt1dGlsLnRhcmdldC5pc09yaWdpbmFsID8gIiIgOiAiIChDbG9uZSkifWA7DQogICAgICAgIGNvbnN0IG5hbWUgPSB1dGlsLnN0YWNrRnJhbWUuU1Btc2c7DQogICAgICAgIGlmICghdXRpbC5zdGFja0ZyYW1lLm5ld1RocmVhZHMpIHsNCiAgICAgICAgICB1dGlsLnN0YWNrRnJhbWUubmV3VGhyZWFkcyA9IFsNCiAgICAgICAgICAgIC4uLnRoaXMuc2VuZE1lc3NhZ2UoIlNQbWVzc2FnZXNfd2hlblJlY2VpdmUxIiwgbmFtZSwgZGF0YSwgdGFyZ2V0KSwNCiAgICAgICAgICAgIC4uLnRoaXMuc2VuZE1lc3NhZ2UoIlNQbWVzc2FnZXNfd2hlblJlY2VpdmVEYXRhMSIsIG5hbWUsIGRhdGEsIHRhcmdldCkNCiAgICAgICAgICBdOw0KICAgICAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUubmV3VGhyZWFkcy5sZW5ndGggPT09IDApIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCB3YWl0aW5nID0gdXRpbC5zdGFja0ZyYW1lLm5ld1RocmVhZHMuc29tZSgodGhyZWFkKSA9PiBydW50aW1lLnRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMSk7DQogICAgICAgIGlmIChhcmdzLldBSVQgPT09ICJ3YWl0IiAmJiB3YWl0aW5nICYmICFtZXNzYWdlQmFua1tuYW1lXS5mb3JjZSkgew0KICAgICAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUubmV3VGhyZWFkcy5ldmVyeSgodGhyZWFkKSA9PiBydW50aW1lLmlzV2FpdGluZ1RocmVhZCh0aHJlYWQpKSkgdXRpbC55aWVsZFRpY2soKTsNCiAgICAgICAgICBlbHNlIHV0aWwueWllbGQoKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGJyb2FkY2FzdE1zZ1JldHVybihhcmdzLCB1dGlsKSB7DQogICAgICBpZiAoIXV0aWwuc3RhY2tGcmFtZS5TUG1zZykgdXRpbC5zdGFja0ZyYW1lLlNQbXNnID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuTVNHKTsNCiAgICAgIGNvbnN0IGRhdGEgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5EQVRBKTsNCiAgICAgIGxldCByZXNwb25zZSA9ICIiOw0KICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5TUG1zZykgew0KICAgICAgICBjb25zdCB0YXJnZXQgPSBgJHt1dGlsLnRhcmdldC5nZXROYW1lKCl9JHt1dGlsLnRhcmdldC5pc09yaWdpbmFsID8gIiIgOiAiIChDbG9uZSkifWA7DQogICAgICAgIGNvbnN0IG5hbWUgPSB1dGlsLnN0YWNrRnJhbWUuU1Btc2c7DQogICAgICAgIGlmICghdXRpbC5zdGFja0ZyYW1lLm5ld1RocmVhZHMpIHsNCiAgICAgICAgICB1dGlsLnN0YWNrRnJhbWUubmV3VGhyZWFkcyA9IFsNCiAgICAgICAgICAgIC4uLnRoaXMuc2VuZE1lc3NhZ2UoIlNQbWVzc2FnZXNfd2hlblJlY2VpdmUxIiwgbmFtZSwgZGF0YSwgdGFyZ2V0KSwNCiAgICAgICAgICAgIC4uLnRoaXMuc2VuZE1lc3NhZ2UoIlNQbWVzc2FnZXNfd2hlblJlY2VpdmVEYXRhMSIsIG5hbWUsIGRhdGEsIHRhcmdldCkNCiAgICAgICAgICBdOw0KICAgICAgICAgIGlmICh1dGlsLnN0YWNrRnJhbWUubmV3VGhyZWFkcy5sZW5ndGggPT09IDApIHJldHVybiAiIjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCB3YWl0aW5nID0gdXRpbC5zdGFja0ZyYW1lLm5ld1RocmVhZHMuc29tZSgodGhyZWFkKSA9PiBydW50aW1lLnRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMSk7DQogICAgICAgIGZvciAoY29uc3QgdGhyZWFkIG9mIHV0aWwuc3RhY2tGcmFtZS5uZXdUaHJlYWRzKSB7DQogICAgICAgICAgaWYgKHRocmVhZC5qdXN0UmVwb3J0ZWQpIHsNCiAgICAgICAgICAgIHJlc3BvbnNlID0gdGhyZWFkLmp1c3RSZXBvcnRlZDsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoIXJlc3BvbnNlICYmIHdhaXRpbmcgJiYgIW1lc3NhZ2VCYW5rW25hbWVdLmZvcmNlKSB7DQogICAgICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5uZXdUaHJlYWRzLmV2ZXJ5KCh0aHJlYWQpID0+IHJ1bnRpbWUuaXNXYWl0aW5nVGhyZWFkKHRocmVhZCkpKSB1dGlsLnlpZWxkVGljaygpOw0KICAgICAgICAgIGVsc2UgdXRpbC55aWVsZCgpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhtZXNzYWdlQmFuayk7DQogICAgICByZXR1cm4gcmVzcG9uc2UgPyByZXNwb25zZSA6ICIiOw0KICAgIH0NCg0KICAgIHdoZW5SZWNlaXZlMShhcmdzLCB1dGlsKSB7DQogICAgICBjb25zdCBkYXRhID0gdXRpbC50aHJlYWQuU1BhZHZNc2c7DQogICAgICBjb25zdCBtc2cgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5NU0cpOw0KICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOw0KICAgICAgY29uc3QgY29uID0gbXNnID09PSBkYXRhLm1zZzsNCiAgICAgIGlmIChjb24pIHsNCiAgICAgICAgdXRpbC50aHJlYWQuU1BhZHZNc2cucGFzcyA9IHRydWU7DQogICAgICAgIG1lc3NhZ2VCYW5rW21zZ10ucmVjZWl2ZXJzLnB1c2goYCR7dXRpbC50YXJnZXQuZ2V0TmFtZSgpfSR7dXRpbC50YXJnZXQuaXNPcmlnaW5hbCA/ICIiIDogIiAoQ2xvbmUpIn1gKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBjb247DQogICAgfQ0KDQogICAgd2hlblJlY2VpdmVEYXRhMShhcmdzLCB1dGlsKSB7DQogICAgICBjb25zdCBkYXRhID0gdXRpbC50aHJlYWQuU1BhZHZNc2c7DQogICAgICBjb25zdCBtc2cgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5NU0cpOw0KICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOw0KICAgICAgY29uc3QgY29uID0gbXNnID09PSBkYXRhLm1zZyAmJiBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5EQVRBKSA9PT0gZGF0YS5kYXRhOw0KICAgICAgaWYgKGNvbikgew0KICAgICAgICB1dGlsLnRocmVhZC5TUGFkdk1zZy5wYXNzID0gdHJ1ZTsNCiAgICAgICAgbWVzc2FnZUJhbmtbbXNnXS5yZWNlaXZlcnMucHVzaChgJHt1dGlsLnRhcmdldC5nZXROYW1lKCl9JHt1dGlsLnRhcmdldC5pc09yaWdpbmFsID8gIiIgOiAiIChDbG9uZSkifWApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGNvbjsNCiAgICB9DQoNCiAgICB3aGVuUmVjZWl2ZTIoYXJncykgew0KICAgICAgY29uc3QgbXNnRGF0YSA9IG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXTsNCiAgICAgIGlmIChtc2dEYXRhICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gInJlY2VpdmVkIikgcmV0dXJuIG1zZ0RhdGEuc2VuZFRpbWUgPT09IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMCk7DQogICAgICAgIGVsc2UgcmV0dXJuIG1zZ0RhdGEudGhyZWFkcy5zb21lKCh0aHJlYWQpID0+IHJ1bnRpbWUuaXNBY3RpdmVUaHJlYWQodGhyZWFkKSk7DQogICAgICB9DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgd2hlblJlY2VpdmVEYXRhMihhcmdzKSB7DQogICAgICBjb25zdCBtc2dEYXRhID0gbWVzc2FnZUJhbmtbYXJncy5NU0ddOw0KICAgICAgaWYgKG1zZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiBtc2dEYXRhLmRhdGEgPT09IGFyZ3MuREFUQSkgew0KICAgICAgICBpZiAoYXJncy5UWVBFID09PSAicmVjZWl2ZWQiKSByZXR1cm4gbXNnRGF0YS5zZW5kVGltZSA9PT0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwKTsNCiAgICAgICAgZWxzZSByZXR1cm4gbXNnRGF0YS50aHJlYWRzLnNvbWUoKHRocmVhZCkgPT4gcnVudGltZS5pc0FjdGl2ZVRocmVhZCh0aHJlYWQpKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICByZXR1cm5EYXRhKGFyZ3MsIHV0aWwpIHsNCiAgICAgIHV0aWwudGhyZWFkLmp1c3RSZXBvcnRlZCA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLkRBVEEpOw0KICAgICAgLy8gRGVsYXkgRGVsZXRpb24gb2YgVGhyZWFkDQogICAgICBpZiAodXRpbC5zdGFja1RpbWVyTmVlZHNJbml0KCkpIHsNCiAgICAgICAgdXRpbC5zdGFydFN0YWNrVGltZXIoMCk7DQogICAgICAgIHJ1bnRpbWUucmVxdWVzdFJlZHJhdygpOw0KICAgICAgICB1dGlsLnlpZWxkKCk7DQogICAgICB9IGVsc2UgaWYgKCF1dGlsLnN0YWNrVGltZXJGaW5pc2hlZCgpKSB1dGlsLnlpZWxkKCk7DQogICAgICB1dGlsLnRocmVhZC5zdG9wVGhpc1NjcmlwdCgpOw0KICAgIH0NCg0KICAgIHJlY2VpdmVkRGF0YShhcmdzKSB7IHJldHVybiBtZXNzYWdlQmFua1thcmdzLk1TR10gPyBtZXNzYWdlQmFua1thcmdzLk1TR10uZGF0YSA6ICIiIH0NCg0KICAgIGdldFJlY2lldmVycyhhcmdzKSB7DQogICAgICBpZiAoYXJncy5UWVBFID09PSAicmVjZWl2ZXJzIikgcmV0dXJuIG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXSA/IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXS5yZWNlaXZlcnMpIDogIltdIjsNCiAgICAgIGVsc2UgcmV0dXJuIG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXSA/IG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXS5zZW5kZXIgOiAiIjsNCiAgICB9DQoNCiAgICBhbGxvd1NlbmRlcihhcmdzKSB7IG1lc3NhZ2VCYW5rW2FyZ3MuTVNHXS5mb3JjZSA9IHRydWUgfQ0KDQogICAgLyogRGVwcmVjYXRpb24gTWFya2VyICovDQogICAgYnJvYWRjYXN0MShhcmdzKSB7IHRoaXMuYnJvYWRjYXN0TXNnKHsgLi4uYXJncywgREFUQSA6ICIiLCBXQUlUIDogImNvbnRpbnVlIiB9KSB9DQogICAgYnJvYWRjYXN0RGF0YTEoYXJncykgeyB0aGlzLmJyb2FkY2FzdE1zZyh7IC4uLmFyZ3MsIERBVEEgOiAiIiwgV0FJVCA6ICJ3YWl0IiB9KSB9DQogICAgYnJvYWRjYXN0MihhcmdzKSB7IHRoaXMuYnJvYWRjYXN0TXNnKHsgLi4uYXJncywgV0FJVCA6ICJjb250aW51ZSIgfSkgfQ0KICAgIGJyb2FkY2FzdERhdGEyKGFyZ3MpIHsgdGhpcy5icm9hZGNhc3RNc2coeyAuLi5hcmdzLCBXQUlUIDogIndhaXQiIH0pIH0NCiAgICBkZWxldGVNZXNzYWdlKGFyZ3MpIHsgcmV0dXJuIH0NCiAgICBkZWxldGVBbGwoKSB7IG1lc3NhZ2VCYW5rID0ge30gfQ0KICAgIC8qIE1hcmtlciBFbmQgKi8NCiAgfQ0KDQogIFNjcmF0Y2guZXh0ZW5zaW9ucy5yZWdpc3RlcihuZXcgU1BtZXNzYWdlcygpKTsNCn0pKFNjcmF0Y2gpOw0K","sipctime":"https://extensions.turbowarp.org/-SIPC-/time.js","lmsData":"https://extensions.turbowarp.org/Lily/ListTools.js","HyperSense2SP":"data:text/javascript;base64,Ly8gTmFtZTogSHlwZXIgU2Vuc2UgVjIKLy8gSUQ6IEh5cGVyU2Vuc2UyU1AKLy8gRGVzY3JpcHRpb246IENvb2wgTmV3IFNlbnNpbmcgQmxvY2tzCi8vIEJ5OiBTaGFya1Bvb2wKLy8gTGljZW5zZTogTUlUCgovLyBWZXJzaW9uIDIuMC4wCgooZnVuY3Rpb24gKFNjcmF0Y2gpIHsKICAidXNlIHN0cmljdCI7CiAgaWYgKCFTY3JhdGNoLmV4dGVuc2lvbnMudW5zYW5kYm94ZWQpIHRocm93IG5ldyBFcnJvcigiSHlwZXIgU2Vuc2UgbXVzdCBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TkRVdU1qa3pJaUJvWldsbmFIUTlJakUwTlM0eU9UTWlJSFpwWlhkQ2IzZzlJakFnTUNBeE5EVXVNamt6SURFME5TNHlPVE1pUGp4bklITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0krUEhCaGRHZ2daRDBpVFRBZ056SXVOalEzUXpBZ016SXVOVEkxSURNeUxqVXlOU0F3SURjeUxqWTBOeUF3Y3pjeUxqWTBOeUF6TWk0MU1qVWdOekl1TmpRM0lEY3lMalkwTnkwek1pNDFNalVnTnpJdU5qUTNMVGN5TGpZME55QTNNaTQyTkRkVE1DQXhNVEl1TnpZNUlEQWdOekl1TmpRM0lpQm1hV3hzUFNJak5ESTNaams1SWk4K1BIQmhkR2dnWkQwaVRUZ3VNRGt4SURjeUxqWTBOMk13TFRNMUxqWTFNeUF5T0M0NU1ETXROalF1TlRVMklEWTBMalUxTmkwMk5DNDFOVFp6TmpRdU5UVTJJREk0TGprd015QTJOQzQxTlRZZ05qUXVOVFUyTFRJNExqa3dNeUEyTkM0MU5UWXROalF1TlRVMklEWTBMalUxTmxNNExqQTVNU0F4TURndU15QTRMakE1TVNBM01pNDJORGNpSUdacGJHdzlJaU0xWTJJeFpEWWlMejQ4Y0dGMGFDQmtQU0pOTVRBMkxqSXhOU0F4TURndU9EZzBZVEl1TmpjZ01pNDJOeUF3SURBZ01TMHhMamc0TmkwdU56aE1NemN1TnpVZ05ERXVOVEl5WVRJdU5qY2dNaTQyTnlBd0lEQWdNU0F3TFRNdU56Y3lJREl1TmpjZ01pNDJOeUF3SURBZ01TQXpMamMzTWlBd2JEWTJMalU0SURZMkxqVTRZVEl1TmpZNUlESXVOalk1SURBZ01DQXhMVEV1T0RnM0lEUXVOVFUwSWlCbWFXeHNQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGlUVFkxTGpjMU5DQTFNUzR3T0ROak1DQTRMakV3TXkwMkxqVTJPQ0F4TkM0Mk56RXRNVFF1TmpjeElERTBMalkzTVhNdE1UUXVOamN4TFRZdU5UWTRMVEUwTGpZM01TMHhOQzQyTjJNd0xUZ3VNVEEwSURZdU5UWTRMVEUwTGpZM01pQXhOQzQyTnkweE5DNDJOeklnT0M0eE1EUWdNQ0F4TkM0Mk56SWdOaTQxTmpnZ01UUXVOamN5SURFMExqWTNNU0lnWm1sc2JEMGlJMlptWmlJdlBqeHdZWFJvSUdROUlrMDJNeTQzTWlBNE1TNHpOekZqTFRjdU9EZzFMVEV1T0RZeUxURXlMamMyT1MwNUxqYzJOQzB4TUM0NU1EWXRNVGN1TmpWek9TNDNOalF0TVRJdU56WTVJREUzTGpZMUxURXdMamt3TnlBeE1pNDNOamtnT1M0M05qVWdNVEF1T1RBM0lERTNMalkxWXkweExqZzJNaUEzTGpnNE5pMDVMamMyTlNBeE1pNDNOeTB4Tnk0Mk5TQXhNQzQ1TURjaUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0pOT1RjdU56WTNJRGd6TGpBNU5HTXdJRGd1TVRBeUxUWXVOVGNnTVRRdU5qY3pMVEUwTGpZM015QXhOQzQyTnpOekxURTBMalkzTWkwMkxqVTNMVEUwTGpZM01pMHhOQzQyTnpNZ05pNDFOamt0TVRRdU5qY3hJREUwTGpZM01pMHhOQzQyTnpGak9DNHhNRElnTUNBeE5DNDJOek1nTmk0MU55QXhOQzQyTnpNZ01UUXVOamNpSUdacGJHdzlJaU5tWm1ZaUx6NDhjR0YwYUNCa1BTSk5NVEEyTGpJeE5TQXhNRGd1T0RnMFlUSXVOamNnTWk0Mk55QXdJREFnTVMweExqZzROaTB1Tnpoc0xURTJMak0wTFRFMkxqTTBZVEl1TmpZMUlESXVOalkxSURBZ01DQXhJREF0TXk0M056TWdNaTQyTnlBeUxqWTNJREFnTUNBeElETXVOemN5SURCc01UWXVNelFnTVRZdU16UmhNaTQyTnlBeUxqWTNJREFnTUNBeElEQWdNeTQzTnpNZ01pNDJPQ0F5TGpZNElEQWdNQ0F4TFRFdU9EZzJMamM0SWlCbWFXeHNQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGlUVEUxTGpNeE5TQTNNaTQyTkRjZ01qZ3VNVEl5SURVNUxqZzBkakkxTGpZeE5IcHROekF1TVRNNUxUUTBMalV5TlVnMU9TNDROR3d4TWk0NE1EY3RNVEl1T0RBM2VtMDBOQzQxTWpVZ05EUXVOVEkxTFRFeUxqZ3dOeUF4TWk0NE1EZFdOVGt1T0RSNlRUVTVMamcwSURFeE55NHhOekpvTWpVdU5qRTBiQzB4TWk0NE1EY2dNVEl1T0RBM2VpSWdabWxzYkQwaUkyWm1aaUlnYzNSeWIydGxQU0lqWm1abUlpQnpkSEp2YTJVdGQybGtkR2c5SWpFdU5TSXZQand2Wno0OEwzTjJaejQ9IjsKCiAgY29uc3QgQ2FzdCA9IFNjcmF0Y2guQ2FzdDsKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgcnVudGltZSA9IHZtLnJ1bnRpbWU7CiAgY29uc3QgcmVuZGVyID0gdm0ucmVuZGVyZXI7CiAgY29uc3Qgc2Vuc2luZ0NvcmUgPSBydW50aW1lLmV4dF9zY3JhdGNoM19zZW5zaW5nOwogIGNvbnN0IGlzUGFja2FnZWQgPSB0eXBlb2Ygc2NhZmZvbGRpbmcgIT09ICJ1bmRlZmluZWQiOwoKICBjb25zdCB0cmFuc2xhdGVkS2V5cyA9IFsKICAgICJhbnkiLCAiYSIsICJiIiwgImMiLCAiZCIsICJlIiwgImYiLCAiZyIsICJoIiwgImkiLCAiaiIsCiAgICAiayIsICJsIiwgIm0iLCAibiIsICJvIiwgInAiLCAicSIsICJyIiwgInMiLCAidCIsICJ1IiwKICAgICJ2IiwgInciLCAieCIsICJ5IiwgInoiLAogICAgIjAiLCAiMSIsICIyIiwgIjMiLCAiNCIsICI1IiwgIjYiLCAiNyIsICI4IiwgIjkiLAogICAgInVwIGFycm93IiwgImRvd24gYXJyb3ciLCAibGVmdCBhcnJvdyIsICJyaWdodCBhcnJvdyIsCiAgICAic3BhY2UiLCAiZW50ZXIiLCAic2hpZnQiLCAiY29udHJvbCIsICJhbHQiLCAibWV0YSIsICJlc2NhcGUiLAogICAgImJhY2tzcGFjZSIsICJ0YWIiLCAiY2FwcyBsb2NrIiwgImluc2VydCIsICJkZWxldGUiLCAicGFnZSB1cCIsICJwYWdlIGRvd24iLAogICAgImAiLCAifiIsICIhIiwgIj8iLCAiQCIsICIjIiwgIiQiLCAiJSIsICJeIiwgIiYiLCAiKiIsICItIiwgIl8iLCAiKyIsICI9IiwKICAgICIoIiwgIikiLCAiWyIsICJdIiwgInsiLCAifSIsICJcXCIsICJ8IiwgIi8iLCAiPCIsICI+IiwgIiwiLCAiLiIsCiAgICAiZjEiLCAiZjIiLCAiZjMiLCAiZjQiLCAiZjUiLCAiZjYiLCAiZjciLCAiZjgiLCAiZjkiLCAiZjEwIiwgImYxMSIsICJmMTIiIAogIF0ubWFwKChrZXkpID0+IHsKICAgIGlmICgvXlthLXowLTkgXSskL2kudGVzdChrZXkpKSByZXR1cm4geyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZShrZXkpLCB2YWx1ZToga2V5IH07CiAgICBlbHNlIHJldHVybiB7IHRleHQ6IGtleSwgdmFsdWU6IGtleSB9OwogIH0pOwoKICBjb25zdCBrZXlEYXRhID0gewogICAgY3VyS2V5OiAiIiwKICAgIGxhc3RLZXk6ICIiLAogICAga2V5czogW10sCiAgICBrZXlUaW1lcnM6IG5ldyBNYXAoKSwKICAgIGtleUJsb2NrZXJzOiBuZXcgU2V0KCkKICB9OwoKICBjb25zdCBtb3VzZURhdGEgPSB7CiAgICBjbGllbnQ6IFswLCAwXSwKICAgIHZlbG9jaXR5OiBbMCwgMF0sCiAgICBzY3JvbGw6IFswLCAwXSwKICAgIHNjcm9sbFZlbG9jaXR5OiBbMCwgMF0KICB9OwoKICAvKiB1bmRlZmluZWQgaXMgZGVmYXVsdCB2YWx1ZXMgKi8KICBjb25zdCBhc2tCb3hTZXR0aW5ncyA9IHsKICAgIHg6IHVuZGVmaW5lZCwgeTogdW5kZWZpbmVkLAogICAgd2lkdGg6IHVuZGVmaW5lZCwKICAgIGlucHV0OiB7CiAgICAgIHR5cGU6IHVuZGVmaW5lZCwKICAgICAgdmFsdWU6IHVuZGVmaW5lZAogICAgfSwKICB9OwoKICBjb25zdCB2YWxpZElucHV0cyA9IFsKICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQiKSwgdmFsdWU6ICJ0ZXh0IiB9LAogICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicGFzc3dvcmQiKSwgdmFsdWU6ICJwYXNzd29yZCIgfSwKICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm51bWJlciIpLCB2YWx1ZTogIm51bWJlciIgfSwKICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImNvbG9yIiksIHZhbHVlOiAiY29sb3IiIH0KICBdOwoKICBsZXQgbG91ZG5lc3NDYWNoZSA9IFtdOwoKICBjbGFzcyBIeXBlclNlbnNlMlNQIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBydW50aW1lLm9uKCJCRUZPUkVfRVhFQ1VURSIsICgpID0+IHsKICAgICAgICAvLyBrZXkgb3BlcmF0aW9ucwogICAgICAgIGNvbnN0IGtleVRpbWVycyA9IGtleURhdGEua2V5VGltZXJzOwogICAgICAgIGtleVRpbWVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7CiAgICAgICAgICBrZXlUaW1lcnMuc2V0KGtleSwgdmFsdWUgKyAwLjEpOwogICAgICAgIH0pOwogICAgICAgIHJ1bnRpbWUuc3RhcnRIYXRzKCJIeXBlclNlbnNlMlNQX3doZW5LZXkiKTsKCiAgICAgICAgLy8gdmVsb2NpdHkgYXBwbGljYXRpb24KICAgICAgICBjb25zdCB7IHZlbG9jaXR5LCBzY3JvbGxWZWxvY2l0eSB9ID0gbW91c2VEYXRhOwogICAgICAgIG1vdXNlRGF0YS52ZWxvY2l0eVswXSArPSAoMCAtIHZlbG9jaXR5WzBdKSAvIDM7CiAgICAgICAgbW91c2VEYXRhLnZlbG9jaXR5WzFdICs9ICgwIC0gdmVsb2NpdHlbMV0pIC8gMzsKCiAgICAgICAgbW91c2VEYXRhLnNjcm9sbFZlbG9jaXR5WzBdICs9ICgwIC0gc2Nyb2xsVmVsb2NpdHlbMF0pIC8gNDsKICAgICAgICBtb3VzZURhdGEuc2Nyb2xsVmVsb2NpdHlbMV0gKz0gKDAgLSBzY3JvbGxWZWxvY2l0eVsxXSkgLyA0OwogICAgICB9KTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsKICAgICAgICBjb25zdCBrZXkgPSB0aGlzLnRvUHJvcGVyS2V5KGUsIGZhbHNlKTsKICAgICAgICBrZXlEYXRhLmN1cktleSA9IGtleTsKICAgICAgICBrZXlEYXRhLmxhc3RLZXkgPSBrZXk7CiAgICAgICAgaWYgKCFrZXlEYXRhLmtleVRpbWVycy5oYXMoa2V5KSkgewogICAgICAgICAga2V5RGF0YS5rZXlzLnB1c2goa2V5KTsKICAgICAgICAgIGtleURhdGEua2V5VGltZXJzLnNldChrZXksIDApOwogICAgICAgIH0KCiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJsb2NrZWQga2V5LCBwcmV2ZW50IGRlZmF1bHQKICAgICAgICBpZiAoa2V5RGF0YS5rZXlCbG9ja2Vycy5oYXMoImFueSIpIHx8IGtleURhdGEua2V5QmxvY2tlcnMuaGFzKGtleSkpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCAoZSkgPT4gewogICAgICAgIGNvbnN0IGtleSA9IHRoaXMudG9Qcm9wZXJLZXkoZSwgZmFsc2UpOwogICAgICAgIGNvbnN0IGluZGV4ID0ga2V5RGF0YS5rZXlzLmluZGV4T2Yoa2V5KTsKCiAgICAgICAga2V5RGF0YS5rZXlUaW1lcnMuZGVsZXRlKGtleSk7CiAgICAgICAga2V5RGF0YS5rZXlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAga2V5RGF0YS5jdXJLZXkgPSBrZXlEYXRhLmtleXNbMF0gfHwgIiI7CiAgICAgIH0pOwoKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2hlZWwiLCAoZSkgPT4gewogICAgICAgIGNvbnN0IG9sZFNjcm9sbCA9IG1vdXNlRGF0YS5zY3JvbGw7CiAgICAgICAgbW91c2VEYXRhLnNjcm9sbCA9IFtvbGRTY3JvbGxbMF0gKyBlLmRlbHRhWCwgb2xkU2Nyb2xsWzFdICsgZS5kZWx0YVldOwogICAgICAgIG1vdXNlRGF0YS5zY3JvbGxWZWxvY2l0eSA9IFtlLmRlbHRhWCwgZS5kZWx0YVldOwoKICAgICAgICBpZiAoZS5kZWx0YVggPiAxKSBydW50aW1lLnN0YXJ0SGF0cygiSHlwZXJTZW5zZTJTUF93aGVuU2Nyb2xsZWQiLCB7IERJUjogInJpZ2h0IiB9KTsKICAgICAgICBlbHNlIGlmIChlLmRlbHRhWCA8IC0xKSBydW50aW1lLnN0YXJ0SGF0cygiSHlwZXJTZW5zZTJTUF93aGVuU2Nyb2xsZWQiLCB7IERJUjogImxlZnQiIH0pOwoKICAgICAgICBpZiAoZS5kZWx0YVkgPiAxKSBydW50aW1lLnN0YXJ0SGF0cygiSHlwZXJTZW5zZTJTUF93aGVuU2Nyb2xsZWQiLCB7IERJUjogInVwIiB9KTsKICAgICAgICBlbHNlIGlmIChlLmRlbHRhWSA8IC0xKSBydW50aW1lLnN0YXJ0SGF0cygiSHlwZXJTZW5zZTJTUF93aGVuU2Nyb2xsZWQiLCB7IERJUjogImRvd24iIH0pOwogICAgICB9KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgKGUpID0+IHsKICAgICAgICBtb3VzZURhdGEuY2xpZW50ID0gW2UuY2xpZW50WCwgZS5jbGllbnRZXTsKICAgICAgICBtb3VzZURhdGEudmVsb2NpdHkgPSBbCiAgICAgICAgICBydW50aW1lLmlvRGV2aWNlcy5tb3VzZS5nZXRTY3JhdGNoWCgpLAogICAgICAgICAgcnVudGltZS5pb0RldmljZXMubW91c2UuZ2V0U2NyYXRjaFkoKQogICAgICAgIF07CiAgICAgIH0pOwogICAgfQogICAgZ2V0SW5mbygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogIkh5cGVyU2Vuc2UyU1AiLAogICAgICAgIG5hbWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJIeXBlciBTZW5zZSBWMiIpLAogICAgICAgIGNvbG9yMTogIiM1Y2IxZDYiLAogICAgICAgIGNvbG9yMjogIiM0N2E4ZDEiLAogICAgICAgIGNvbG9yMzogIiMyZThlYjgiLAogICAgICAgIG1lbnVJY29uVVJJLAogICAgICAgIGJsb2NrczogWwogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLCB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiU2Nyb2xsIERlY3RlY3Rpb24iKSB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzY3JvbGxWYWx1ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzY3JvbGwgW1RZUEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiU0NST0xMX1RZUEVTIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRTY3JvbGxEaXN0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IHNjcm9sbCBkaXN0YW5jZSBbUE9TXSB0byBbQU1UXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBQT1M6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiUE9TSVRJT04iIH0sCiAgICAgICAgICAgICAgQU1UOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAwIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImNoYW5nZVNjcm9sbERpc3QiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJjaGFuZ2Ugc2Nyb2xsIGRpc3RhbmNlIFtQT1NdIGJ5IFtBTVRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFBPUzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQT1NJVElPTiIgfSwKICAgICAgICAgICAgICBBTVQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEwMCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ3aGVuU2Nyb2xsZWQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkVWRU5ULAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid2hlbiBzY3JvbGxlZCBbRElSXSIpLAogICAgICAgICAgICBpc0VkZ2VBY3RpdmF0ZWQ6IGZhbHNlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBESVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiU0NST0xMX0VWRU5UUyIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiaXNTY3JvbGxlZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIHNjcm9sbGluZyBbVFlQRV0gPyIpLAogICAgICAgICAgICBkaXNhYmxlTW9uaXRvcjogdHJ1ZSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJTQ1JPTExfRVZFTlRTIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLCB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiTW91c2UgRGV0ZWN0aW9uIikgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibW91c2VDbGljayIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIG1vdXNlIFtCVVRUT05dIGRvd24/IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEJVVFRPTjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJNT1VTRV9CVVRUT05TIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlYWxNb3VzZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZWFsIG1vdXNlIFtQT1NdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFBPUzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQT1NJVElPTiIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtb3VzZVZlbG9jaXR5IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm1vdXNlIHZlbG9jaXR5IFtQT1NdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFBPUzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQT1NJVElPTiIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLCB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiS2V5IERldGVjdGlvbiIpIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogIndoZW5LZXkiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkhBVCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIndoZW4gW0tFWV0ga2V5IFtUWVBFXSIpLAogICAgICAgICAgICBpc0VkZ2VBY3RpdmF0ZWQ6IGZhbHNlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiS0VZUyIgfSwKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIktFWV9QUkVTUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJpc0tleSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImtleSBbS0VZXSBbVFlQRV0gPyIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiS0VZUyIgfSwKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIktFWV9QUkVTUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImN1cnJlbnRLZXkiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiW1RZUEVdIHByZXNzZWQiKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJLRVlfTElTVFMiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidGltZUtleVByZXNzZWQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2Vjb25kcyBbS0VZXSBrZXkgcHJlc3NlZCIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiS0VZUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldEtleUJsb2NrIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmxvY2sgZGVmYXVsdCBiZWhhdmlvdXIgb2Yga2V5IFtLRVldIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEtFWTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJLRVlTIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlc2V0S2V5QmxvY2tzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicmVzZXQgYmxvY2tlZCBrZXkgYmVoYXZpb3VycyIpCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJnZXRLZXlCbG9ja2VycyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJibG9ja2VkIGtleXMiKQogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlRvdWNoaW5nIEV4cGFuZGVkIikgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3ByaXRlUG9pbnRpbmciLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJpcyBbU1BSSVRFMV0gcG9pbnRpbmcgdG93YXJkcyBbU1BSSVRFMl0/IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNQUklURTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX1RBUkdFVFMiIH0sCiAgICAgICAgICAgICAgU1BSSVRFMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJPQkpFQ1RTIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNwcml0ZVRvdWNoaW5nU3ByaXRlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgW1NQUklURTFdIHRvdWNoaW5nIFtTUFJJVEUyXT8iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1BSSVRFMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJPQkpFQ1RTIiB9LAogICAgICAgICAgICAgIFNQUklURTI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX1RBUkdFVFMiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3ByaXRlVG91Y2hpbmdTcHJpdGVUeXBlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgW1NQUklURTFdIHRvdWNoaW5nIFtUWVBFXSBvZiBbU1BSSVRFMl0/IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNQUklURTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX09CSkVDVFMiIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJUQVJHRVRfVFlQRSIgfSwKICAgICAgICAgICAgICBTUFJJVEUyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlRBUkdFVFMiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3ByaXRlVG91Y2hpbmdDbG9uZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIFtTUFJJVEUxXSB0b3VjaGluZyBjbG9uZSBvZiBbU1BSSVRFMl0gd2l0aCBbVkFSXSBzZXQgdG8gW1ZBTF0/IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNQUklURTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX09CSkVDVFMiIH0sCiAgICAgICAgICAgICAgU1BSSVRFMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJUQVJHRVRTIiB9LAogICAgICAgICAgICAgIFZBUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15IHZhcmlhYmxlIikgfSwKICAgICAgICAgICAgICBWQUw6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IDAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNwcml0ZXNUb3VjaGluZyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzcHJpdGVzIHRvdWNoaW5nIFtTUFJJVEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNQUklURTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJBTExfT0JKRUNUUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJnZXROZWlnaGJvcnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibmVpZ2hib3JzIG9mIFtTUFJJVEVdIGluIHJhbmdlIFtESUFNRVRFUl0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1BSSVRFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkFMTF9PQkpFQ1RTIiB9LAogICAgICAgICAgICAgIERJQU1FVEVSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAyMDAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogIm9ialRvdWNoaW5nQ29sb3IiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiY29sb3IgdG91Y2hpbmcgW1NQUklURV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1BSSVRFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkFMTF9PQkpFQ1RTIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImNvbG9yQXRQb3NpdGlvbiIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJjb2xvciBhdCB4IFt4XSB5IFt5XSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICB4OiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgICAgICAgICAgeTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMCB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3ByaXRlRHJhZ01vZGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgZHJhZyBtb2RlIG9mIFtTUFJJVEVdIHRvIFtEUkFHXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTUFJJVEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX1RBUkdFVFMiIH0sCiAgICAgICAgICAgICAgRFJBRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJEUkFHX01PREVTIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzcHJpdGVEcmFnZ2FibGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJpcyBbU1BSSVRFXSBbRFJBR10gPyIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTUFJJVEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxMX1RBUkdFVFMiIH0sCiAgICAgICAgICAgICAgRFJBRzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJEUkFHX1RZUEUiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJBc2tpbmciKSB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhZHZhbmNlZEFzayIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImFzayBbUVVFU1RJT05dIGFzIFtUWVBFXSBhbmQgW1dBSVRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFFVRVNUSU9OOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgid2hhdCBpcyB5b3VyIG5hbWU/IikgfSwKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkFTS19UWVBFIiB9LAogICAgICAgICAgICAgIFdBSVQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiV0FJVF9UWVBFUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhc2tSZXBvcnRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJhc2sgW1FVRVNUSU9OXSBhcyBbVFlQRV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgUVVFU1RJT046IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJ3aGF0IGlzIHlvdXIgbmFtZT8iKSB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQVNLX1RZUEUiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic3RvcEFza2luZyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInN0b3AgYXNraW5nIHF1ZXN0aW9uIikKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImN1cnJlbnRUeXBlZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJ0eXBlZCBhbnN3ZXIiKQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiaXNBc2tpbmciLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJpcyBhc2tpbmcgcXVlc3Rpb24/IikKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0QXNrRGlzcGxheSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBhc2sgbW9uaXRvciB4OiBbeF0geTogW3ldIHdpZHRoOiBbd2lkdGhdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIHg6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgICAgICAgICB5OiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAwLCBleGVtcHRGcm9tTm9ybWFsaXphdGlvbjogdHJ1ZSB9LAogICAgICAgICAgICAgIHdpZHRoOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiA0ODAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRBc2tUeXBlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IGFzayBib3ggaW5wdXQgdG8gW1RZUEVdIGRlZmF1bHQgdmFsdWUgW1RFWFRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQVNLX0lOUFVUUyIgfSwKICAgICAgICAgICAgICBURVhUOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiLi4uIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldEFza0xpc3QiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgYXNrIGJveCBpbnB1dCB0byBkcm9wZG93biB3aXRoIGl0ZW1zIGluIGFycmF5IFtMSVNUXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBMSVNUOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiW1wib3B0aW9uIDFcIiwgXCJvcHRpb24gMlwiXSIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLCB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiTWlzY2VsbGFuZW91cyIpIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImlzU2NyZWVuIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgW1NDUkVFTl0gPyIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTQ1JFRU46IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiU0NSRUVOUyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzY3JlZW5PZmYiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic3RhZ2UgW1RZUEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiU1RBR0VfU0NBTEVTIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXZlcmFnZU1pY1ZvbHVtZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJhdmVyYWdlIGxvdWRuZXNzIikKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImdldFNwcml0ZU5hbWUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibXkgc3ByaXRlIG5hbWUiKQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYWxsTGF5ZXJzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm1heCBzcHJpdGUgbGF5ZXJzIikKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYm9vbGVhbiIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIFtTVFJJTkddIHJlYWw/IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGV4ZW1wdEZyb21Ob3JtYWxpemF0aW9uOiB0cnVlIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0QWxsU3RyaW5nIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImdldCBbVEVYVF0gaW4gW1NUUklOR10iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1RSSU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgicm90YXRpbmcgYSA2IG1ha2VzIGEgOSEiKSB9LAogICAgICAgICAgICAgIFRFWFQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAic3RyaW5nX3R5cGVzIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBtZW51czogewogICAgICAgICAgT0JKRUNUUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLl9nZXRPYmplY3RzKHRydWUsIGZhbHNlKSB9LAogICAgICAgICAgQUxMX09CSkVDVFM6IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogdGhpcy5fZ2V0T2JqZWN0cyh0cnVlLCB0cnVlKSB9LAogICAgICAgICAgVEFSR0VUUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLl9nZXRPYmplY3RzKGZhbHNlLCBmYWxzZSkgfSwKICAgICAgICAgIEFMTF9UQVJHRVRTOiB7IGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwgaXRlbXM6IHRoaXMuX2dldE9iamVjdHMoZmFsc2UsIHRydWUpIH0sCiAgICAgICAgICBQT1NJVElPTjogWyJ4IiwgInkiXSwKICAgICAgICAgIFdBSVRfVFlQRVM6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid2FpdCIpLCB2YWx1ZTogIndhaXQiIH0sCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImNvbnRpbnVlIiksIHZhbHVlOiAiY29udGludWUiIH0KICAgICAgICAgIF0sCiAgICAgICAgICBTQ1JPTExfVFlQRVM6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZGlzdGFuY2UgeCIpLCB2YWx1ZTogImRpc3RhbmNlWCIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZGlzdGFuY2UgeSIpLCB2YWx1ZTogImRpc3RhbmNlWSIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidmVsb2NpdHkgeCIpLCB2YWx1ZTogInZlbG9jaXR5WCIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidmVsb2NpdHkgeSIpLCB2YWx1ZTogInZlbG9jaXR5WSIgfQogICAgICAgICAgXSwKICAgICAgICAgIFNDUk9MTF9FVkVOVFM6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidXAiKSwgdmFsdWU6ICJ1cCIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZG93biIpLCB2YWx1ZTogImRvd24iIH0sCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxlZnQiKSwgdmFsdWU6ICJsZWZ0IiB9LAogICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyaWdodCIpLCB2YWx1ZTogInJpZ2h0IiB9CiAgICAgICAgICBdLAogICAgICAgICAgTU9VU0VfQlVUVE9OUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibGVmdCIpLCB2YWx1ZTogIjAiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2Nyb2xsIHdoZWVsIiksIHZhbHVlOiAiMSIgfSwKICAgICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyaWdodCIpLCB2YWx1ZTogIjIiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFjayIpLCB2YWx1ZTogIjMiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZm93YXJkIiksIHZhbHVlOiAiNCIgfQogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIEtFWV9QUkVTUzogWwogICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJwcmVzc2VkIiksIHZhbHVlOiAicHJlc3NlZCIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaGl0IiksIHZhbHVlOiAiaGl0IiB9CiAgICAgICAgICBdLAogICAgICAgICAgS0VZX0xJU1RTOiBbCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImN1cnJlbnQga2V5IiksIHZhbHVlOiAicHJlc3MiIH0sCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImtleXMiKSwgdmFsdWU6ICJwcmVzc2VkIiB9LAogICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJsYXN0IGtleSIpLCB2YWx1ZTogImxhc3RQcmVzcyIgfQogICAgICAgICAgXSwKICAgICAgICAgIEtFWVM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogdHJhbnNsYXRlZEtleXMKICAgICAgICAgIH0sCiAgICAgICAgICBUQVJHRVRfVFlQRTogWwogICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJwYXJlbnQiKSwgdmFsdWU6ICJwYXJlbnQiIH0sCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImNsb25lIiksIHZhbHVlOiAiY2xvbmUiIH0KICAgICAgICAgIF0sCiAgICAgICAgICBEUkFHX1RZUEU6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZHJhZ2dhYmxlIiksIHZhbHVlOiAiZHJhZ2dhYmxlIiB9LAogICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJiZWluZyBkcmFnZ2VkIiksIHZhbHVlOiAiYmVpbmcgZHJhZ2dlZCIgfQogICAgICAgICAgXSwKICAgICAgICAgIERSQUdfTU9ERVM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRyYWdnYWJsZSIpLCB2YWx1ZTogImRyYWdnYWJsZSIgfSwKICAgICAgICAgICAgICB7IHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJub3QgZHJhZ2dhYmxlIiksIHZhbHVlOiAibm90IGRyYWdnYWJsZSIgfQogICAgICAgICAgICBdCiAgICAgICAgICB9LAogICAgICAgICAgQVNLX1RZUEU6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic3RhZ2UiKSwgdmFsdWU6ICJzdGFnZSIgfSwKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic3ByaXRlIiksIHZhbHVlOiAic3ByaXRlIiB9CiAgICAgICAgICBdLAogICAgICAgICAgQVNLX0lOUFVUUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiB2YWxpZElucHV0cwogICAgICAgICAgfSwKICAgICAgICAgIFNDUkVFTlM6IFsKICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZnVsbHNjcmVlbiIpLCB2YWx1ZTogImZ1bGxzY3JlZW4iIH0sCiAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNtYWxsc2NyZWVuIiksIHZhbHVlOiAic21hbGxzY3JlZW4iIH0KICAgICAgICAgIF0sCiAgICAgICAgICBTVEFHRV9TQ0FMRVM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIndpZHRoIiksIHZhbHVlOiAid2lkdGgiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZGlzcGxheSB3aWR0aCIpLCB2YWx1ZTogImRpc3BsYXkgd2lkdGgiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaGVpZ2h0IiksIHZhbHVlOiAiaGVpZ2h0IiB9LAogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRpc3BsYXkgaGVpZ2h0IiksIHZhbHVlOiAiZGlzcGxheSBoZWlnaHQiIH0sCiAgICAgICAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2l6ZSByYXRpbyIpLCB2YWx1ZTogInJhdGlvIiB9CiAgICAgICAgICAgIF0KICAgICAgICAgIH0sCiAgICAgICAgICBzdHJpbmdfdHlwZXM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm51bWJlcnMiKSwgdmFsdWU6ICJudW1iZXJzIiB9LAogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxldHRlcnMiKSwgdmFsdWU6ICJsZXR0ZXJzIiB9LAogICAgICAgICAgICAgIHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNwZWNpYWwgY2hhcmFjdGVycyIpLCB2YWx1ZTogInNwZWNpYWwiIH0KICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICAvLyBIZWxwZXIgRnVuY3MKICAgIF9nZXRPYmplY3RzKG1vdXNlLCBteXNlbGYpIHsKICAgICAgY29uc3Qgc3ByaXRlTmFtZXMgPSBbXTsKICAgICAgaWYgKG1vdXNlKSB7IHNwcml0ZU5hbWVzLnB1c2goeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibW91c2UtcG9pbnRlciIpLCB2YWx1ZTogIl9tb3VzZV8iIH0pIH0KICAgICAgaWYgKG15c2VsZikgeyBzcHJpdGVOYW1lcy5wdXNoKHsgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm15c2VsZiIpLCB2YWx1ZTogIl9teXNlbGZfIiB9KSB9CiAgICAgIGNvbnN0IHRhcmdldHMgPSBydW50aW1lLnRhcmdldHM7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldHNbaV07CiAgICAgICAgaWYgKHRhcmdldC5pc09yaWdpbmFsKSB7CiAgICAgICAgICBjb25zdCB0YXJnZXROYW1lID0gdGFyZ2V0LmdldE5hbWUoKTsKICAgICAgICAgIHNwcml0ZU5hbWVzLnB1c2goeyB0ZXh0OiB0YXJnZXROYW1lLCB2YWx1ZTogdGFyZ2V0TmFtZSB9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHNwcml0ZU5hbWVzLmxlbmd0aCA+IDAgPyBzcHJpdGVOYW1lcyA6IFsiIl07CiAgICB9CgogICAgdG9Qcm9wZXJLZXkoZXZlbnQsIHJldmVyc2UpIHsKICAgICAgbGV0IGtleSA9IGV2ZW50LmtleTsKICAgICAgaWYgKGtleSA9PT0gIiAiKSByZXR1cm4gInNwYWNlIjsKICAgICAgZWxzZSBpZiAoa2V5Lmxlbmd0aCA+IDEpIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpOwoKICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCJhcnJvdyIpKSBrZXkgPSBrZXkucmVwbGFjZSgiYXJyb3ciLCAiIikgKyAiIGFycm93IjsKICAgICAgZWxzZSBpZiAoa2V5LnN0YXJ0c1dpdGgoInBhZ2UiKSkga2V5ID0ga2V5LnJlcGxhY2UoInBhZ2UiLCAicGFnZSAiKTsKICAgICAgZWxzZSBpZiAoa2V5ID09PSAiY2Fwc2xvY2siKSBrZXkgPSAiY2FwcyBsb2NrIjsKICAgICAgZWxzZSBpZiAoa2V5ID09PSAiY29udGV4dG1lbnUiKSBrZXkgPSAiY29udGV4dCBtZW51IjsKICAgICAgcmV0dXJuIGtleTsKICAgIH0KCiAgICBrZXlDaGVja0hhbmRsZXIoa2V5LCBoaXRPbmx5KSB7CiAgICAgIGNvbnN0IHsga2V5VGltZXJzLCBjdXJLZXkgfSA9IGtleURhdGE7CiAgICAgIGlmIChrZXkgPT09ICJhbnkiICYmIGN1cktleSAhPT0gIiIpIHJldHVybiBoaXRPbmx5ID8ga2V5VGltZXJzLmdldChjdXJLZXkpIDw9IDAuMSA6IHRydWU7CiAgICAgIGlmIChrZXlUaW1lcnMuaGFzKGtleSkpIHJldHVybiBoaXRPbmx5ID8ga2V5VGltZXJzLmdldChrZXkpIDw9IDAuMSA6IHRydWU7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb2xvckF0UG9zKHgsIHkpIHsKICAgICAgY29uc3QgY2xpZW50WCA9IE1hdGgucm91bmQoKCgocnVudGltZS5zdGFnZVdpZHRoIC8gMikgKyB4KSAvIHJ1bnRpbWUuc3RhZ2VXaWR0aCkgKiByZW5kZXIuX2dsLmNhbnZhcy5jbGllbnRXaWR0aCk7CiAgICAgIGNvbnN0IGNsaWVudFkgPSBNYXRoLnJvdW5kKCgoKHJ1bnRpbWUuc3RhZ2VIZWlnaHQgLyAyKSAtIHkpIC8gcnVudGltZS5zdGFnZUhlaWdodCkgKiByZW5kZXIuX2dsLmNhbnZhcy5jbGllbnRIZWlnaHQpOwogICAgICBjb25zdCByZ2IgPSByZW5kZXIuZXh0cmFjdENvbG9yKGNsaWVudFgsIGNsaWVudFksIDIwKS5jb2xvcjsKICAgICAgcmV0dXJuIGAjJHtyZ2Iuci50b1N0cmluZygxNikucGFkU3RhcnQoMiwgIjAiKX0ke3JnYi5nLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAiMCIpfSR7cmdiLmIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICIwIil9YDsKICAgIH0KCiAgICBnZXRUYXJnZXQobmFtZSwgdXRpbCwgY2hlY2tNb3VzZSwgY2hlY2tNeXNlbGYsIHJldHVybk5hbWUpIHsKICAgICAgaWYgKGNoZWNrTW91c2UgJiYgbmFtZSA9PT0gIl9tb3VzZV8iKSByZXR1cm4gIl9tb3VzZV8iOwogICAgICBpZiAoY2hlY2tNeXNlbGYgJiYgbmFtZSA9PT0gIl9teXNlbGZfIikgcmV0dXJuIHJldHVybk5hbWUgPyB1dGlsLnRhcmdldC5nZXROYW1lKCkgOiB1dGlsLnRhcmdldDsKCiAgICAgIGNvbnN0IHRhcmdldCA9IHJ1bnRpbWUuZ2V0U3ByaXRlVGFyZ2V0QnlOYW1lKG5hbWUpOwogICAgICBpZiAocmV0dXJuTmFtZSkgcmV0dXJuIHRhcmdldCA/IHRhcmdldC5nZXROYW1lKCkgOiBuYW1lOwogICAgICBlbHNlIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgdXBkYXRlQXNrTW9uaXRvcigpIHsKICAgICAgbGV0IGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltjbGFzcyo9InF1ZXN0aW9uIl1gKTsKICAgICAgaWYgKCFib3gpIHJldHVybjsKCiAgICAgIGlmIChpc1BhY2thZ2VkKSBib3ggPSBib3guZmlyc3RFbGVtZW50Q2hpbGQ7CiAgICAgIGVsc2UgYm94ID0gYm94LmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkOwogICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBpbnB1dCB9ID0gYXNrQm94U2V0dGluZ3M7CgogICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkIHx8IHkgIT09IHVuZGVmaW5lZCB8fCB3aWR0aCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3QgY2FudmFzQm91bmRzID0gcmVuZGVyLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBjb25zdCByYXRpbyA9IGNhbnZhc0JvdW5kcy53aWR0aCAvIHJ1bnRpbWUuc3RhZ2VXaWR0aDsKCiAgICAgICAgY29uc3Qgd2lkdGhDU1MgPSBgd2lkdGg6IGNhbGMoJHt3aWR0aCA/IGAke3dpZHRoICogcmF0aW99cHhgIDogIjEwMCUifSAtIDFyZW0pO2A7CiAgICAgICAgY29uc3QgcG9zaXRpb25DU1MgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoY2FsYygtNTAlICsgJHt4ID8/IDB9cHgpLCBjYWxjKC01MCUgKyAke3kgPz8gaXNQYWNrYWdlZCA/IC01NSA6IDEwMH1weCkpO2A7CiAgICAgICAgYm94LnNldEF0dHJpYnV0ZSgic3R5bGUiLCBgbWFyZ2luOiAwOyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDUwJTsgdG9wOiA1MCU7ICR7d2lkdGhDU1N9ICR7cG9zaXRpb25DU1N9YCk7CiAgICAgIH0KCiAgICAgIGlmIChpbnB1dC50eXBlID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgY29uc3QgYXNrSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlzUGFja2FnZWQgPyBgaW5wdXRbY2xhc3M9InNjLXF1ZXN0aW9uLWlucHV0Il1gIDogYGRpdltjbGFzcyo9InF1ZXN0aW9uIl0gW2NsYXNzXj0iaW5wdXRfaW5wdXQtZm9ybSJdYCk7CiAgICAgIGNvbnN0IGVsZW1lbnQgPSBib3gucXVlcnlTZWxlY3Rvcihgc2VsZWN0W2lkPSJTUC1pbnB1dF9zZWxlY3QiXWApOwogICAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5yZW1vdmUoKTsKCiAgICAgIGlmIChpbnB1dC50eXBlID09PSAiZHJvcGRvd24iKSB7CiAgICAgICAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTsKICAgICAgICBkcm9wZG93bi5pZCA9ICJTUC1pbnB1dF9zZWxlY3QiOwogICAgICAgIGRyb3Bkb3duLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCBhc2tJbnB1dC5nZXRBdHRyaWJ1dGUoImNsYXNzIikpOwogICAgICAgIGRyb3Bkb3duLnNldEF0dHJpYnV0ZSgic3R5bGUiLCBgd2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNmZmY7IGNvbG9yOiAjNTA1MDUwOyBib3JkZXItY29sb3I6ICNEOUQ5RDk7YCk7CiAgICAgICAgaW5wdXQudmFsdWUuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbTsgb3B0aW9uLnRleHQgPSBpdGVtOwogICAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICB9KTsKCiAgICAgICAgYXNrSW5wdXQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkcm9wZG93bik7CiAgICAgICAgYXNrSW5wdXQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBhc2tJbnB1dC52YWx1ZSA9IGRyb3Bkb3duLnZhbHVlOwogICAgICAgIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKSA9PiB7CiAgICAgICAgICBhc2tJbnB1dC52YWx1ZSA9IGRyb3Bkb3duLnZhbHVlOwogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QgYnV0dG9uID0gYm94LnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbltjbGFzcyo9InF1ZXN0aW9uLXN1Ym1pdC1idXR0b24iXWApOwogICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzZW5zaW5nQ29yZS5fYW5zd2VyID0gYXNrSW5wdXQudmFsdWUgfSwgMTApOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpbnB1dC52YWx1ZSkgYXNrSW5wdXQudmFsdWUgPSBpbnB1dC52YWx1ZTsKICAgICAgICBhc2tJbnB1dC50eXBlID0gaW5wdXQudHlwZTsKICAgICAgICBhc2tJbnB1dC5wYXR0ZXJuID0gaW5wdXQudHlwZSA9PT0gIm51bWJlciIgPyAiWzAtOV0qIiA6ICJub25lIjsKICAgICAgICBhc2tJbnB1dC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIC8vIEJsb2NrIEZ1bmNzCiAgICBzY3JvbGxWYWx1ZShhcmdzKSB7CiAgICAgIGNvbnN0IHR5cGUgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuVFlQRSk7CiAgICAgIGNvbnN0IGluZGV4ID0gdHlwZS5lbmRzV2l0aCgiWCIpID8gMCA6IDE7CiAgICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoImRpc3RhbmNlIikpIHJldHVybiBtb3VzZURhdGEuc2Nyb2xsW2luZGV4XTsKICAgICAgZWxzZSByZXR1cm4gbW91c2VEYXRhLnNjcm9sbFZlbG9jaXR5W2luZGV4XTsKICAgIH0KCiAgICBzZXRTY3JvbGxEaXN0KGFyZ3MpIHsKICAgICAgY29uc3QgaW5kZXggPSBhcmdzLlBPUyA9PT0gIngiID8gMCA6IDE7CiAgICAgIG1vdXNlRGF0YS5zY3JvbGxbaW5kZXhdID0gQ2FzdC50b051bWJlcihhcmdzLkFNVCk7CiAgICB9CgogICAgY2hhbmdlU2Nyb2xsRGlzdChhcmdzKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gYXJncy5QT1MgPT09ICJ4IiA/IDAgOiAxOwogICAgICBtb3VzZURhdGEuc2Nyb2xsW2luZGV4XSArPSBDYXN0LnRvTnVtYmVyKGFyZ3MuQU1UKTsKICAgIH0KCiAgICBpc1Njcm9sbGVkKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgdHlwZSA9IENhc3QudG9TdHJpbmcoYXJncy5UWVBFKTsKICAgICAgY29uc3QgaXNYID0gdHlwZSA9PT0gImxlZnQiIHx8IHR5cGUgPT09ICJyaWdodCI7CiAgICAgIGNvbnN0IHNjcm9sbERpc3QgPSBtb3VzZURhdGEuc2Nyb2xsW2lzWCA/IDAgOiAxXTsKICAgICAgY29uc3Qgc3RhY2tOYW1lID0gYFNQc2Nyb2xsQ2hlY2ske2lzWCA/ICJYIiA6ICJZIn1gOwoKICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdW3N0YWNrTmFtZV0gPT09IHVuZGVmaW5lZCkgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF1bc3RhY2tOYW1lXSA9IDA7CiAgICAgIGNvbnN0IHRlc3RlclZhbCA9IHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdW3N0YWNrTmFtZV07CgogICAgICBjb25zdCBzdGF0dXMgPSB0eXBlID09PSAiZG93biIgfHwgdHlwZSA9PT0gImxlZnQiID8KICAgICAgICBzY3JvbGxEaXN0ID4gdGVzdGVyVmFsIDogc2Nyb2xsRGlzdCA8IHRlc3RlclZhbDsKCiAgICAgIGlmIChzdGF0dXMpIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdW3N0YWNrTmFtZV0gPSBzY3JvbGxEaXN0OwogICAgICByZXR1cm4gQ2FzdC50b0Jvb2xlYW4oc3RhdHVzKTsKICAgIH0KCiAgICBtb3VzZUNsaWNrKGFyZ3MsIHV0aWwpIHsKICAgICAgcmV0dXJuIHV0aWwuaW9RdWVyeSgibW91c2UiLCAiZ2V0QnV0dG9uSXNEb3duIiwgW0Nhc3QudG9OdW1iZXIoYXJncy5CVVRUT04pXSkKICAgIH0KCiAgICByZWFsTW91c2UoYXJncykgewogICAgICByZXR1cm4gbW91c2VEYXRhLmNsaWVudFthcmdzLlBPUyA9PT0gIngiID8gMCA6IDFdOwogICAgfQoKICAgIG1vdXNlVmVsb2NpdHkoYXJncykgewogICAgICByZXR1cm4gbW91c2VEYXRhLnZlbG9jaXR5W2FyZ3MuUE9TID09PSAieCIgPyAwIDogMV07CiAgICB9CgogICAgd2hlbktleShhcmdzKSB7CiAgICAgIGNvbnN0IGtleSA9IENhc3QudG9TdHJpbmcoYXJncy5LRVkpOwogICAgICBjb25zdCBpc0hpdCA9IENhc3QudG9TdHJpbmcoYXJncy5UWVBFKSA9PT0gImhpdCI7CiAgICAgIHJldHVybiB0aGlzLmtleUNoZWNrSGFuZGxlcihrZXksIGlzSGl0KTsKICAgIH0KCiAgICBpc0tleShhcmdzKSB7CiAgICAgIC8vIHJlYWxseSBub3RoaW5nIHNwZWNpYWwgaGVyZQogICAgICByZXR1cm4gdGhpcy53aGVuS2V5KGFyZ3MpOwogICAgfQoKICAgIGN1cnJlbnRLZXkoYXJncykgewogICAgICBjb25zdCB0eXBlID0gQ2FzdC50b1N0cmluZyhhcmdzLlRZUEUpOwogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICJwcmVzcyI6IHJldHVybiBrZXlEYXRhLmN1cktleTsKICAgICAgICBjYXNlICJwcmVzc2VkIjogcmV0dXJuIEpTT04uc3RyaW5naWZ5KGtleURhdGEua2V5cyk7CiAgICAgICAgY2FzZSAibGFzdFByZXNzIjogcmV0dXJuIGtleURhdGEubGFzdEtleTsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KCiAgICB0aW1lS2V5UHJlc3NlZChhcmdzKSB7CiAgICAgIGNvbnN0IGtleSA9IENhc3QudG9TdHJpbmcoYXJncy5LRVkpLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmIChrZXkgPT09ICJhbnkiKSByZXR1cm4gTWF0aC5tYXgoMCwgLi4ua2V5RGF0YS5rZXlUaW1lcnMudmFsdWVzKCkudG9BcnJheSgpKTsKICAgICAgZWxzZSByZXR1cm4ga2V5RGF0YS5rZXlUaW1lcnMuZ2V0KGtleSkgPz8gMDsKICAgIH0KCiAgICBzZXRLZXlCbG9jayhhcmdzKSB7CiAgICAgIGNvbnN0IGtleSA9IENhc3QudG9TdHJpbmcoYXJncy5LRVkpOwogICAgICBrZXlEYXRhLmtleUJsb2NrZXJzLmFkZChrZXkpOwogICAgfQoKICAgIHJlc2V0S2V5QmxvY2tzKCkgewogICAgICBrZXlEYXRhLmtleUJsb2NrZXJzLmNsZWFyKCk7CiAgICB9CgogICAgZ2V0S2V5QmxvY2tlcnMoKSB7CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShrZXlEYXRhLmtleUJsb2NrZXJzLnZhbHVlcygpLnRvQXJyYXkoKSk7CiAgICB9CgogICAgc3ByaXRlUG9pbnRpbmcoYXJncywgdXRpbCkgewogICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldFRhcmdldChhcmdzLlNQUklURTEsIHV0aWwsIGZhbHNlLCB0cnVlLCBmYWxzZSk7CiAgICAgIGlmICghdGFyZ2V0KSByZXR1cm4gZmFsc2U7CiAgICAgIGNvbnN0IG9sZERpciA9IHRhcmdldC5kaXJlY3Rpb247CiAgICAgIHJ1bnRpbWUuZXh0X3NjcmF0Y2gzX21vdGlvbi5wb2ludFRvd2FyZHMoeyBUT1dBUkRTOiBhcmdzLlNQUklURTIgfSwgeyAuLi51dGlsLCB0YXJnZXQsIGlvUXVlcnk6IHV0aWwuaW9RdWVyeSB9KTsKICAgICAgY29uc3QgbmV3RGlyID0gdGFyZ2V0LmRpcmVjdGlvbjsKICAgICAgdGFyZ2V0LnNldERpcmVjdGlvbihvbGREaXIpOwogICAgICByZXR1cm4gTWF0aC5yb3VuZChuZXdEaXIpID09PSBNYXRoLnJvdW5kKG9sZERpcik7CiAgICB9CgogICAgc3ByaXRlVG91Y2hpbmdTcHJpdGUoYXJncywgdXRpbCkgewogICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldFRhcmdldChhcmdzLlNQUklURTIsIHV0aWwsIGZhbHNlLCB0cnVlLCBmYWxzZSk7CiAgICAgIGlmICghdGFyZ2V0KSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0YXJnZXQuc3ByaXRlLmNsb25lcy5zb21lKCh0KSA9PiB0LmlzVG91Y2hpbmdPYmplY3QoYXJncy5TUFJJVEUxKSk7CiAgICB9CgogICAgc3ByaXRlVG91Y2hpbmdTcHJpdGVUeXBlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgdGFyZ2V0MSA9IHRoaXMuZ2V0VGFyZ2V0KGFyZ3MuU1BSSVRFMSwgdXRpbCwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgICBjb25zdCB0YXJnZXQyID0gcnVudGltZS5nZXRTcHJpdGVUYXJnZXRCeU5hbWUoYXJncy5TUFJJVEUyKTsKICAgICAgaWYgKCF0YXJnZXQxIHx8ICF0YXJnZXQyKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChhcmdzLlRZUEUgPT09ICJwYXJlbnQiKSB7CiAgICAgICAgaWYgKHRhcmdldDEgPT09ICJfbW91c2VfIikgcmV0dXJuIHRhcmdldDIuaXNUb3VjaGluZ09iamVjdCgiX21vdXNlXyIpOwogICAgICAgIGVsc2UgcmV0dXJuIHJlbmRlci5pc1RvdWNoaW5nRHJhd2FibGVzKHRhcmdldDEuZHJhd2FibGVJRCwgW3RhcmdldDIuZHJhd2FibGVJRF0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGNsb25lcyA9IHRhcmdldDIuc3ByaXRlLmNsb25lczsKICAgICAgICBpZiAodGFyZ2V0MSA9PT0gIl9tb3VzZV8iKSByZXR1cm4gY2xvbmVzLnNvbWUoKGMpID0+ICFjLmlzT3JpZ2luYWwgJiYgYy5pc1RvdWNoaW5nT2JqZWN0KCJfbW91c2VfIikpOwogICAgICAgIGVsc2UgewogICAgICAgICAgY29uc3QgY2xvbmVJZHMgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY2xvbmVzLmxlbmd0aDsgaSsrKSBjbG9uZUlkcy5wdXNoKGNsb25lc1tpXS5kcmF3YWJsZUlEKTsKICAgICAgICAgIHJldHVybiByZW5kZXIuaXNUb3VjaGluZ0RyYXdhYmxlcyh0YXJnZXQxLmRyYXdhYmxlSUQsIGNsb25lSWRzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzcHJpdGVUb3VjaGluZ0Nsb25lKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgdGFyZ2V0MSA9IHRoaXMuZ2V0VGFyZ2V0KGFyZ3MuU1BSSVRFMSwgdXRpbCwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgICBjb25zdCB0YXJnZXQyID0gcnVudGltZS5nZXRTcHJpdGVUYXJnZXRCeU5hbWUoYXJncy5TUFJJVEUyKTsKICAgICAgaWYgKCF0YXJnZXQxIHx8ICF0YXJnZXQyKSByZXR1cm4gZmFsc2U7CgogICAgICBjb25zdCBjbG9uZXMgPSB0YXJnZXQyLnNwcml0ZS5jbG9uZXM7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY2xvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgdmFyaWFibGUgPSBjbG9uZXNbaV0ubG9va3VwVmFyaWFibGVCeU5hbWVBbmRUeXBlKGFyZ3MuVkFSLCAiIiwgY2xvbmVzW2ldKTsKICAgICAgICBpZiAodmFyaWFibGUgJiYgQ2FzdC50b1N0cmluZyh2YXJpYWJsZS52YWx1ZSkgPT09IENhc3QudG9TdHJpbmcoYXJncy5WQUwpKSB7CiAgICAgICAgICBpZiAodGFyZ2V0MSA9PT0gIl9tb3VzZV8iKSB7CiAgICAgICAgICAgIGlmIChjbG9uZXNbaV0uaXNUb3VjaGluZ09iamVjdCgiX21vdXNlXyIpKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChyZW5kZXIuaXNUb3VjaGluZ0RyYXdhYmxlcyh0YXJnZXQxLmRyYXdhYmxlSUQsIFtjbG9uZXNbaV0uZHJhd2FibGVJRF0pKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHNwcml0ZXNUb3VjaGluZyhhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IGxpc3QgPSBbXTsKICAgICAgY29uc3QgdGhpc1Nwcml0ZSA9IHRoaXMuZ2V0VGFyZ2V0KGFyZ3MuU1BSSVRFLCB1dGlsLCB0cnVlLCB0cnVlLCB0cnVlKTsKICAgICAgY29uc3QgdGFyZ2V0cyA9IHJ1bnRpbWUudGFyZ2V0czsKICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1tpXTsKICAgICAgICBjb25zdCBuYW1lID0gYCR7dGFyZ2V0LmdldE5hbWUoKX0ke3RhcmdldC5pc09yaWdpbmFsID8gIiIgOiAiIChDbG9uZSkifWA7CiAgICAgICAgaWYgKHRhcmdldC5pc1RvdWNoaW5nT2JqZWN0KHRoaXNTcHJpdGUpICYmIG5hbWUgIT09IHRoaXNTcHJpdGUpIGxpc3QucHVzaChuYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7CiAgICB9CgogICAgZ2V0TmVpZ2hib3JzKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgY2lyYyA9IENhc3QudG9OdW1iZXIoYXJncy5ESUFNRVRFUik7CiAgICAgIGxldCBsaXN0ID0gW10sIHBvcyA9IFtdOwogICAgICBpZiAoYXJncy5TUFJJVEUgPT09ICJfbW91c2VfIikgcG9zID0gW3V0aWwuaW9RdWVyeSgibW91c2UiLCAiZ2V0U2NyYXRjaFgiKSwgdXRpbC5pb1F1ZXJ5KCJtb3VzZSIsICJnZXRTY3JhdGNoWSIpLCAiIl07CiAgICAgIGVsc2UgaWYgKGFyZ3MuU1BSSVRFID09PSAiX215c2VsZl8iKSBwb3MgPSBbdXRpbC50YXJnZXQueCwgdXRpbC50YXJnZXQueSwgdXRpbC50YXJnZXQuaWRdOwogICAgICBlbHNlIHsKICAgICAgICBjb25zdCBuYW1lVGFyZ2V0ID0gcnVudGltZS5nZXRTcHJpdGVUYXJnZXRCeU5hbWUoYXJncy5TUFJJVEUpOwogICAgICAgIGlmICghbmFtZVRhcmdldCkgcmV0dXJuICJbXSI7CiAgICAgICAgcG9zID0gW25hbWVUYXJnZXQueCwgbmFtZVRhcmdldC55LCBuYW1lVGFyZ2V0LmlkXTsKICAgICAgfQogICAgICBjb25zdCB0YXJnZXRzID0gcnVudGltZS50YXJnZXRzOwogICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW2ldOwogICAgICAgIGNvbnN0IGR4ID0gcG9zWzBdIC0gdGFyZ2V0Lng7CiAgICAgICAgY29uc3QgZHkgPSBwb3NbMV0gLSB0YXJnZXQueTsKICAgICAgICBpZiAoTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSkgPD0gY2lyYyAmJiB0YXJnZXQuaWQgIT09IHBvc1syXSkgbGlzdC5wdXNoKGAke3RhcmdldC5nZXROYW1lKCl9JHt0YXJnZXQuaXNPcmlnaW5hbCA/ICIiIDogIiAoQ2xvbmUpIn1gKTsKICAgICAgfQogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7CiAgICB9CgogICAgY29sb3JBdFBvc2l0aW9uKGFyZ3MpIHsgcmV0dXJuIHRoaXMuY29sb3JBdFBvcyhDYXN0LnRvTnVtYmVyKGFyZ3MueCksIENhc3QudG9OdW1iZXIoYXJncy55KSkgfQogICAgb2JqVG91Y2hpbmdDb2xvcihhcmdzLCB1dGlsKSB7CiAgICAgIGlmIChhcmdzLlNQUklURSA9PT0gIl9tb3VzZV8iKSByZXR1cm4gdGhpcy5jb2xvckF0UG9zKHV0aWwuaW9RdWVyeSgibW91c2UiLCAiZ2V0U2NyYXRjaFgiKSwgdXRpbC5pb1F1ZXJ5KCJtb3VzZSIsICJnZXRTY3JhdGNoWSIpKTsKICAgICAgZWxzZSB7CiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoYXJncy5TUFJJVEUsIHV0aWwsIGZhbHNlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgaWYgKCF0YXJnZXQpIHJldHVybiAiIjsKICAgICAgICBjb25zdCB3YXNWaXNpYmxlID0gdGFyZ2V0LnZpc2libGU7CiAgICAgICAgdGFyZ2V0LnNldFZpc2libGUoZmFsc2UpOwogICAgICAgIGNvbnN0IGhleCA9IHRoaXMuY29sb3JBdFBvcyh0YXJnZXQueCwgdGFyZ2V0LnkpOwogICAgICAgIHRhcmdldC5zZXRWaXNpYmxlKHdhc1Zpc2libGUpOwogICAgICAgIHJldHVybiBoZXg7CiAgICAgIH0KICAgIH0KCiAgICBzcHJpdGVEcmFnTW9kZShhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0VGFyZ2V0KGFyZ3MuU1BSSVRFLCB1dGlsLCBmYWxzZSwgdHJ1ZSwgZmFsc2UpOwogICAgICBpZiAodGFyZ2V0KSB0YXJnZXQuc2V0RHJhZ2dhYmxlKGFyZ3MuRFJBRyA9PT0gImRyYWdnYWJsZSIpOwogICAgfQogICAgc3ByaXRlRHJhZ2dhYmxlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoYXJncy5TUFJJVEUsIHV0aWwsIGZhbHNlLCB0cnVlLCBmYWxzZSk7CiAgICAgIGlmICh0YXJnZXQpIHJldHVybiB0YXJnZXRbYXJncy5EUkFHID09PSAiZHJhZ2dhYmxlIiA/ICJkcmFnZ2FibGUiIDogImRyYWdnaW5nIl07CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBhZHZhbmNlZEFzayhhcmdzLCB1dGlsKSB7CiAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSB1dGlsLnRhcmdldC52aXNpYmxlOwogICAgICBpZiAoIXV0aWwudGFyZ2V0LmlzU3RhZ2UgJiYgYXJncy5UWVBFID09PSAic3RhZ2UiKSB1dGlsLnRhcmdldC5zZXRWaXNpYmxlKGZhbHNlKTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBzZW5zaW5nQ29yZS5hc2tBbmRXYWl0KGFyZ3MsIHV0aWwpOwogICAgICAgIGlmICghdXRpbC50YXJnZXQuaXNTdGFnZSAmJiB3YXNWaXNpYmxlKSB1dGlsLnRhcmdldC5zZXRWaXNpYmxlKHRydWUpOwogICAgICAgIHRoaXMudXBkYXRlQXNrTW9uaXRvcigpOwoKICAgICAgICBpZiAoYXJncy5XQUlUID09PSAiY29udGludWUiKSByZXNvbHZlKCk7CiAgICAgICAgZWxzZSBydW50aW1lLm9uY2UoIkFOU1dFUiIsICgpID0+IHJlc29sdmUoKSk7CiAgICAgIH0pOwogICAgfQoKICAgIGFza1JlcG9ydGVyKGFyZ3MsIHV0aWwpIHsKICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZWRBc2soYXJncywgdXRpbCkudGhlbigoKSA9PiB7IHJldHVybiBzZW5zaW5nQ29yZS5nZXRBbnN3ZXIoKSB9KTsKICAgIH0KCiAgICBzdG9wQXNraW5nKCkgewogICAgICBydW50aW1lLmVtaXQoIkFOU1dFUiIsIHRoaXMuY3VycmVudFR5cGVkKCkpOwogICAgICBydW50aW1lLmVtaXQoIlFVRVNUSU9OIiwgbnVsbCk7CiAgICB9CgogICAgY3VycmVudFR5cGVkKCkgewogICAgICBsZXQgYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpc1BhY2thZ2VkID8gYGlucHV0W2NsYXNzPSJzYy1xdWVzdGlvbi1pbnB1dCJdYCA6IGBkaXZbY2xhc3MqPSJxdWVzdGlvbiJdIFtjbGFzc149ImlucHV0X2lucHV0LWZvcm0iXWApOwogICAgICByZXR1cm4gYm94ID8gYm94LnZhbHVlIDogIiI7CiAgICB9CgogICAgaXNBc2tpbmcoKSB7IHJldHVybiBDYXN0LnRvQm9vbGVhbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbY2xhc3MqPSJxdWVzdGlvbi1pbnB1dCJdYCkpIH0KCiAgICBzZXRBc2tEaXNwbGF5KGFyZ3MpIHsKICAgICAgYXNrQm94U2V0dGluZ3Mud2lkdGggPSBDYXN0LnRvTnVtYmVyKGFyZ3Mud2lkdGgpOwogICAgICBpZiAoYXNrQm94U2V0dGluZ3Mud2lkdGggPCAwKSBhc2tCb3hTZXR0aW5ncy53aWR0aCA9IHVuZGVmaW5lZDsKCiAgICAgIGFza0JveFNldHRpbmdzLnggPSBDYXN0LnRvTnVtYmVyKGFyZ3MueCk7CiAgICAgIGFza0JveFNldHRpbmdzLnkgPSBpc05hTihhcmdzLnkpID8gdW5kZWZpbmVkIDogQ2FzdC50b051bWJlcihhcmdzLnkpICogLTE7CiAgICAgIGlmIChpc05hTihhcmdzLnkpKSBhc2tCb3hTZXR0aW5ncy55ID0gdW5kZWZpbmVkOwogICAgICB0aGlzLnVwZGF0ZUFza01vbml0b3IoKTsKICAgIH0KCiAgICBzZXRBc2tUeXBlKGFyZ3MpIHsKICAgICAgY29uc3QgaW5wdXRUeXBlID0gQ2FzdC50b1N0cmluZyhhcmdzLlRZUEUpOwogICAgICBhc2tCb3hTZXR0aW5ncy5pbnB1dCA9IHsKICAgICAgICB0eXBlOiB2YWxpZElucHV0cy5maW5kKChpKSA9PiBpLnZhbHVlID09PSBpbnB1dFR5cGUpID8gaW5wdXRUeXBlIDogInRleHQiLAogICAgICAgIHZhbHVlOiBhcmdzLlRFWFQKICAgICAgfTsKICAgICAgdGhpcy51cGRhdGVBc2tNb25pdG9yKCk7CiAgICB9CgogICAgc2V0QXNrTGlzdChhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgYXJyYXkgPSBKU09OLnBhcnNlKGFyZ3MuTElTVCk7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpICYmIGFycmF5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIGFza0JveFNldHRpbmdzLmlucHV0ID0geyB0eXBlOiAiZHJvcGRvd24iLCB2YWx1ZTogYXJyYXkgfTsKICAgICAgICAgIHRoaXMudXBkYXRlQXNrTW9uaXRvcigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCB7fQogICAgfQoKICAgIGlzU2NyZWVuKGFyZ3MpIHsKICAgICAgY29uc3QgdmFsdWVzID0gW3JlbmRlci5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsIHJ1bnRpbWUuc3RhZ2VXaWR0aF07CiAgICAgIHJldHVybiBhcmdzLlNDUkVFTiA9PT0gImZ1bGxzY3JlZW4iID8gdmFsdWVzWzBdID4gdmFsdWVzWzFdIDogdmFsdWVzWzBdIDwgdmFsdWVzWzFdOwogICAgfQoKICAgIHNjcmVlbk9mZihhcmdzKSB7CiAgICAgIGNvbnN0IHR5cGUgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuVFlQRSk7CiAgICAgIGNvbnN0IGNhbnZhc0JvdW5kcyA9IHR5cGUuc3RhcnRzV2l0aCgiZGlzcGxheSIpIHx8IHR5cGUgPT09ICJyYXRpbyIgPwogICAgICAgIHJlbmRlci5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiB7fTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAid2lkdGgiOiByZXR1cm4gcnVudGltZS5zdGFnZVdpZHRoOwogICAgICAgIGNhc2UgImhlaWdodCI6IHJldHVybiBydW50aW1lLnN0YWdlSGVpZ2h0OwogICAgICAgIGNhc2UgImRpc3BsYXkgd2lkdGgiOiByZXR1cm4gY2FudmFzQm91bmRzLndpZHRoOwogICAgICAgIGNhc2UgImRpc3BsYXkgaGVpZ2h0IjogcmV0dXJuIGNhbnZhc0JvdW5kcy5oZWlnaHQ7CiAgICAgICAgY2FzZSAicmF0aW8iOiByZXR1cm4gY2FudmFzQm91bmRzLndpZHRoIC8gcnVudGltZS5zdGFnZVdpZHRoOwogICAgICAgIGRlZmF1bHQ6IHJldHVybiAwOwogICAgICB9CiAgICB9CgogICAgYXZlcmFnZU1pY1ZvbHVtZSgpIHsKICAgICAgaWYgKGxvdWRuZXNzQ2FjaGUubGVuZ3RoID49IDMwKSBsb3VkbmVzc0NhY2hlID0gW107CiAgICAgIGxvdWRuZXNzQ2FjaGUucHVzaChzZW5zaW5nQ29yZS5nZXRMb3VkbmVzcygpKTsKICAgICAgbGV0IHN1bSA9IGxvdWRuZXNzQ2FjaGUucmVkdWNlKChhY2N1bXVsYXRvciwgY3VyVmFsdWUpID0+IGFjY3VtdWxhdG9yICsgY3VyVmFsdWUsIDApOwogICAgICByZXR1cm4gTWF0aC5yb3VuZCgoc3VtIC8gbG91ZG5lc3NDYWNoZS5sZW5ndGgpICogMTAwKSAvIDEwMDsKICAgIH0KCiAgICBnZXRTcHJpdGVOYW1lKF8sIHV0aWwpIHsgcmV0dXJuIHV0aWwudGFyZ2V0LmdldE5hbWUoKSB9CgogICAgYWxsTGF5ZXJzKCkgeyByZXR1cm4gcmVuZGVyLl9kcmF3TGlzdC5sZW5ndGggLSAxIH0KCiAgICBib29sZWFuKGFyZ3MpIHsKICAgICAgcmV0dXJuIENhc3QudG9Cb29sZWFuKGFyZ3MuU1RSSU5HKSAmJiBhcmdzLlNUUklORyAhPT0gdW5kZWZpbmVkOwogICAgfQoKICAgIGdldEFsbFN0cmluZyhhcmdzKSB7CiAgICAgIGxldCByZWdleDsKICAgICAgc3dpdGNoIChhcmdzLlRFWFQpIHsKICAgICAgICBjYXNlICJudW1iZXJzIjoge3JlZ2V4ID0gL1teMC05XS9nOyBicmVhayB9CiAgICAgICAgY2FzZSAic3BlY2lhbCBjaGFyYWN0ZXJzIjoge3JlZ2V4ID0gL1tBLVphLXowLTldL2c7IGJyZWFrIH0KICAgICAgICBkZWZhdWx0OiByZWdleCA9IC9bXkEtWmEtel0vZzsKICAgICAgfQogICAgICByZXR1cm4gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORykucmVwbGFjZShyZWdleCwgIiIpOwogICAgfQogIH0KCiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKG5ldyBIeXBlclNlbnNlMlNQKCkpOwp9KShTY3JhdGNoKTsK","SPpopups":"data:text/javascript;base64,Ly8gTmFtZTogUG9wdXAgUGhvZW5peAovLyBJRDogU1Bwb3B1cHMKLy8gRGVzY3JpcHRpb246IENyZWF0ZSBjdXN0b20gUG9wdXBzLiBJbnNwaXJlZCBieSAnQmV0dGVyIElucHV0Jy4KLy8gQnk6IFNoYXJrUG9vbAovLyBMaWNlbmNlOiBNSVQKCi8vIFZlcnNpb24gVi4xLjAuMDQKCihmdW5jdGlvbiAoU2NyYXRjaCkgewogICJ1c2Ugc3RyaWN0IjsKICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJQb3B1cCBQaG9lbml4IG11c3QgcnVuIHVuc2FuZGJveGVkISIpOwoKICBjb25zdCBtZW51SWNvblVSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSTROeTQxTXpJaUlHaGxhV2RvZEQwaU9EY3VOVE15SWlCMmFXVjNRbTk0UFNJd0lEQWdPRGN1TlRNeUlEZzNMalV6TWlJK1BHY2djM1J5YjJ0bExYZHBaSFJvUFNJd0lpQnpkSEp2YTJVdGJXbDBaWEpzYVcxcGREMGlNVEFpUGp4d1lYUm9JR1E5SWswdU1EQXhJRFF6TGpjMk4wTXVNREF4SURFNUxqVTVOU0F4T1M0MU9UUXVNREF4SURRekxqYzJOaTR3TURGek5ETXVOelkySURFNUxqVTVOQ0EwTXk0M05qWWdORE11TnpZMkxURTVMalU1TkNBME15NDNOall0TkRNdU56WTJJRFF6TGpjMk5sTXdJRFkzTGprek9TQXdJRFF6TGpjMk55SWdabWxzYkQwaUl6Z3lNVGxpWmlJdlBqeHdZWFJvSUdROUlrMDFMakUyTlNBME15NDNOamRqTUMweU1TNHpNaUF4Tnk0eU9ESXRNemd1TmpBeUlETTRMall3TWkwek9DNDJNREp6TXpndU5qQXlJREUzTGpJNE1pQXpPQzQyTURJZ016Z3VOakF5TFRFM0xqSTRNaUF6T0M0Mk1ESXRNemd1TmpBeUlETTRMall3TWxNMUxqRTJOU0EyTlM0d09EY2dOUzR4TmpVZ05ETXVOelkzSWlCbWFXeHNQU0lqWVRneE1tWm1JaTgrUEhCaGRHZ2daRDBpYlRRd0xqTTVOeUExT0M0d09EY3RNeTQ0TlM0Mk1EY3RMakU0TVNBMExqZzNMVE11TVRZZ01TNDRNalV0TVM0ME5EUXROaTR5TVMwMExqRXpPUzB5TGpVMU5pQXhMamt3TkMwekxqTXpOQ0EwTGpRM05pQXlMakF3T0NBMExqUTNOUzB4TGpRME1TMHpMak00TkMwMExqVXlOaTB5TGpZNE9TQXlMakF3TVMwMExqa3lOeTB1T0RjMElESXVORFkxTFRNdU5Ua3RPQzQwTmpVZ01pNHlPVEl0TWk0MU5UWXROQzR3TkRVZ09DNHdOaTB4TGpneU9DMHhNQzR3TmpndExqYzJNeTB4TGpnME5pMDFMalExTVNBeE1DNHlPVEVnTVM0eU1qY3RNVEF1TXpZdE15NDVPQzQ1TnkwMkxqYzNPQ0E1TGpRNE15QTFMamt6TkMwNExqQTNOUzA1TGpjME5TQXpMakk1TmkwMUxqTTFOaUF4TWk0ME1qWWdNVFF1T0RBNExTNHpOelFnTnk0MU9DQTFMak16T1NBeExqQXlNU0ExTGpNMk5TMHhNUzR4T1RnZ09DNHdNRE1nTVM0MU9EUXRMakk1SURRdU16azNMVEl1T0RrNUxURXVNRE0xTFM0eU16TWdNeTQzTVNBeExqZ3pOU0F5TGpVME1pQTBMamMxTnkweExqRXRMakUyTWkwMkxqWTVOQ0EzTGpBeU15MDNMalkyT0NBMUxqSTVOeTAzTGpRd09DQXpMakkzTWlBekxqa3pOUzAzTGpneE1TQXhNUzR5TkRjZ09TNHhOelV0Tnk0d05pNHhPRGdnTnk0ME16TXRPUzQwTURFZ05DNHlOVEVnTVRBdU16VXRNUzQxTXkweExqWXlNU0EyTGpBekxURXdMakV6TXk0eE5Ea2dPUzR4TVRVZ01TNDFOaTB6TGprd055QTBMamMwT0MwNExqa3RNaTQ1TVRZZ01pNHpORGdnTXk0ek9EY3ROQzQzTURNZ01TNDFNaTB5TGpJNExUSXVNakl6TFRNdU5qYzVJRFF1T1RVMElEUXVNVFEzTGpjd01pQTFMakV3TnkweUxqTWdNUzQxTmpVZ015NDROQzAwTGpNeU15QXlMUzQ1TnpFZ05pNDFNemd0TXk0MU9EZ3RNUzR4TXpNdU1ETTVMVFV1TURZMUxUTXVPVE0zTFM0Mk16TXVORE1nTWk0M01ETWdOQzR6SURZdU5USTRMVEl1T0RNeUlETXVNelF0TWk0NU56TXRNeTR3TWpNdU56VWdOUzR6TnkwekxqRTVOeUF5TGpnNU5DMHlMamswTFRJdU9UWXVOVEkyTFRVdU1qazNMVEl1TnpnZ015NHhOVFV0TWk0MU5qUXRNeTQyTkNBMExqTTJPUzAyTGpVMk5Ib2lJR1pwYkd3OUlpTm1abVlpTHo0OEwyYytQQzl6ZG1jKyI7CiAgY29uc3QgZ2V0QmxvY2tJY29uID0gKG5hbWUpID0+IHsKICAgIC8vIGxvd2VyIGZpbGUgc2l6ZSBtb21lbnQKICAgIGNvbnN0IHN0YXJ0ID0gImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJIjsKICAgIHJldHVybiBzdGFydCArIHsKICAgICAgbWFpbjogIjNPUzR4T1RraUlHaGxhV2RvZEQwaU9EY3VPVEl5SWlCMmFXVjNRbTk0UFNJd0lEQWdOemt1TVRrNUlEZzNMamt5TWlJK1BIQmhkR2dnWkQwaWJUSTFMamt3TVNBMk5TNDFNRGN0TlM0eU5UVXRMakE0WXkweE1TNHdNeTB1TURndE1URXVOekEzTFM0d09DMHhNaTQ0T0RrdExqVTVPQzB1TXpjdExqRTFNaTB5TGpjMU9DMHlMalF5T1MweUxqYzFPQzB5TGpReU9WWXlOUzQwTnpkek1pNHdPRE10TWk0eE5TQXlMamMxT0MweUxqUXpZekV1TVRJMkxTNDBOemdnTVM0NE5UZ3RMalV4T0NBeE1pNDRPUzB1TlRrM2JEVXVNalV6TFM0d09Ib2lJSE4wY205clpUMGlJekF3TUNJZ2MzUnliMnRsTFhkcFpIUm9QU0l4TUNJZ2IzQmhZMmwwZVQwaUxqSTFJaTgrUEhCaGRHZ2daRDBpVFRNd0xqUTJPU0EyTlM0MU1EZHpMVEl4TGpVekxTNHhOaTB5TWk0M01TMHVOamMzWXkwdU5qYzNMUzR5T0MweUxqYzJMVEl1TkRNdE1pNDNOaTB5TGpRelZqSTFMalEzT0hNeUxqQTRNeTB5TGpFMU1TQXlMamMxT0MweUxqUXpZekV1TVRJM0xTNDBOemdnTWpJdU56RXlMUzQyTnpjZ01qSXVOekV5TFM0Mk56ZDZJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaWJUVXpMall5T0NBeU1pNHpOeUEwTGpreU15NHdPR014TVM0d016RXVNRGdnTVRFdU56WXpMakV5SURFeUxqZzVMalU1T0M0Mk56UXVNamM1SURJdU56VTNJREl1TkRNZ01pNDNOVGNnTWk0ME0zWXpOaTQ1TWpOekxUSXVNRGd6SURJdU1UVXRNaTQzTlRnZ01pNDBNamxqTFRFdU1UZ3lMalV4T0MweExqZzFPQzQxTVRndE1USXVPRGc1TGpVNU9Hd3ROQzQ1TWpNdU1EaDZJaUJ6ZEhKdmEyVTlJaU13TURBaUlITjBjbTlyWlMxM2FXUjBhRDBpTVRBaUlHOXdZV05wZEhrOUlpNHlOU0l2UGp4d1lYUm9JR1E5SWswME9DNDRPVFVnTWpJdU16ZHpNakV1TlRnMUxqSWdNakl1TnpFdU5qYzRZeTQyTnpZdU1qYzVJREl1TnpVNUlESXVORE1nTWk0M05Ua2dNaTQwTTNZek5pNDVNak56TFRJdU1EZ3pJREl1TVRVdE1pNDNOVGdnTWk0ME1qbGpMVEV1TVRneUxqVXhPQzB5TWk0M01URXVOamMzTFRJeUxqY3hNUzQyTnpkNklpQm1hV3hzUFNJalptWm1JaTgrUEhCaGRHZ2daRDBpYlRJNUxqSTNPQ0ExTGpBd05TQXhNQzQ0TXpJdU1EUmpNVEF1TlRFMkxqQTRJREV3TGpnek5DNHhNaUF4TVM0MU1URXVOVGsySURJdU5ETWdNUzQ0TnpJZ01pNHpPU0EwTGprMExTNHhOVGtnTmk0Mk5USXRMamMxTnk0MU1UZ3RNUzR4TVRVdU5UVTNMVFF1TXpRdU5UVTNhQzB6TGpVd05uWTJNaTR4Tnpab015NDBOalZqTXk0NU5ETWdNQ0EwTGprdU16RTRJRFV1T0RFMUlERXVPVFV4SURFdU1ETTJJREV1T0RNekxqVXhPQ0F6TGprME5DMHhMakkzTlNBMUxqSTFPQzB1TmpjM0xqVXhPQzB1T1RrMUxqVXhPQzB4TVM0MU1TNDFPVGhzTFRFd0xqZ3pOQzR3T0MweExqRXhOaTB1TlRVNFl5MHhMakUxTlMwdU5qTTRMVEl1TVRrdE1pNHhOUzB5TGpFNUxUTXVNemcySURBdExqZzNOUzQ1T1RVdE1pNDJOamdnTVM0M09USXRNeTR5TmpVdU5UazNMUzQwTnpnZ01TNHhNVFV0TGpVeE9DQTBMak0wTWkwdU5UazRiRE11TmpZMExTNHdPRll4TWk0NE9Xd3RNeTQyTmpRdExqQTRZeTB6TGpJeU55MHVNRGd0TXk0M05EVXRMakV4T1MwMExqTTBNaTB1TlRrM0xTNDNPVGN0TGpVMU9DMHhMamM1TWkweUxqTTFMVEV1TnpreUxUTXVNalkySURBdE1TNHlNelV1T1RrMUxUSXVOemc0SURJdU1Ua3RNeTR6T0RaNklpQnpkSEp2YTJVOUlpTXdNREFpSUhOMGNtOXJaUzEzYVdSMGFEMGlNVEFpSUc5d1lXTnBkSGs5SWk0eU5TSXZQanh3WVhSb0lHUTlJbTB5T1M0eU56Z2dOUzR3TURVZ01UQXVPRE15TGpBMFl6RXdMalV4Tmk0d09DQXhNQzQ0TXpRdU1USWdNVEV1TlRFeExqVTVOaUF5TGpReklERXVPRGN5SURJdU16a2dOQzQ1TkMwdU1UVTVJRFl1TmpVeUxTNDNOVGN1TlRFNExURXVNVEUxTGpVMU55MDBMak0wTGpVMU4yZ3RNeTQxTURaMk5qSXVNVGMyYURNdU5EWTFZek11T1RReklEQWdOQzQ1TGpNeE9DQTFMamd4TlNBeExqazFNU0F4TGpBek5pQXhMamd6TXk0MU1UZ2dNeTQ1TkRRdE1TNHlOelVnTlM0eU5UZ3RMalkzTnk0MU1UZ3RMams1TlM0MU1UZ3RNVEV1TlRFdU5UazRiQzB4TUM0NE16UXVNRGd0TVM0eE1UWXRMalUxT0dNdE1TNHhOVFV0TGpZek9DMHlMakU1TFRJdU1UVXRNaTR4T1MwekxqTTROaUF3TFM0NE56VXVPVGsxTFRJdU5qWTRJREV1TnpreUxUTXVNalkxTGpVNU55MHVORGM0SURFdU1URTFMUzQxTVRnZ05DNHpOREl0TGpVNU9Hd3pMalkyTkMwdU1EaFdNVEl1T0Rsc0xUTXVOalkwTFM0d09HTXRNeTR5TWpjdExqQTRMVE11TnpRMUxTNHhNVGt0TkM0ek5ESXRMalU1TnkwdU56azNMUzQxTlRndE1TNDNPVEl0TWk0ek5TMHhMamM1TWkwekxqSTJOaUF3TFRFdU1qTTFMams1TlMweUxqYzRPQ0F5TGpFNUxUTXVNemcyZWlJZ1ptbHNiRDBpSTJabVppSXZQand2YzNablBnPT0iLAogICAgICBjb2xvcjogIjNOUzQxTXpVaUlHaGxhV2RvZEQwaU56RXVORGszSWlCMmFXVjNRbTk0UFNJd0lEQWdOelV1TlRNMUlEY3hMalE1TnlJK1BIQmhkR2dnWkQwaVRUSXhMak13TnlBeU1TNDBOakpETWpFdU16QTNJREV5TGpNM0lESTRMalkzTnlBMUlETTNMamMyT0NBMWN6RTJMalEyTVNBM0xqTTNJREUyTGpRMk1TQXhOaTQwTmpJdE55NHpOeUF4Tmk0ME5qRXRNVFl1TkRZeElERTJMalEyTVMweE5pNDBOakV0Tnk0ek55MHhOaTQwTmpFdE1UWXVORFl4ZWlJZ2MzUnliMnRsUFNJak1EQXdJaUJ2Y0dGamFYUjVQU0l1TWpVaUlITjBjbTlyWlMxM2FXUjBhRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5OU0ExTUM0d016WmpNQzA1TGpBNU1TQTNMak0zTFRFMkxqUTJNU0F4Tmk0ME5qSXRNVFl1TkRZeGN6RTJMalEyTVNBM0xqTTNJREUyTGpRMk1TQXhOaTQwTmpGak1DQTVMakE1TWkwM0xqTTNJREUyTGpRMk1pMHhOaTQwTmpFZ01UWXVORFl5UXpFeUxqTTNJRFkyTGpRNU9DQTFJRFU1TGpFeU9DQTFJRFV3TGpBek5ub2lJSE4wY205clpUMGlJekF3TUNJZ2IzQmhZMmwwZVQwaUxqSTFJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRXdJaTgrUEhCaGRHZ2daRDBpVFRNM0xqWXhNeUExTUM0d016WmpNQzA1TGpBNU1TQTNMak0zTFRFMkxqUTJNU0F4Tmk0ME5qRXRNVFl1TkRZeElEa3VNRGt5SURBZ01UWXVORFl5SURjdU16Y2dNVFl1TkRZeUlERTJMalEyTVNBd0lEa3VNRGt5TFRjdU16Y2dNVFl1TkRZeUxURTJMalEyTWlBeE5pNDBOakp6TFRFMkxqUTJNUzAzTGpNM0xURTJMalEyTVMweE5pNDBOako2SWlCemRISnZhMlU5SWlNd01EQWlJRzl3WVdOcGRIazlJaTR5TlNJZ2MzUnliMnRsTFhkcFpIUm9QU0l4TUNJdlBqeHdZWFJvSUdROUlrMHlNUzR6TURjZ01qRXVORFl5UXpJeExqTXdOeUF4TWk0ek55QXlPQzQyTnpjZ05TQXpOeTQzTmpnZ05YTXhOaTQwTmpFZ055NHpOeUF4Tmk0ME5qRWdNVFl1TkRZeUxUY3VNemNnTVRZdU5EWXhMVEUyTGpRMk1TQXhOaTQwTmpFdE1UWXVORFl4TFRjdU16Y3RNVFl1TkRZeExURTJMalEyTVNJZ1ptbHNiRDBpSXpCbU1DSXZQanh3WVhSb0lHUTlJazAxSURVd0xqQXpObU13TFRrdU1Ea3hJRGN1TXpjdE1UWXVORFl4SURFMkxqUTJNaTB4Tmk0ME5qRnpNVFl1TkRZeElEY3VNemNnTVRZdU5EWXhJREUyTGpRMk1XTXdJRGt1TURreUxUY3VNemNnTVRZdU5EWXlMVEUyTGpRMk1TQXhOaTQwTmpKRE1USXVNemNnTmpZdU5EazRJRFVnTlRrdU1USTRJRFVnTlRBdU1ETTJJaUJtYVd4c1BTSnlaV1FpTHo0OGNHRjBhQ0JrUFNKTk16Y3VOakV6SURVd0xqQXpObU13TFRrdU1Ea3hJRGN1TXpjdE1UWXVORFl4SURFMkxqUTJNUzB4Tmk0ME5qRWdPUzR3T1RJZ01DQXhOaTQwTmpJZ055NHpOeUF4Tmk0ME5qSWdNVFl1TkRZeElEQWdPUzR3T1RJdE55NHpOeUF4Tmk0ME5qSXRNVFl1TkRZeUlERTJMalEyTW5NdE1UWXVORFl4TFRjdU16Y3RNVFl1TkRZeExURTJMalEyTWlJZ1ptbHNiRDBpSXpBd1ppSXZQand2YzNablBnPT0iLAogICAgICBlZmZlY3Q6ICIxTnk0ME5ESWlJR2hsYVdkb2REMGlOekF1TkRVaUlIWnBaWGRDYjNnOUlqQWdNQ0ExTnk0ME5ESWdOekF1TkRVaVBqeHdZWFJvSUdROUlrMDFJRFE1TGpBME4yTXRNeTQ1T0RndE9DNHhNVGN0TXk0NU9UWXRNVGd1TWpRekxqRTFNeTB5Tmk0ME1VTTVMamcwSURFekxqQTJNaUF4Tnk0M015QTRMamd4T0NBeU1DNDVJRGN1TkRNNFlUTXhMalFnTXpFdU5DQXdJREFnTVNBMkxqQTNOaTB5TGpBNE0yd3lMakV5TFM0ME5UZGpNUzQxTlRndExqTXlJRE11TVRFdU5qUTJJRE11TkRRM0lESXVNVGczTGpNMElERXVOVFExTFM0Mk5URWdNeTR3TmpZdE1pNHlNVFlnTXk0ME1ESnNMVEl1TURZekxqUTBOV0V5TlM0MElESTFMalFnTUNBd0lEQXROQzQ1TmlBeExqY3hObU10TWk0d09ETXVPVEF5TFRndU9UYzBJRFF1TXpreUxURXlMamswT1NBeE1pNDFNVFV0TXk0d01UY2dOUzQ1TXpNdE15NDVNVGNnTVRVdU16WTJMamd6TWlBeU15NHhOU0EwTGpNd015QTNMalE1T0NBeE15NHhNVElnTVRJdU1EazFJREl4TGpRMk9DQXhNUzR6TWpFZ055NDVNRE10TGpVMk9DQXhOUzR4TlRVdE5TNDRNamdnTVRjdU5qazRMVEV5TGpjNU5TQXlMalU0TVMwMkxqVTFNaTQ0TmpZdE1UTXVNalk1TFRFdU9UWTNMVEUzTGpBMU1pMHpMalF4TXkwMExqWTJMVGN1TmpZdE5pNHdPVFF0T1M0ek1qZ3ROaTQwT1RVdExqSTBPUzB1TURjMExUWXVNRGcxTFRFdU9ESTNMVEV4TGpJMExqYzFOQzB5TGpJeUlERXVNRFkwTFRVdU1Ea2dNeTQwTlRZdE5pNDJNamdnTnk0d05TMHhMalkySURNdU56RXlMVEV1TWpNZ09DNDBPRFFnTVM0d01pQXhNUzQyTlRVZ01pNHlOak1nTXk0ek9Ua2dOaTQxTXpJZ05TNHpNak1nTVRBdU1qQXpJRFF1TmpjZ015NDJOVFV0TGpVM05TQTJMakV5TnkwekxqSTVOQ0EyTGpjeE15MDFMalk0TXk0Mk9Ea3RNaTQxTmpndExqTTJPQzAwTGpjek9TMHhMakU1TXkwMUxqVXlMVEV1TkRBeExURXVNemd6TFRJdU5qRXhMVEV1TkRBMkxUSXVOall6TFRFdU5ERmhOU0ExSURBZ01DQXdMVEV1TURJMkxqQTFOR010TGpZMU5DNHlOQzB4TGpVNE1pNDNOalF0TVM0NE5UUWdNUzR6TVRZdExqQTBPQzR3T1MwdU1UY3VNelF1TURZMExqazJNeTQxTmpNZ01TNDBOemN0TGpFNU55QXpMakV6TFRFdU5qazBJRE11TmpnMUxURXVORGt1TlRVNExUTXVNVFkzTFM0eE9USXRNeTQzTXpNdE1TNDJOek10TGprek1TMHlMalExTFM0ME1UWXROQzR6TmpndU1UZ3ROUzQxTkRZZ01TNDFOVGd0TXk0d05qWWdOUzR4TnpZdE5DNHhOellnTlM0MU9EVXROQzR5T1RRdU1UZzNMUzR3TlRjdU16ZzFMUzR3T1RFdU5UZ3RMakV3T0M0ek9UZ3RMakEySURFdU1TMHVNVFUxSURJdU1EVXlMUzR4TVRnZ01pNHhOemd1TURJM0lEUXVOallnTVM0eE5qVWdOaTQxTmpNZ015NHdORFlnTWk0eU5EWWdNaTR4TWlBMExqQXdOaUEyTGpNNElESXVOelU0SURFeExqQXhNUzB4TGpJeE55QTBMamsxTnkwMUxqZzVOU0E1TGpBMU5pMHhNUzR6TlRNZ09TNDVNVFF0TlM0NE55QXhMakEwTnkweE1pNDBPREl0TVM0NE5EY3RNVFV1T1RjekxUY3VNRGswTFRNdU16WTFMVFF1TnpJNExUUXVNREE1TFRFeExqWTBOeTB4TGpVME9DMHhOeTR4TXpZZ01pNDNMVFl1TXpJZ055NDROVGt0T1M0eE9DQTVMak0zTXkwNUxqa3dOeUEzTGpJM09TMHpMall6TlNBeE5TNHdOVGt0TVM0eU16VWdNVFV1TXpnMkxURXVNVE0wSURJdU1Ea3pMalE1TkNBM0xqa3hNeUF5TGpRME15QXhNaTQwTXpjZ09DNDJNalVnTXk0ME56Y2dOQzQyTlNBMkxqSTVOeUF4TXk0ek16Y2dNaTQzTVRRZ01qSXVORE10TXk0eU56TWdPQzQ1TmpJdE1USXVOVGtnTVRVdU56Y3RNakl1TmpNNElERTJMalE1TXkwdU56ZzRMakEzTkMweExqVTROUzR4TVRVdE1pNHpPQzR4TVRVdE9TNDNOU0F3TFRFNUxqWXlOeTAxTGpZeUxUSTBMalU0TFRFMExqSTFJREFnTUMwdU9ESXhMVEV1TkRFNExURXVNVGd6TFRJdU1UVXplaUlnYzNSeWIydGxQU0lqTURBd0lpQnZjR0ZqYVhSNVBTSXVNalVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNVEFpTHo0OGNHRjBhQ0JtYVd4c1BTSWpabVptSWlCa1BTSk5OaTR4T0RJZ05URXVNakF4WXkwMUxqRXpOQzA0TGpReUxUVXVOVFV6TFRFNUxqWTFOeTB4TGpBekxUSTRMalUyTlVNNUxqZzBJREV6TGpBMk1pQXhOeTQzTXlBNExqZ3hPQ0F5TUM0NUlEY3VORE00WVRNeExqUWdNekV1TkNBd0lEQWdNU0EyTGpBM05pMHlMakE0TTJ3eUxqRXlMUzQwTlRkak1TNDFOVGd0TGpNeUlETXVNVEV1TmpRMklETXVORFEzSURJdU1UZzNMak0wSURFdU5UUTFMUzQyTlRFZ015NHdOall0TWk0eU1UWWdNeTQwTURKc0xUSXVNRFl6TGpRME5XRXlOUzQwSURJMUxqUWdNQ0F3SURBdE5DNDVOaUF4TGpjeE5tTXRNaTR3T0RNdU9UQXlMVGd1T1RjMElEUXVNemt5TFRFeUxqazBPU0F4TWk0MU1UVXRNeTR3TVRjZ05TNDVNek10TXk0NU1UY2dNVFV1TXpZMkxqZ3pNaUF5TXk0eE5TQTBMak13TXlBM0xqUTVPQ0F4TXk0eE1USWdNVEl1TURrMUlESXhMalEyT0NBeE1TNHpNakVnTnk0NU1ETXRMalUyT0NBeE5TNHhOVFV0TlM0NE1qZ2dNVGN1TmprNExURXlMamM1TlNBeUxqVTRNUzAyTGpVMU1pNDROall0TVRNdU1qWTVMVEV1T1RZM0xURTNMakExTWkwekxqUXhNeTAwTGpZMkxUY3VOall0Tmk0d09UUXRPUzR6TWpndE5pNDBPVFV0TGpJME9TMHVNRGMwTFRZdU1EZzFMVEV1T0RJM0xURXhMakkwTGpjMU5DMHlMakl5SURFdU1EWTBMVFV1TURrZ015NDBOVFl0Tmk0Mk1qZ2dOeTR3TlMweExqWTJJRE11TnpFeUxURXVNak1nT0M0ME9EUWdNUzR3TWlBeE1TNDJOVFVnTWk0eU5qTWdNeTR6T1RrZ05pNDFNeklnTlM0ek1qTWdNVEF1TWpBeklEUXVOamNnTXk0Mk5UVXRMalUzTlNBMkxqRXlOeTB6TGpJNU5DQTJMamN4TXkwMUxqWTRNeTQyT0RrdE1pNDFOamd0TGpNMk9DMDBMamN6T1MweExqRTVNeTAxTGpVeUxURXVOREF4TFRFdU16Z3pMVEl1TmpFeExURXVOREEyTFRJdU5qWXpMVEV1TkRGaE5TQTFJREFnTUNBd0xURXVNREkyTGpBMU5HTXRMalkxTkM0eU5DMHhMalU0TWk0M05qUXRNUzQ0TlRRZ01TNHpNVFl0TGpBME9DNHdPUzB1TVRjdU16UXVNRFkwTGprMk15NDFOak1nTVM0ME56Y3RMakU1TnlBekxqRXpMVEV1TmprMElETXVOamcxTFRFdU5Ea3VOVFU0TFRNdU1UWTNMUzR4T1RJdE15NDNNek10TVM0Mk56TXRMamt6TVMweUxqUTFMUzQwTVRZdE5DNHpOamd1TVRndE5TNDFORFlnTVM0MU5UZ3RNeTR3TmpZZ05TNHhOell0TkM0eE56WWdOUzQxT0RVdE5DNHlPVFF1TVRnM0xTNHdOVGN1TXpnMUxTNHdPVEV1TlRndExqRXdPQzR6T1RndExqQTJJREV1TVMwdU1UVTFJREl1TURVeUxTNHhNVGdnTWk0eE56Z3VNREkzSURRdU5qWWdNUzR4TmpVZ05pNDFOak1nTXk0d05EWWdNaTR5TkRZZ01pNHhNaUEwTGpBd05pQTJMak00SURJdU56VTRJREV4TGpBeE1TMHhMakl4TnlBMExqazFOeTAxTGpnNU5TQTVMakExTmkweE1TNHpOVE1nT1M0NU1UUXROUzQ0TnlBeExqQTBOeTB4TWk0ME9ESXRNUzQ0TkRjdE1UVXVPVGN6TFRjdU1EazBMVE11TXpZMUxUUXVOekk0TFRRdU1EQTVMVEV4TGpZME55MHhMalUwT0MweE55NHhNellnTWk0M0xUWXVNeklnTnk0NE5Ua3RPUzR4T0NBNUxqTTNNeTA1TGprd055QTNMakkzT1MwekxqWXpOU0F4TlM0d05Ua3RNUzR5TXpVZ01UVXVNemcyTFRFdU1UTTBJREl1TURrekxqUTVOQ0EzTGpreE15QXlMalEwTXlBeE1pNDBNemNnT0M0Mk1qVWdNeTQwTnpjZ05DNDJOU0EyTGpJNU55QXhNeTR6TXpjZ01pNDNNVFFnTWpJdU5ETXRNeTR5TnpNZ09DNDVOakl0TVRJdU5Ua2dNVFV1TnpjdE1qSXVOak00SURFMkxqUTVNeTB1TnpnNExqQTNOQzB4TGpVNE5TNHhNVFV0TWk0ek9DNHhNVFV0T1M0M05TQXdMVEU1TGpZeU55MDFMall5TFRJMExqVTRMVEUwTGpJMUlpOCtQQzl6ZG1jKyIKICAgIH1bbmFtZV07CiAgfTsKCiAgY29uc3QgQ2FzdCA9IFNjcmF0Y2guQ2FzdDsKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgcnVudGltZSA9IHZtLnJ1bnRpbWU7CiAgY29uc3QgcmVuZGVyID0gdm0ucmVuZGVyZXI7CiAgY29uc3Qga2V5VXRpbCA9IHJ1bnRpbWUuaW9EZXZpY2VzLmtleWJvYXJkOwoKICBjb25zdCBkZWZhdWx0Rm9udHMgPSBbCiAgICAiU2FucyBTZXJpZiIsICJTZXJpZiIsICJIYW5kd3JpdGluZyIsCiAgICAiTWFya2VyIiwgIkN1cmx5IiwgIlBpeGVsIiwgIlNjcmF0Y2giCiAgXTsKICBjb25zdCB0cmFuc2xhdGVkSW5wdXRzID0gewogICAgcG9wdXA6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWZhdWx0LXBvcHVwIiksCiAgICBsYWJlbDogU2NyYXRjaC50cmFuc2xhdGUoIm5ldy1sYWJlbCIpLAogICAgaW5wdXQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJuZXctaW5wdXQiKSwKICAgIGJ0blJvdzogU2NyYXRjaC50cmFuc2xhdGUoImRlZmF1bHQtYnV0dG9uLXJvdyIpLAogICAgYnV0dG9uOiBTY3JhdGNoLnRyYW5zbGF0ZSgic3VibWl0LWJ1dHRvbiIpCiAgfTsKCiAgY29uc3QgdmFsaWRJbnB1dHMgPSBbCiAgICBjcmVhdGVNZW51SXRlbSgidGV4dCIsICJ0ZXh0IiksCiAgICBjcmVhdGVNZW51SXRlbSgibXVsdGktbGluZSB0ZXh0IiwgInRleHRhcmVhIiksCiAgICBjcmVhdGVNZW51SXRlbSgicGFzc3dvcmQiLCAicGFzc3dvcmQiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJudW1iZXIiLCAibnVtYmVyIiksCiAgICBjcmVhdGVNZW51SXRlbSgiY29sb3IiLCAiY29sb3IiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJkYXRlIiwgImRhdGUiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJkcm9wZG93biIsICJzZWxlY3QiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJtdWx0aS1zZWxlY3QgZHJvcGRvd24iLCAibXVsdGlTZWxlY3QiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJob3Jpem9udGFsIHNsaWRlciIsICJyYW5nZUhvcnoiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJ2ZXJ0aWNhbCBzbGlkZXIiLCAicmFuZ2VWZXJ0IikKICBdOwogIGNvbnN0IHZhbGlkQm9yZGVycyA9IFsKICAgIGNyZWF0ZU1lbnVJdGVtKCJub25lIiwgIm5vbmUiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJzb2xpZCIsICJzb2xpZCIpLAogICAgY3JlYXRlTWVudUl0ZW0oImRvdHRlZCIsICJkb3R0ZWQiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJkYXNoZWQiLCAiZGFzaGVkIiksCiAgICBjcmVhdGVNZW51SXRlbSgiZG91YmxlIiwgImRvdWJsZSIpLAogICAgY3JlYXRlTWVudUl0ZW0oImdyb292ZSIsICJncm9vdmUiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJyaWRnZSIsICJyaWRnZSIpLAogICAgY3JlYXRlTWVudUl0ZW0oImluc2V0IiwgImluc2V0IiksCiAgICBjcmVhdGVNZW51SXRlbSgib3V0c2V0IiwgIm91dHNldCIpCiAgXTsKICBjb25zdCB2YWxpZEVmZmVjdHMgPSBbCiAgICBjcmVhdGVNZW51SXRlbSgiYmx1ciIsICJibHVyIiksCiAgICBjcmVhdGVNZW51SXRlbSgiYnJpZ2h0bmVzcyIsICJicmlnaHRuZXNzIiksCiAgICBjcmVhdGVNZW51SXRlbSgib3BhY2l0eSIsICJvcGFjaXR5IiksCiAgICBjcmVhdGVNZW51SXRlbSgic2F0dXJhdGlvbiIsICJzYXR1cmF0ZSIpLAogICAgY3JlYXRlTWVudUl0ZW0oImh1ZSIsICJodWUtcm90YXRlIiksCiAgICBjcmVhdGVNZW51SXRlbSgiaW52ZXJ0IiwgImludmVydCIpLAogICAgY3JlYXRlTWVudUl0ZW0oInNlcGlhIiwgInNlcGlhIiksCiAgICBjcmVhdGVNZW51SXRlbSgiY29udHJhc3QiLCAiY29udHJhc3QiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJkaXJlY3Rpb24iLCAicm90YXRlIiksCiAgICBjcmVhdGVNZW51SXRlbSgic2NhbGUgeCIsICJzY2FsZVgiKSwKICAgIGNyZWF0ZU1lbnVJdGVtKCJzY2FsZSB5IiwgInNjYWxlWSIpLAogICAgY3JlYXRlTWVudUl0ZW0oInNrZXcgeCIsICJza2V3WCIpLAogICAgY3JlYXRlTWVudUl0ZW0oInNrZXcgeSIsICJza2V3WSIpCiAgXTsKCiAgLy8gaW50ZXJuYWxzCiAgY29uc3Qgc3R5bGVTdG9yYWdlID0gewogICAgcG9wdXBzOiBPYmplY3QuY3JlYXRlKG51bGwpLAogICAgbGFiZWxzOiBPYmplY3QuY3JlYXRlKG51bGwpLAogICAgaW5wdXRzOiBPYmplY3QuY3JlYXRlKG51bGwpLAogICAgYnV0dG9uczogT2JqZWN0LmNyZWF0ZShudWxsKQogIH0KICBjb25zdCBlbGVtZW50U3RvcmFnZSA9IHsKICAgIHBvcHVwczogT2JqZWN0LmNyZWF0ZShudWxsKSwKICAgIGxhYmVsczogT2JqZWN0LmNyZWF0ZShudWxsKSwKICAgIGlucHV0czogT2JqZWN0LmNyZWF0ZShudWxsKSwKICAgIGJ1dHRvblJvd3M6IE9iamVjdC5jcmVhdGUobnVsbCksCiAgICBidXR0b25zOiBPYmplY3QuY3JlYXRlKG51bGwpCiAgfQoKICBjb25zdCB4bWxFc2NhcGUgPSBmdW5jdGlvbiAodW5zYWZlKSB7CiAgICByZXR1cm4gQ2FzdC50b1N0cmluZyh1bnNhZmUpLnJlcGxhY2UobmV3IFJlZ0V4cChgWzw+JiciXWAsICJnIiksIGMgPT4gewogICAgICBzd2l0Y2ggKGMpIHsKICAgICAgICBjYXNlICI8IjogcmV0dXJuICImbHQ7IjsKICAgICAgICBjYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKICAgICAgICBjYXNlICImIjogcmV0dXJuICImYW1wOyI7CiAgICAgICAgY2FzZSAiJyI6IHJldHVybiAiJmFwb3M7IjsKICAgICAgICBjYXNlICJcIiI6IHJldHVybiAiJnF1b3Q7IjsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgY29uc3QgY3JlYXRlTGFiZWwgPSAoaWQsIHRleHQpID0+IHsKICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAibWF4LWNvbnRlbnQiOwogICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwcmUiKTsKICAgIGxhYmVsLmlkID0geG1sRXNjYXBlKGlkKTsKICAgIGxhYmVsLmlubmVySFRNTCA9IHhtbEVzY2FwZSh0ZXh0KS5yZXBsYWNlKC9cbi9nLCAiPGJyPiIpOwogICAgbGFiZWwuc2V0QXR0cmlidXRlKCJzdHlsZSIsIGNvbXBpbGVTdHlsZXMoaWQsICJsYWJlbCIpKTsKCiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKTsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgIGRhdGE6IHsgaWQsIHRleHQgfSwKICAgICAgRE9NZWxlbWVudDogZWxlbWVudCwKICAgIH07CiAgfTsKCiAgY29uc3QgY3JlYXRlSW5wdXQgPSAoaWQsIHR5cGUsIG9wdGlvbnMpID0+IHsKICAgIGNvbnN0IGlucHV0SG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBpbnB1dEhvbGRlci5pZCA9IHhtbEVzY2FwZShpZCk7CiAgICBpbnB1dEhvbGRlci5zdHlsZS53aWR0aCA9ICJtYXgtY29udGVudCI7CiAgICBsZXQgZWxlbWVudDsKCiAgICBjb25zdCBzZXRFbGVtZW50VmFsdWUgPSAodmFsdWUpID0+IHsKICAgICAgaW5wdXRIb2xkZXIuc2V0QXR0cmlidXRlKCJyZXR1cm5WYWx1ZSIsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7CiAgICB9OwoKICAgIGlmICh0eXBlID09PSAic2VsZWN0IikgewogICAgICBjb25zdCBzZWxlY3RvcnMgPSBvcHRpb25zLnNlbGVjdG9ycyA/PyBbIm5vIG9wdGlvbnMgY3JlYXRlZCJdOwogICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7CiAgICAgIHNlbGVjdG9ycy5mb3JFYWNoKChvcHRpb24pID0+IHsKICAgICAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7CiAgICAgICAgb3B0LnZhbHVlID0gb3B0aW9uOyBvcHQudGV4dCA9IG9wdGlvbjsKICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIH0pOwoKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsICgpID0+IHsgb3B0aW9ucy5tZW51T3BlbmVkID0gdHJ1ZSB9KTsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgKCkgPT4geyBvcHRpb25zLm1lbnVPcGVuZWQgPSBmYWxzZSB9KTsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoZSkgPT4gc2V0RWxlbWVudFZhbHVlKFtlLnRhcmdldC52YWx1ZV0pKTsKICAgICAgc2V0RWxlbWVudFZhbHVlKFtzZWxlY3RvcnNbMF1dKTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gIm11bHRpU2VsZWN0IikgewogICAgICBjb25zdCBjcmVhdGVPcHRpb24gPSAodGV4dCwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBob2xkZXIuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBmbGV4OyBwYWRkaW5nOiA1cHg7IGN1cnNvcjogcG9pbnRlciIpOwoKICAgICAgICBjb25zdCBjaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgICAgY2hlY2sudHlwZSA9ICJjaGVja2JveCI7CiAgICAgICAgY2hlY2suY2hlY2tlZCA9IGluZGV4ID09PSAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicHJlIik7CiAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0geG1sRXNjYXBlKHRleHQpLnJlcGxhY2UoL1xuL2csICI8YnI+Iik7CiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJtYXJnaW46MCAwIDAgNXB4OyBmb250LWZhbWlseTogaW5oZXJpdDsiKTsKCiAgICAgICAgaG9sZGVyLmFwcGVuZChjaGVjaywgbGFiZWwpOwogICAgICAgIHJldHVybiBob2xkZXI7CiAgICAgIH07CgogICAgICBjb25zdCBzZWxlY3RvcnMgPSBvcHRpb25zLnNlbGVjdG9ycyA/PyBbIm5vIG9wdGlvbnMgY3JlYXRlZCJdOwogICAgICBsZXQgcmVzcG9uc2UgPSBbc2VsZWN0b3JzWzBdXTsKICAgICAgb3B0aW9ucy5tZW51T3BlbmVkID0gdHJ1ZTsKCiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgY29uc3Qgb3B0aW9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBvcHRpb25zRGl2LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAib3ZlcmZsb3cteTogc2Nyb2xsOyBoZWlnaHQ6IGNhbGMoMTAwJSAtIDFweCk7Iik7CiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uc0Rpdik7CgogICAgICBzZXRFbGVtZW50VmFsdWUocmVzcG9uc2UpOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdG9ycy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IG9wdGlvbiA9IGNyZWF0ZU9wdGlvbihzZWxlY3RvcnNbaV0sIGkpOwogICAgICAgIG9wdGlvbnNEaXYuYXBwZW5kQ2hpbGQob3B0aW9uKTsKCiAgICAgICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAiUFJFIikgZS50YXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpLmNsaWNrKCk7CiAgICAgICAgICBlbHNlIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAiSU5QVVQiKSB7CiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSByZXNwb25zZS5wdXNoKHNlbGVjdG9yc1tpXSk7CiAgICAgICAgICAgIGVsc2UgcmVzcG9uc2Uuc3BsaWNlKHJlc3BvbnNlLmluZGV4T2Yoc2VsZWN0b3JzW2ldKSwgMSk7CiAgICAgICAgICAgIHNldEVsZW1lbnRWYWx1ZShyZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ0ZXh0YXJlYSIpIHsKICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgIGVsZW1lbnQudmFsdWUgPSBvcHRpb25zLmRlZmF1bHRWYWx1ZSA/PyAiIjsKICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCJyYW5nZSIpKSB7CiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCiAgICAgIGNvbnN0IGNvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgY291bnRlci5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGNlbnRlciIpOwogICAgICBjb3VudGVyLmlubmVyVGV4dCA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlID8/IDA7CgogICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIHJhbmdlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZGlzcGxheTogYmxvY2s7IG1hcmdpbjogYXV0bzsiKTsKICAgICAgcmFuZ2UudHlwZSA9ICJyYW5nZSI7CiAgICAgIGlmICh0eXBlLmVuZHNXaXRoKCJWZXJ0IikpIHJhbmdlLnN0eWxlLndyaXRpbmdNb2RlID0gInNpZGV3YXlzLWxyIjsKCiAgICAgIHJhbmdlLnNldEF0dHJpYnV0ZSgibWF4Iiwgb3B0aW9ucy5tYXhWID8/IDEwMCk7CiAgICAgIHJhbmdlLnNldEF0dHJpYnV0ZSgibWluIiwgb3B0aW9ucy5taW5WID8/IDApOwogICAgICByYW5nZS52YWx1ZSA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlID8/IDA7CiAgICAgIHJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGUpID0+IHsKICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgIHNldEVsZW1lbnRWYWx1ZShbdmFsdWVdKTsKICAgICAgICBjb3VudGVyLmlubmVyVGV4dCA9IHZhbHVlOwogICAgICB9KTsKCiAgICAgIGVsZW1lbnQuYXBwZW5kKHJhbmdlLCBjb3VudGVyKTsKICAgICAgc2V0RWxlbWVudFZhbHVlKFtjb3VudGVyLmlubmVyVGV4dF0pOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGVsZW1lbnQudHlwZSA9IHR5cGU7CiAgICAgIGVsZW1lbnQudmFsdWUgPSBvcHRpb25zLmRlZmF1bHRWYWx1ZSA/PyAiIjsKCiAgICAgIGlmICh0eXBlID09PSAiY29sb3IiKSB7CiAgICAgICAgaW5wdXRIb2xkZXIuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgd2lkdGg6IDEwMCU7Iik7CiAgICAgICAgY29uc3QgY29sb3JTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgY29sb3JTdHlsZS50ZXh0Q29udGVudCA9IGAKICAgICAgICAgIGlucHV0W3R5cGU9ImNvbG9yIl0gewogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB9CiAgICAgICAgICBpbnB1dFt0eXBlPSJjb2xvciJdOjotd2Via2l0LWNvbG9yLXN3YXRjaCB7CiAgICAgICAgICAgIGJvcmRlcjogYmxhY2sgc29saWQgMXB4OwogICAgICAgICAgICBtYXJnaW46IDFweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgfQogICAgICAgICAgaW5wdXRbdHlwZT0iY29sb3IiXTo6LW1vei1jb2xvci1zd2F0Y2ggewogICAgICAgICAgICBib3JkZXI6IGJsYWNrIHNvbGlkIDFweDsKICAgICAgICAgICAgbWFyZ2luOiAxcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgIH0KICAgICAgICAgIGlucHV0W3R5cGU9ImNvbG9yIl06Oi13ZWJraXQtY29sb3Itc3dhdGNoLXdyYXBwZXIgewogICAgICAgICAgICBwYWRkaW5nOiAwcHg7CiAgICAgICAgICB9CiAgICAgICAgYDsKICAgICAgICBlbGVtZW50LmFwcGVuZChjb2xvclN0eWxlKTsKICAgICAgfQogICAgfQoKICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdHlsZSIsIGNvbXBpbGVTdHlsZXMoaWQsICJpbnB1dCIpKTsKICAgIGlucHV0SG9sZGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgcmV0dXJuIHsKICAgICAgdHlwZTogImlucHV0IiwKICAgICAgZGF0YTogeyBpZCwgdHlwZSwgb3B0aW9ucyB9LAogICAgICBET01lbGVtZW50OiBpbnB1dEhvbGRlcgogICAgfTsKICB9OwoKICBjb25zdCBjcmVhdGVCdXR0b25Sb3cgPSAoaWQpID0+IHsKICAgIGNvbnN0IGJ1dHRvblJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgYnV0dG9uUm93LmlkID0geG1sRXNjYXBlKGlkKTsKICAgIGJ1dHRvblJvdy5zdHlsZS53aWR0aCA9ICJtYXgtY29udGVudCI7CgogICAgcmV0dXJuIHsKICAgICAgdHlwZTogImJ1dHRvblJvdyIsCiAgICAgIGRhdGE6IHsgaWQsIGJ1dHRvbnM6IFtdIH0sCiAgICAgIERPTWVsZW1lbnQ6IGJ1dHRvblJvdwogICAgfTsKICB9OwoKICBjb25zdCBjcmVhdGVCdXR0b24gPSAoaWQsIHRleHQpID0+IHsKICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGVsZW1lbnQuaWQgPSB4bWxFc2NhcGUoaWQpOwogICAgZWxlbWVudC5pbm5lckhUTUwgPSB4bWxFc2NhcGUodGV4dCkucmVwbGFjZSgvXG4vZywgIjxicj4iKTsKICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJyZXR1cm5WYWx1ZSIsIGlkKTsKICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdHlsZSIsIGNvbXBpbGVTdHlsZXMoaWQsICJidXR0b24iKSk7CgogICAgcmV0dXJuIHsKICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgIGRhdGE6IHsgaWQsIHRleHQgfSwKICAgICAgRE9NZWxlbWVudDogZWxlbWVudAogICAgfTsKICB9OwoKICBjb25zdCBnZW5EZWZhdWx0U3R5bGVzID0gKGlkLCB0eXBlKSA9PiB7CiAgICBpZiAodHlwZS5lbmRzV2l0aCgicyIpKSB0eXBlID0gdHlwZS5zdWJzdHJpbmcoMCwgdHlwZS5sZW5ndGggLSAxKTsKICAgIGlmICh0eXBlID09PSAicG9wdXAiKSB7CiAgICAgIHN0eWxlU3RvcmFnZS5wb3B1cHNbaWRdID0gewogICAgICAgIFNQc3RvcmFnZToge30sCiAgICAgICAgImRpc3BsYXkiOiAiZmxleCIsCiAgICAgICAgImZsZXgtZGlyZWN0aW9uIjogImNvbHVtbiIsCiAgICAgICAgInBvc2l0aW9uIjogImFic29sdXRlIiwKICAgICAgICAicG9pbnRlci1ldmVudHMiOiAiYXV0byIsCiAgICAgICAgInRyYW5zZm9ybSI6ICJ0cmFuc2xhdGUoLTUwJSwgLTUwJSkiLAogICAgICAgICJmaWx0ZXIiOiAiIiwKICAgICAgICAibGVmdCI6ICJjYWxjKDUwJSArIDBweCkiLAogICAgICAgICJ0b3AiOiAiY2FsYyg1MCUgKyAwcHgpIiwKICAgICAgICAid2lkdGgiOiAibWF4LWNvbnRlbnQiLAogICAgICAgICJoZWlnaHQiOiAiYXV0byIsCiAgICAgICAgInBhZGRpbmciOiAiMTVweCIsCiAgICAgICAgImJhY2tncm91bmQiOiAiI2ZmZiIsCiAgICAgICAgImJveC1zaGFkb3ciOiAiIzAwMCAwcHggMHB4IDVweCIsCiAgICAgICAgImJvcmRlciI6ICIxcHggbm9uZSAjMDAwIiwKICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICI1cHgiLAogICAgICB9OwogICAgfSBlbHNlIGlmICh0eXBlID09PSAibGFiZWwiKSB7CiAgICAgIHN0eWxlU3RvcmFnZS5sYWJlbHNbaWRdID0gewogICAgICAgIFNQc3RvcmFnZToge30sCiAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAiZm9udC1mYW1pbHkiOiAiU2FucyBTZXJpZiIsCiAgICAgICAgIm1hcmdpbiI6ICI1cHgiLAogICAgICAgICJjb2xvciI6ICIjMDAwIiwKICAgICAgICAidGV4dC1zaGFkb3ciOiAibm9uZSIsCiAgICAgICAgIi13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgiOiAiMHB4IiwKICAgICAgICAidHJhbnNmb3JtIjogIiIsCiAgICAgICAgImZpbHRlciI6ICIiCiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJpbnB1dCIpIHsKICAgICAgc3R5bGVTdG9yYWdlLmlucHV0c1tpZF0gPSB7CiAgICAgICAgU1BzdG9yYWdlOiB7fSwKICAgICAgICAid2lkdGgiOiAibWF4LWNvbnRlbnQiLAogICAgICAgICJoZWlnaHQiOiAiYXV0byIsCiAgICAgICAgIm1hcmdpbiI6ICI1cHgiLAogICAgICAgICJwYWRkaW5nIjogIjVweCIsCiAgICAgICAgImJvcmRlciI6ICIxcHggc29saWQgIzAwMCIsCiAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiNHB4IiwKICAgICAgICAidGV4dC1hbGlnbiI6ICJsZWZ0IiwKICAgICAgICAiZm9udC1zaXplIjogIjE0cHgiLAogICAgICAgICJmb250LWZhbWlseSI6ICJTYW5zIFNlcmlmIiwKICAgICAgICAiYmFja2dyb3VuZCI6ICIjYTVhZWMzIiwKICAgICAgICAiYWNjZW50LWNvbG9yIjogIiM5ZjUwZDkiLAogICAgICAgICJjb2xvciI6ICIjMDAwIiwKICAgICAgICAidGV4dC1zaGFkb3ciOiAibm9uZSIsCiAgICAgICAgIi13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgiOiAiMHB4IiwKICAgICAgICAidHJhbnNmb3JtIjogIiIsCiAgICAgICAgImZpbHRlciI6ICIiCiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJidXR0b24iKSB7CiAgICAgIHN0eWxlU3RvcmFnZS5idXR0b25zW2lkXSA9IHsKICAgICAgICBTUHN0b3JhZ2U6IHt9LAogICAgICAgICJ3aWR0aCI6ICJhdXRvIiwKICAgICAgICAiaGVpZ2h0IjogImF1dG8iLAogICAgICAgICJjdXJzb3IiOiAicG9pbnRlciIsCiAgICAgICAgIm1hcmdpbiI6ICI1cHgiLAogICAgICAgICJwYWRkaW5nIjogIjVweCAxMHB4IiwKICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICI1cHgiLAogICAgICAgICJib3JkZXIiOiAiMXB4IG5vbmUgI2ZmZiIsCiAgICAgICAgImJhY2tncm91bmQiOiAiIzAwNzRkOSIsCiAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAiZm9udC1mYW1pbHkiOiAiU2FucyBTZXJpZiIsCiAgICAgICAgImNvbG9yIjogIiNmZmYiLAogICAgICAgICJ0ZXh0LXNoYWRvdyI6ICJub25lIiwKICAgICAgICAiLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aCI6ICIwcHgiLAogICAgICAgICJ0cmFuc2Zvcm0iOiAiIiwKICAgICAgICAiZmlsdGVyIjogIiIKICAgICAgfTsKICAgIH0KICAgIHJldHVybiBzdHlsZVN0b3JhZ2VbdHlwZSArICJzIl1baWRdOwogIH0KCiAgY29uc3QgZ2VuRGVmYXVsdEJveCA9IChpZCwgb3B0RW1wdHlFbGVtZW50cykgPT4gewogICAgZ2VuRGVmYXVsdFN0eWxlcyhpZCwgInBvcHVwIik7CiAgICBjb25zdCBkZWZhdWx0RWxlbWVudHMgPSBbXTsKICAgIGxldCBzdWJtaXRCdG4sIGNhbmNlbEJ0bjsKICAgIGlmICghb3B0RW1wdHlFbGVtZW50cykgewogICAgICBkZWZhdWx0RWxlbWVudHMucHVzaChjcmVhdGVMYWJlbCgiZGVmYXVsdC1sYWJlbCIsIFNjcmF0Y2gudHJhbnNsYXRlKCJXaGF0cyBZb3VyIE5hbWU/IikpKTsKICAgICAgZGVmYXVsdEVsZW1lbnRzLnB1c2goY3JlYXRlSW5wdXQoCiAgICAgICAgImRlZmF1bHQtaW5wdXQiLCAidGV4dCIsCiAgICAgICAgeyBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCIuLi50eXBlIHlvdXIgbmFtZSIpIH0KICAgICAgKSk7CgogICAgICBjb25zdCBidXR0b25Sb3cgPSBjcmVhdGVCdXR0b25Sb3coImRlZmF1bHQtYnV0dG9uLXJvdyIpOwogICAgICBzdWJtaXRCdG4gPSBjcmVhdGVCdXR0b24oInN1Ym1pdC1idXR0b24iLCBTY3JhdGNoLnRyYW5zbGF0ZSgiU3VibWl0IikpOwogICAgICBjYW5jZWxCdG4gPSBjcmVhdGVCdXR0b24oImNhbmNlbC1idXR0b24iLCBTY3JhdGNoLnRyYW5zbGF0ZSgiQ2FuY2VsIikpOwogICAgICBidXR0b25Sb3cuZGF0YS5idXR0b25zLnB1c2goc3VibWl0QnRuLmRhdGEsIGNhbmNlbEJ0bi5kYXRhKTsKICAgICAgYnV0dG9uUm93LkRPTWVsZW1lbnQuYXBwZW5kKHN1Ym1pdEJ0bi5ET01lbGVtZW50LCBjYW5jZWxCdG4uRE9NZWxlbWVudCk7CiAgICAgIGRlZmF1bHRFbGVtZW50cy5wdXNoKGJ1dHRvblJvdyk7CiAgICB9CgogICAgY29uc3QgZGVmYXVsdEJveCA9IHsKICAgICAgd2FpdGluZzogZmFsc2UsCiAgICAgIGlzV2luZG93ZWQ6IGZhbHNlLAogICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgYXV0b0NvbnRyb2w6IHRydWUsCiAgICAgIGZvcmNlS2V5OiB1bmRlZmluZWQsCiAgICAgIGxhc3RCdG5QcmVzc2VkOiB1bmRlZmluZWQsCiAgICAgIHZhbHVlOiB1bmRlZmluZWQsCiAgICAgIERPTWVsZW1lbnQ6IHVuZGVmaW5lZCwKICAgICAgZWxlbWVudHM6IGRlZmF1bHRFbGVtZW50cwogICAgfTsKICAgIGlmICghb3B0RW1wdHlFbGVtZW50cykgewogICAgICBlbGVtZW50U3RvcmFnZS5sYWJlbHNbImRlZmF1bHQtbGFiZWwiXSA9IGRlZmF1bHRFbGVtZW50c1swXTsKICAgICAgZWxlbWVudFN0b3JhZ2UuaW5wdXRzWyJkZWZhdWx0LWlucHV0Il0gPSBkZWZhdWx0RWxlbWVudHNbMV07CiAgICAgIGVsZW1lbnRTdG9yYWdlLmJ1dHRvbnNbInN1Ym1pdC1idXR0b24iXSA9IHN1Ym1pdEJ0bjsKICAgICAgZWxlbWVudFN0b3JhZ2UuYnV0dG9uc1siY2FuY2VsLWJ1dHRvbiJdID0gY2FuY2VsQnRuOwogICAgICBlbGVtZW50U3RvcmFnZS5idXR0b25Sb3dzWyJkZWZhdWx0LWJ1dHRvbi1yb3ciXSA9IGRlZmF1bHRFbGVtZW50c1syXTsKICAgIH0KICAgIGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tpZF0gPSBkZWZhdWx0Qm94OwogICAgcmV0dXJuIGRlZmF1bHRCb3g7CiAgfQoKICAvLyBwb3B1cCBib3ggR1VJCiAgY29uc3QgY29tcGlsZVN0eWxlcyA9IChpZCwgdHlwZSkgPT4gewogICAgY29uc3QgYm94SW5mbyA9IGVsZW1lbnRTdG9yYWdlW3R5cGUgKyAicyJdW2lkXTsKICAgIGNvbnN0IHN0eWxlT2JqID0gc3R5bGVTdG9yYWdlW3R5cGUgKyAicyJdW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCB0eXBlKTsKICAgIGlmICh0eXBlID09PSAiaW5wdXQiICYmIGJveEluZm8/LmRhdGEudHlwZSA9PT0gImNvbG9yIikgewogICAgICAvLyBjb2xvciBpbnB1dHMgd2l0aCB0aGVzZSBvcHRpb25zIGxvb2sgd2VpcmQKICAgICAgaWYgKHN0eWxlT2JqWyJ3aWR0aCJdID09PSAibWF4LWNvbnRlbnQiKSBzdHlsZU9ialsid2lkdGgiXSA9ICI4MCUiOwogICAgICBpZiAoc3R5bGVPYmpbImhlaWdodCJdID09PSAiYXV0byIpc3R5bGVPYmpbImhlaWdodCJdID0gIjMwcHgiOwogICAgfQoKICAgIGxldCBzdHlsZVN0cmluZyA9ICIiOwogICAgT2JqZWN0LmVudHJpZXMoc3R5bGVPYmopLmZvckVhY2goKHN0eWxlKSA9PiB7CiAgICAgIHN0eWxlU3RyaW5nICs9IGAke3N0eWxlWzBdfTogJHtzdHlsZVsxXX07YDsKICAgIH0pOwogICAgcmV0dXJuIHN0eWxlU3RyaW5nOwogIH07CgogIGNvbnN0IGNvbXBpbGVCb3ggPSAoaWQpID0+IHsKICAgIGNvbnN0IGJveEluZm8gPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgYm94SW5mby53YWl0aW5nID0gdHJ1ZTsKICAgIGxldCBib3hJbnB1dHMgPSBbXTsKCiAgICBjb25zdCBwb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcG9wdXBDb250YWluZXIuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJwb3NpdGlvbjogZml4ZWQ7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7Iik7CiAgICBwb3B1cENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gYm94SW5mby5mb2N1c2VkID8gImF1dG8iIDogIm5vbmUiOyAKICAgIGlmIChib3hJbmZvLmZvY3VzZWQpIHBvcHVwQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJyZ2JhKDAsMCwwLDAuNSkiOwogICAgaWYgKGJveEluZm8uaXNXaW5kb3dlZCkgcG9wdXBDb250YWluZXIuc3R5bGUuekluZGV4ID0gIjk5OTkiOwogICAgZWxzZSB7CiAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLmxlZnQgPSAiLTUwJSI7CiAgICAgIHBvcHVwQ29udGFpbmVyLnN0eWxlLnRvcCA9ICItNTAlIjsKICAgIH0KCiAgICBjb25zdCBwb3B1cFBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBwb3B1cFBhbmVsLmNsYXNzTGlzdC5hZGQoIlNQLVBvcHVwLUJveCIpOwogICAgcG9wdXBQYW5lbC5pZCA9IHhtbEVzY2FwZShpZCk7CiAgICBwb3B1cFBhbmVsLnNldEF0dHJpYnV0ZSgic3R5bGUiLCBjb21waWxlU3R5bGVzKGlkLCAicG9wdXAiKSk7CgogICAgLy8gdmFyaW91cyBlbGVtZW50IHV0aWxzCiAgICBjb25zdCBoYW5kbGVDbG9zZSA9IChldmVudCkgPT4gewogICAgICAvLyBpZiB0aGVyZXMgbm8gaW5wdXQsIHNldCB0aGUgdmFsdWUgdG8gdGhlIGJ1dHRvbiBuYW1lCiAgICAgIGlmIChldmVudCkgYm94SW5mby5sYXN0QnRuUHJlc3NlZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoInJldHVyblZhbHVlIik7CiAgICAgIGlmIChib3hJbnB1dHMubGVuZ3RoID09PSAwKSBib3hJbmZvLnZhbHVlID0gYm94SW5mby5sYXN0QnRuUHJlc3NlZCA/PyAiIjsKICAgICAgZWxzZSBjb21waWxlSW5wdXRWYWx1ZXMoKTsKICAgICAgcnVudGltZS5vZmYoIktFWV9QUkVTU0VEIiwgZm9yY2VLZXlIYW5kbGVyKTsKICAgICAgY2xvc2VCb3goaWQpOwogICAgfTsKICAgIGNvbnN0IGZvcmNlS2V5SGFuZGxlciA9IChrZXkpID0+IHsKICAgICAgaWYgKGJveEluZm8uZm9yY2VLZXkgPT09ICJzaGlmdEVudGVyIikgewogICAgICAgIGlmIChrZXkgPT09ICJlbnRlciIgJiYgcnVudGltZS5pb0RldmljZXMua2V5Ym9hcmQuZ2V0S2V5SXNEb3duKCJzaGlmdCIpKSBoYW5kbGVDbG9zZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT0gYm94SW5mby5mb3JjZUtleS50b0xvd2VyQ2FzZSgpKSBoYW5kbGVDbG9zZSgpOwogICAgfTsKCiAgICBjb25zdCBjb21waWxlSW5wdXRWYWx1ZXMgPSAoKSA9PiB7CiAgICAgIGlmIChib3hJbnB1dHMubGVuZ3RoID09PSAwKSBib3hJbmZvLnZhbHVlID0gIiI7CiAgICAgIGVsc2UgaWYgKGJveElucHV0cy5sZW5ndGggPT09IDEpIHsKICAgICAgICBjb25zdCBpbnB1dCA9IGJveElucHV0c1swXTsKICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5wdXQuRE9NZWxlbWVudDsKCiAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgicmV0dXJuVmFsdWUiKTsKICAgICAgICBib3hJbmZvLnZhbHVlID0gcmV0dXJuVmFsdWUgPyBKU09OLnBhcnNlKHJldHVyblZhbHVlKSA6IGVsZW1lbnQuZmlyc3RDaGlsZC52YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBib3hJbmZvLnZhbHVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveElucHV0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgaW5wdXQgPSBib3hJbnB1dHNbaV07CiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5wdXQuRE9NZWxlbWVudDsKCiAgICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJyZXR1cm5WYWx1ZSIpOwogICAgICAgICAgYm94SW5mby52YWx1ZVtpbnB1dC5kYXRhLmlkXSA9IHJldHVyblZhbHVlID8gSlNPTi5wYXJzZShyZXR1cm5WYWx1ZSkgOiBlbGVtZW50LmZpcnN0Q2hpbGQudmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIC8vIGFwcGVuZCBlbGVtZW50cyB0byBwYW5lbAogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3hJbmZvLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBib3hJbmZvLmVsZW1lbnRzW2ldOwogICAgICBsZXQgZWxlbWVudCA9IGl0ZW0uRE9NZWxlbWVudDsKICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gImxhYmVsIikgewogICAgICAgIGNvbnN0IHJlZnJlc2hlZExhYmVsID0gZWxlbWVudFN0b3JhZ2UubGFiZWxzW2l0ZW0uZGF0YS5pZF07CiAgICAgICAgZWxlbWVudCA9IHJlZnJlc2hlZExhYmVsLkRPTWVsZW1lbnQ7CiAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAiaW5wdXQiKSB7CiAgICAgICAgYm94SW5wdXRzLnB1c2goaXRlbSk7CgogICAgICAgIGNvbnN0IHJlZnJlc2hlZElucHV0ID0gZWxlbWVudFN0b3JhZ2UuaW5wdXRzW2l0ZW0uZGF0YS5pZF07CiAgICAgICAgaWYgKCFyZWZyZXNoZWRJbnB1dCkgY29udGludWU7CiAgICAgICAgY29uc3QgcmVjZW50RGF0YSA9IHJlZnJlc2hlZElucHV0LmRhdGE7CiAgICAgICAgZWxlbWVudCA9IGNyZWF0ZUlucHV0KAogICAgICAgICAgcmVjZW50RGF0YS5pZCwgcmVjZW50RGF0YS50eXBlLCByZWNlbnREYXRhLm9wdGlvbnMKICAgICAgICApLkRPTWVsZW1lbnQ7CiAgICAgICAgaXRlbS5ET01lbGVtZW50ID0gZWxlbWVudDsKICAgICAgfQogICAgICBwb3B1cFBhbmVsLmFwcGVuZENoaWxkKGVsZW1lbnQpCgogICAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzCiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICJpbnB1dCIpIHsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGNvbXBpbGVJbnB1dFZhbHVlcyk7CiAgICAgICAgaWYgKGJveEluZm8uZm9yY2VLZXkgIT09IHVuZGVmaW5lZCkgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsKICAgICAgICAgIGlmIChib3hJbmZvLmZvcmNlS2V5ID09PSBrZXlVdGlsLl9rZXlTdHJpbmdUb1NjcmF0Y2hLZXkoZS5rZXkpKSB7CiAgICAgICAgICAgIGhhbmRsZUNsb3NlKCk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICJidXR0b25Sb3ciKSB7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gIkJVVFRPTiIpIGhhbmRsZUNsb3NlKGUpOwogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIHBvcHVwQ29udGFpbmVyLmFwcGVuZENoaWxkKHBvcHVwUGFuZWwpOwogICAgaWYgKGJveEluZm8uaXNXaW5kb3dlZCkgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3B1cENvbnRhaW5lcik7CiAgICBlbHNlIHJlbmRlci5hZGRPdmVybGF5KHBvcHVwQ29udGFpbmVyLCAic2NhbGUtY2VudGVyZWQiKTsKICAgIGNvbXBpbGVJbnB1dFZhbHVlcygpOwogICAgYm94SW5mby5ET01lbGVtZW50ID0gcG9wdXBDb250YWluZXI7CgogICAgLy8gZXh0cmEgZXZlbnQgbGlzdGVuZXJzCiAgICBpZiAoYm94SW5mby5mb3JjZUtleSAhPT0gdW5kZWZpbmVkKSBydW50aW1lLm9uKCJLRVlfUFJFU1NFRCIsIGZvcmNlS2V5SGFuZGxlcik7CiAgfTsKCiAgY29uc3QgY2xvc2VCb3ggPSAoaWQsIG9wdEZvcmNlKSA9PiB7CiAgICBjb25zdCBib3hJbmZvID0gZWxlbWVudFN0b3JhZ2UucG9wdXBzW2lkXTsKICAgIGJveEluZm8ud2FpdGluZyA9IGZhbHNlOwoKICAgIGlmIChvcHRGb3JjZSB8fCBib3hJbmZvLmF1dG9Db250cm9sKSB7CiAgICAgIGlmIChib3hJbmZvLmlzV2luZG93ZWQpIGJveEluZm8uRE9NZWxlbWVudD8ucmVtb3ZlKCk7CiAgICAgIGVsc2UgcmVuZGVyLnJlbW92ZU92ZXJsYXkoYm94SW5mby5ET01lbGVtZW50KTsKICAgICAgYm94SW5mby5ET01lbGVtZW50ID0gdW5kZWZpbmVkOwogICAgfQogIH07CgogIGNvbnN0IHVwZGF0ZUJveFZpc3VhbHMgPSAoaWQsIHR5cGUpID0+IHsKICAgIGNvbnN0IGJveEluZm8gPSBlbGVtZW50U3RvcmFnZVt0eXBlXVtpZF07CiAgICBpZiAoIWJveEluZm8gfHwgIWJveEluZm8uRE9NZWxlbWVudCkgcmV0dXJuOwogICAgY29uc3QgZWxlbWVudCA9IHR5cGUgPT09ICJidXR0b25zIiA/IGJveEluZm8uRE9NZWxlbWVudCA6IGJveEluZm8uRE9NZWxlbWVudC5maXJzdENoaWxkOwogICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoCiAgICAgICJzdHlsZSIsIAogICAgICBjb21waWxlU3R5bGVzKGlkLCB0eXBlLnNsaWNlKDAsIHR5cGUubGVuZ3RoIC0gMSkpCiAgICApOwogIH07CgogIC8vIGV4dGVuc2lvbiB1dGlsaXRpZXMKICBmdW5jdGlvbiBjcmVhdGVCbG9ja0xhYmVsKHRleHQpIHsKICAgIHJldHVybiB7CiAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKHRleHQpCiAgICB9OwogIH07CgogIGZ1bmN0aW9uIGNyZWF0ZU1lbnVJdGVtKHRleHQsIHZhbHVlKSB7CiAgICByZXR1cm4gewogICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSh0ZXh0KSwgdmFsdWUKICAgIH07CiAgfTsKCiAgZ2VuRGVmYXVsdEJveCgiZGVmYXVsdC1wb3B1cCIsIGZhbHNlKTsKCiAgY2xhc3MgU1Bwb3B1cHMgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHJ1bnRpbWUub24oIlBST0pFQ1RfU1RBUlQiLCAoKSA9PiB0aGlzLnJlbW92ZUFsbFBvcHVwcygpKTsKICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVE9QX0FMTCIsICgpID0+IHRoaXMucmVtb3ZlQWxsUG9wdXBzKCkpOwogICAgfQogICAgZ2V0SW5mbygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogIlNQcG9wdXBzIiwKICAgICAgICBuYW1lOiBTY3JhdGNoLnRyYW5zbGF0ZSgiUG9wdXAgUGhvZW5peCIpLAogICAgICAgIGNvbG9yMTogIiNhODEyZmYiLAogICAgICAgIGNvbG9yMjogIiM5NDFjZDkiLAogICAgICAgIGNvbG9yMzogIiM4MjE5YmYiLAogICAgICAgIG1lbnVJY29uVVJJLAogICAgICAgIGJsb2NrSWNvblVSSTogZ2V0QmxvY2tJY29uKCJtYWluIiksCiAgICAgICAgYmxvY2tzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNob3dQb3B1cCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNob3cgcG9wdXAgd2l0aCBJRCBbSURdIGFuZCBbVFlQRV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfSwKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkFXQUlUUyIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BvcHVwUmVwb3J0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNob3cgcG9wdXAgd2l0aCBJRCBbSURdIGFuZCB3YWl0IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInVzZXJJbnB1dCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZXNwb25zZSBmcm9tIFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZW1vdmVQb3B1cCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInJlbW92ZSBwb3B1cCB3aXRoIElEIFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmVtb3ZlQWxsUG9wdXBzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicmVtb3ZlIGFsbCBwb3B1cHMiKQogICAgICAgICAgfSwKICAgICAgICAgIGNyZWF0ZUJsb2NrTGFiZWwoIlBvcHVwcyIpLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJjcmVhdGVQb3B1cCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImNyZWF0ZSBuZXcgcG9wdXAgd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibmV3LXBvcHVwIikgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlUG9wdXAiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgcG9wdXAgd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXBwZW5kMlBvcHVwIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYXBwZW5kIFtUWVBFXSB3aXRoIElEIFtFTEVNRU5UX0lEXSB0byBwb3B1cCBbUE9QX0lEXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlVJX0VMRU1FTlRTIiB9LAogICAgICAgICAgICAgIEVMRU1FTlRfSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMubGFiZWwgfSwKICAgICAgICAgICAgICBQT1BfSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmVtb3ZlRnJvbVBvcHVwIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicmVtb3ZlIFtUWVBFXSB3aXRoIElEIFtFTEVNRU5UX0lEXSBmcm9tIHBvcHVwIFtQT1BfSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVUlfRUxFTUVOVFMiIH0sCiAgICAgICAgICAgICAgRUxFTUVOVF9JRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5sYWJlbCB9LAogICAgICAgICAgICAgIFBPUF9JRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZW1vdmVQb3B1cENvbnRlbnQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gcG9wdXAgW0lEXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldFBvcHVwUG9zIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IHBvc2l0aW9uIG9mIFtJRF0gdG8geDogW1hdIHk6IFtZXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9LAogICAgICAgICAgICAgIFg6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSIH0sCiAgICAgICAgICAgICAgWTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZ2V0UG9zIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIltUWVBFXSBwb3NpdGlvbiBvZiBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiUE9TSVRJT04iIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGNyZWF0ZUJsb2NrTGFiZWwoIkxhYmVscyIpLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJjcmVhdGVQb3BMYWJlbCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImNyZWF0ZSBuZXcgbGFiZWwgd2l0aCBJRCBbSURdIGFuZCB0ZXh0IFtURVhUXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5sYWJlbCB9LAogICAgICAgICAgICAgIFRFWFQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJ3aGF0cyB5b3VyIG5hbWU/IikgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlUG9wTGFiZWwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgbGFiZWwgd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmxhYmVsIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBjcmVhdGVCbG9ja0xhYmVsKCJJbnB1dHMiKSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiY3JlYXRlUG9wSW5wdXQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJjcmVhdGUgbmV3IFtUWVBFXSBpbnB1dCB3aXRoIElEIFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJJTlBVVFMiIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuaW5wdXQgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZGVsZXRlUG9wSW5wdXQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgaW5wdXQgd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmlucHV0IH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0RGVmYXVsdFZhbHVlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IGRlZmF1bHQgdmFsdWUgb2YgaW5wdXQgW0lEXSB0byBbVkFMVUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmlucHV0IH0sCiAgICAgICAgICAgICAgVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKGAuLi50eXBlIGhlcmVgKSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldFNsaWRlclBhcmFtcyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzbGlkZXIgW0lEXSBtaW4gW01JTl0gbWF4IFtNQVhdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmlucHV0IH0sCiAgICAgICAgICAgICAgTUlOOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAtMTAwIH0sCiAgICAgICAgICAgICAgTUFYOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAxMDAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0RHJvcE9wdGlvbnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgb3B0aW9ucyBvZiBkcm9wZG93biBbSURdIHRvIFtBUlJBWV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuaW5wdXQgfSwKICAgICAgICAgICAgICBBUlJBWTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoYFsiT3B0aW9uIDEiLCAiT3B0aW9uIDIiLCAiT3B0aW9uIDMiXWApIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImlzRHJvcE9wZW4iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJpcyBkcm9wZG93biBbRFJPUF9JRF0gaW4gcG9wdXAgW1BPUF9JRF0gb3Blbj8iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgRFJPUF9JRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5pbnB1dCB9LAogICAgICAgICAgICAgIFBPUF9JRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgY3JlYXRlQmxvY2tMYWJlbCgiQnV0dG9ucyIpLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJjcmVhdGVCdG5Sb3ciLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJjcmVhdGUgbmV3IGJ1dHRvbiByb3cgd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmJ0blJvdyB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJjcmVhdGVQb3BCdG4iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJjcmVhdGUgbmV3IGJ1dHRvbiB3aXRoIElEIFtJRF0gYW5kIHRleHQgW1RFWFRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmJ1dHRvbiB9LAogICAgICAgICAgICAgIFRFWFQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJTdWJtaXQiKSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkZWxldGVCdG5Sb3ciLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgYnV0dG9uIHJvdyB3aXRoIElEIFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuYnRuUm93IH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZVBvcEJ0biIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRlbGV0ZSBidXR0b24gd2l0aCBJRCBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmJ1dHRvbiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFwcGVuZDJSb3ciLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJhcHBlbmQgYnV0dG9uIFtCVE5fSURdIHRvIHJvdyBbUk9XX0lEXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBCVE5fSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuYnV0dG9uIH0sCiAgICAgICAgICAgICAgUk9XX0lEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmJ0blJvdyB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZW1vdmVGcm9tUm93IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicmVtb3ZlIGJ1dHRvbiBbQlROX0lEXSBmcm9tIHJvdyBbUk9XX0lEXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBCVE5fSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuYnV0dG9uIH0sCiAgICAgICAgICAgICAgUk9XX0lEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLmJ0blJvdyB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZW1vdmVSb3dDb250ZW50IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgicmVtb3ZlIGFsbCBidXR0b25zIGZyb20gcm93IFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMuYnRuUm93IH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBjcmVhdGVCbG9ja0xhYmVsKCJPcGVyYXRvcnMiKSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYWxsRWxlbWVudHMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYWxsIFtUWVBFXSBJRHMiKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJVSV9TRUxFQ1QiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInBvcHVwV2FpdGluZyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIHBvcHVwIFtJRF0gd2FpdGluZz8iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibGFzdEJ1dHRvblByZXNzIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxhc3QgYnV0dG9uIHByZXNzZWQgaW4gW0lEXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldFBvcHVwVGFyZ2V0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2hvdyBuZXh0IHBvcHVwIHdpdGggSUQgW0lEXSBvbiB0aGUgW1RZUEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQT1BVUF9MT0NBVElPTiIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidG9nZ2xlT3B0aW9uIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidG9nZ2xlIFtPUFRJT05dIGluIHBvcHVwIFtJRF0gW1RZUEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE9QVElPTjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJFWFRSQV9PUFRTIiB9LAogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJUT0dHTEVSIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRGb3JjZUNsb3NlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IGF1dG8tY2xvc2UgYWN0aW9uIGluIHBvcHVwIFtJRF0gdG8gW0tFWV0ga2V5IiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0sCiAgICAgICAgICAgICAgS0VZOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkZPUkNFX0tFWSIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGNyZWF0ZUJsb2NrTGFiZWwoIkN1c3RvbWl6YXRpb24iKSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0UG9wdXBBbGlnbiIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImNvbG9yIiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgYWxpZ25tZW50IG9mIHBvcHVwIFtJRF0gdG8gW1RZUEVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJBTElHTk1FTlQiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldElucHV0QWxpZ24iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIGJsb2NrSWNvblVSSTogZ2V0QmxvY2tJY29uKCJjb2xvciIpLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IGFsaWdubWVudCBvZiBpbnB1dCBbSURdIHRvIFtUWVBFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5pbnB1dCB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiQUxJR05NRU5UIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldElucHV0Rm9udCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImNvbG9yIiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgZm9udCBvZiBbRUxFTUVOVF0gW0lEXSB0byBbRk9OVF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgRUxFTUVOVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJVSV9NQUlOMiIgfSwKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5sYWJlbCB9LAogICAgICAgICAgICAgIEZPTlQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiRk9OVFMiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldElucHV0Rm9udFNaIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICBibG9ja0ljb25VUkk6IGdldEJsb2NrSWNvbigiY29sb3IiKSwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBmb250IHNpemUgb2YgW0VMRU1FTlRdIFtJRF0gdG8gW1NJWkVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEVMRU1FTlQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVUlfTUFJTjIiIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMubGFiZWwgfSwKICAgICAgICAgICAgICBTSVpFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAxNSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRFbGVtZW50T3V0bGluZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImNvbG9yIiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgdGV4dCBvdXRsaW5lIG9mIFtFTEVNRU5UXSBbSURdIHRvIGNvbG9yIFtDT0xPUl0gd2VpZ2h0IFtXRUlHSFRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEVMRU1FTlQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVUlfTUFJTjIiIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMubGFiZWwgfSwKICAgICAgICAgICAgICBDT0xPUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5DT0xPUiB9LAogICAgICAgICAgICAgIFdFSUdIVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogNSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldEVsZW1lbnRBdHQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIGJsb2NrSWNvblVSSTogZ2V0QmxvY2tJY29uKCJjb2xvciIpLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IFtQQVJBTV0gb2YgW0VMRU1FTlRdIFtJRF0gdG8gW1ZBTFVFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBQQVJBTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQT1BfU1RZTEVTIiB9LAogICAgICAgICAgICAgIEVMRU1FTlQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVUlfTUFJTiIgfSwKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9LAogICAgICAgICAgICAgIFZBTFVFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiI2ZmMDAwMCIgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0RWxlbWVudEJvcmRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImNvbG9yIiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgYm9yZGVyIG9mIFtFTEVNRU5UXSBbSURdIHRvIFtUWVBFXSBbQ09MT1JdIHdlaWdodCBbV0VJR0hUXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBFTEVNRU5UOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlVJX01BSU4iIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfSwKICAgICAgICAgICAgICBUWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkJPUkRFUlMiIH0sCiAgICAgICAgICAgICAgQ09MT1I6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuQ09MT1IgfSwKICAgICAgICAgICAgICBXRUlHSFQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDUgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0RWxlbWVudFNoYWRvdyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImNvbG9yIiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2hhZG93IG9mIFtFTEVNRU5UXSBbSURdIHRvIHg6IFtYXSB5OiBbWV0gY29sb3IgW0NPTE9SXSBibHVyIFtBTVRdIHN0cmVuZ3RoIFtCTFVSXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBFTEVNRU5UOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlVJX01BSU4iIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfSwKICAgICAgICAgICAgICBYOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiB9LAogICAgICAgICAgICAgIFk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSIH0sCiAgICAgICAgICAgICAgQ09MT1I6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuQ09MT1IgfSwKICAgICAgICAgICAgICBBTVQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDUgfSwKICAgICAgICAgICAgICBCTFVSOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiA1IH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmVzZXRFbGVtZW50RWZmZWN0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICBibG9ja0ljb25VUkk6IGdldEJsb2NrSWNvbigiZWZmZWN0IiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZXNldCBlZmZlY3RzIG9mIFtFTEVNRU5UXSBbSURdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEVMRU1FTlQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiVUlfTUFJTiIgfSwKICAgICAgICAgICAgICBJRDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogdHJhbnNsYXRlZElucHV0cy5wb3B1cCB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzZXRFbGVtZW50RWZmZWN0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICBibG9ja0ljb25VUkk6IGdldEJsb2NrSWNvbigiZWZmZWN0IiksCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgW0VGRkVDVF0gb2YgW0VMRU1FTlRdIFtJRF0gdG8gW1ZBTFVFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBFRkZFQ1Q6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiRUZGRUNUUyIgfSwKICAgICAgICAgICAgICBFTEVNRU5UOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIlVJX01BSU4iIH0sCiAgICAgICAgICAgICAgSUQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6IHRyYW5zbGF0ZWRJbnB1dHMucG9wdXAgfSwKICAgICAgICAgICAgICBWQUxVRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogNSB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJnZXRFbGVtZW50RWZmZWN0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgYmxvY2tJY29uVVJJOiBnZXRCbG9ja0ljb24oImVmZmVjdCIpLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiW0VGRkVDVF0gb2YgW0VMRU1FTlRdIFtJRF0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgRUZGRUNUOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkVGRkVDVFMiIH0sCiAgICAgICAgICAgICAgRUxFTUVOVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJVSV9NQUlOIiB9LAogICAgICAgICAgICAgIElEOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiB0cmFuc2xhdGVkSW5wdXRzLnBvcHVwIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBtZW51czogewogICAgICAgICAgRk9OVFM6IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogImdldEZvbnRzIiB9LAogICAgICAgICAgUE9QX1NUWUxFUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLmdlblN0eWxlTGlzdCgicG9wdXAiKSB9LAogICAgICAgICAgTEFCX1NUWUxFUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLmdlblN0eWxlTGlzdCgibGFiZWwiKSB9LAogICAgICAgICAgSU5QX1NUWUxFUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLmdlblN0eWxlTGlzdCgiaW5wdXQiKSB9LAogICAgICAgICAgQlVUX1NUWUxFUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLmdlblN0eWxlTGlzdCgiYnV0dG9uIikgfSwKICAgICAgICAgIElOUFVUUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB2YWxpZElucHV0cyB9LAogICAgICAgICAgQk9SREVSUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB2YWxpZEJvcmRlcnMgfSwKICAgICAgICAgIEVGRkVDVFM6IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogdmFsaWRFZmZlY3RzIH0sCiAgICAgICAgICBVSV9FTEVNRU5UUzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiB0aGlzLmdlbkVsZW1lbnRMaXN0KGZhbHNlLCB0cnVlLCBmYWxzZSkgfSwKICAgICAgICAgIFVJX01BSU46IHsgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLCBpdGVtczogdGhpcy5nZW5FbGVtZW50TGlzdCh0cnVlLCBmYWxzZSwgdHJ1ZSkgfSwKICAgICAgICAgIFVJX01BSU4yOiB7IGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwgaXRlbXM6IHRoaXMuZ2VuRWxlbWVudExpc3QoZmFsc2UsIGZhbHNlLCB0cnVlKSB9LAogICAgICAgICAgVUlfU0VMRUNUOiB7IGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwgaXRlbXM6IHRoaXMuZ2VuRWxlbWVudExpc3QodHJ1ZSwgdHJ1ZSwgdHJ1ZSkgfSwKICAgICAgICAgIEFXQUlUUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IGZhbHNlLAogICAgICAgICAgICBpdGVtczogW2NyZWF0ZU1lbnVJdGVtKCJ3YWl0IiwgIndhaXQiKSwgY3JlYXRlTWVudUl0ZW0oImNvbnRpbnVlIiwgImNvbnRpbnVlIildCiAgICAgICAgICB9LAogICAgICAgICAgVE9HR0xFUjogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IGZhbHNlLAogICAgICAgICAgICBpdGVtczogW2NyZWF0ZU1lbnVJdGVtKCJvbiIsICJvbiIpLCBjcmVhdGVNZW51SXRlbSgib2ZmIiwgIm9mZiIpXQogICAgICAgICAgfSwKICAgICAgICAgIFBPU0lUSU9OOiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogZmFsc2UsCiAgICAgICAgICAgIGl0ZW1zOiBbY3JlYXRlTWVudUl0ZW0oIngiLCAieCIpLCBjcmVhdGVNZW51SXRlbSgieSIsICJ5IildCiAgICAgICAgICB9LAogICAgICAgICAgUE9QVVBfTE9DQVRJT046IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiBmYWxzZSwKICAgICAgICAgICAgaXRlbXM6IFtjcmVhdGVNZW51SXRlbSgid2luZG93IiwgIndpbmRvdyIpLCBjcmVhdGVNZW51SXRlbSgiY2FudmFzIiwgImNhbnZhcyIpXQogICAgICAgICAgfSwKICAgICAgICAgIEFMSUdOTUVOVDogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IGZhbHNlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJsZWZ0IiwgImxlZnQiKSwKICAgICAgICAgICAgICBjcmVhdGVNZW51SXRlbSgicmlnaHQiLCAiZmxleC1lbmQiKSwKICAgICAgICAgICAgICBjcmVhdGVNZW51SXRlbSgiY2VudGVyIiwgImNlbnRlciIpCiAgICAgICAgICAgIF0KICAgICAgICAgIH0sCiAgICAgICAgICBGT1JDRV9LRVk6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJub25lIiwgIm5vbmUiKSwKICAgICAgICAgICAgICBjcmVhdGVNZW51SXRlbSgiZW50ZXIiLCAiZW50ZXIiKSwKICAgICAgICAgICAgICBjcmVhdGVNZW51SXRlbSgic2hpZnQgJiBlbnRlciIsICJzaGlmdEVudGVyIikKICAgICAgICAgICAgXQogICAgICAgICAgfSwKICAgICAgICAgIEVYVFJBX09QVFM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJmb2N1cyBtb2RlIiwgImZvY3VzIiksCiAgICAgICAgICAgICAgY3JlYXRlTWVudUl0ZW0oImF1dG8gY2xvc2UiLCAiYXV0b0Nsb3NlIikKICAgICAgICAgICAgXQogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9OwogICAgfQoKICAgIC8vIEhlbHBlciBGdW5jcwogICAgZ2V0Rm9udHMoKSB7CiAgICAgIGNvbnN0IGN1c3RGb250cyA9IHJ1bnRpbWUuZm9udE1hbmFnZXIgPyBydW50aW1lLmZvbnRNYW5hZ2VyLmdldEZvbnRzKCkubWFwKChpKSA9PiAoeyB0ZXh0OiBpLm5hbWUsIHZhbHVlOiBpLmZhbWlseSB9KSkgOiBbXTsKICAgICAgcmV0dXJuIFsgLi4uZGVmYXVsdEZvbnRzLCAuLi5jdXN0Rm9udHMgXTsKICAgIH0KCiAgICBnZW5FbGVtZW50TGlzdChhZGRQb3B1cCwgYWRkUm93LCBhZGRCdXR0b24pIHsKICAgICAgY29uc3QgbGlzdCA9IFtdOwogICAgICBpZiAoYWRkUG9wdXApIGxpc3QucHVzaChjcmVhdGVNZW51SXRlbSgicG9wdXAiLCAicG9wdXAiKSk7CiAgICAgIGxpc3QucHVzaChjcmVhdGVNZW51SXRlbSgibGFiZWwiLCAibGFiZWwiKSwgY3JlYXRlTWVudUl0ZW0oImlucHV0IiwgImlucHV0IikpOwogICAgICBpZiAoYWRkUm93KSBsaXN0LnB1c2goY3JlYXRlTWVudUl0ZW0oImJ1dHRvbiByb3ciLCAiYnV0dG9uUm93IikpOwogICAgICBpZiAoYWRkQnV0dG9uKSBsaXN0LnB1c2goY3JlYXRlTWVudUl0ZW0oImJ1dHRvbiIsICJidXR0b24iKSk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIGdlblN0eWxlTGlzdCgpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICBjcmVhdGVNZW51SXRlbSgiYmFja2dyb3VuZCBjb2xvciIsICJiYWNrZ3JvdW5kIiksCiAgICAgICAgY3JlYXRlTWVudUl0ZW0oInRleHQgY29sb3IiLCAiY29sb3IiKSwKICAgICAgICBjcmVhdGVNZW51SXRlbSgiYWNjZW50IGNvbG9yIiwgImFjY2VudC1jb2xvciIpLAogICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJtYXJnaW5zIiwgIm1hcmdpbiIpLAogICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJwYWRkaW5nIiwgInBhZGRpbmciKSwKICAgICAgICBjcmVhdGVNZW51SXRlbSgid2lkdGgiLCAid2lkdGgiKSwKICAgICAgICBjcmVhdGVNZW51SXRlbSgiaGVpZ2h0IiwgImhlaWdodCIpLAogICAgICAgIGNyZWF0ZU1lbnVJdGVtKCJib3JkZXIgcmFkaXVzIiwgImJvcmRlci1yYWRpdXMiKQogICAgICBdOwogICAgfQoKICAgIGdldEVsZW1lbnRQYXRoKHBhdGgsIHVzZUJ0biwgdXNlUG9wdXApIHsKICAgICAgY29uc3QgdmFsaWRQYXRocyA9IFsibGFiZWwiLCAiaW5wdXQiLCB1c2VCdG4gPyAiYnV0dG9uIiA6ICJidXR0b25Sb3ciXTsKICAgICAgaWYgKHVzZVBvcHVwKSB2YWxpZFBhdGhzLnB1c2goInBvcHVwIik7CiAgICAgIHJldHVybiB2YWxpZFBhdGhzLmluY2x1ZGVzKHBhdGgpID8gcGF0aCA6ICJsYWJlbCI7CiAgICB9CgogICAgb3BlblBvcHVwSGFuZGxlcihhcmdzLCB1dGlsLCByZXBvcnRSZXNwb25zZSkgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGxldCBwb3B1cCA9IGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tpZF07CiAgICAgIGlmICghdXRpbC5zdGFja0ZyYW1lLmF3YWl0aW5nSW5wdXQpIHsKICAgICAgICBpZiAocG9wdXAgPT09IHVuZGVmaW5lZCkgcG9wdXAgPSBnZW5EZWZhdWx0Qm94KGlkLCBmYWxzZSk7CiAgICAgICAgaWYgKHBvcHVwLkRPTWVsZW1lbnQpIGNsb3NlQm94KGlkLCB0cnVlKTsKICAgICAgICBjb21waWxlQm94KGlkKTsKICAgICAgICB1dGlsLnN0YWNrRnJhbWUuYXdhaXRpbmdJbnB1dCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICgocmVwb3J0UmVzcG9uc2UgPyB0cnVlIDogYXJncy5UWVBFID09PSAid2FpdCIpICYmIHBvcHVwPy53YWl0aW5nKSB1dGlsLnlpZWxkKCk7CiAgICAgIGlmIChyZXBvcnRSZXNwb25zZSkgcmV0dXJuIHR5cGVvZiBwb3B1cC52YWx1ZSA9PT0gIm9iamVjdCIgPyAKICAgICAgICBKU09OLnN0cmluZ2lmeShwb3B1cC52YWx1ZSkgOiBwb3B1cC52YWx1ZSB8fCAiIjsKICAgIH0KCiAgICAvLyBCbG9jayBGdW5jcwogICAgLyogbWFpbiAqLwogICAgc2hvd1BvcHVwKGFyZ3MsIHV0aWwpIHsKICAgICAgdGhpcy5vcGVuUG9wdXBIYW5kbGVyKGFyZ3MsIHV0aWwsIGZhbHNlKTsKICAgIH0KCiAgICBzaG93UG9wdXBSZXBvcnQoYXJncywgdXRpbCkgewogICAgICByZXR1cm4gdGhpcy5vcGVuUG9wdXBIYW5kbGVyKGFyZ3MsIHV0aWwsIHRydWUpOwogICAgfQoKICAgIHVzZXJJbnB1dChhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3QgcG9wdXAgPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgICBpZiAocG9wdXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuICIiOwogICAgICByZXR1cm4gdHlwZW9mIHBvcHVwLnZhbHVlID09PSAib2JqZWN0IiA/IEpTT04uc3RyaW5naWZ5KHBvcHVwLnZhbHVlKSA6IHBvcHVwLnZhbHVlIHx8ICIiOwogICAgfQoKICAgIHJlbW92ZVBvcHVwKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCBwb3B1cCA9IGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tpZF07CiAgICAgIGlmIChwb3B1cCAhPT0gdW5kZWZpbmVkICYmIHBvcHVwLkRPTWVsZW1lbnQpIGNsb3NlQm94KGlkLCB0cnVlKTsKICAgIH0KCiAgICByZW1vdmVBbGxQb3B1cHMoKSB7CiAgICAgIGNvbnN0IGFsbFBvcHVwcyA9IE9iamVjdC5lbnRyaWVzKGVsZW1lbnRTdG9yYWdlLnBvcHVwcyk7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUG9wdXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgZW50cnkgPSBhbGxQb3B1cHNbaV07CiAgICAgICAgaWYgKGVudHJ5WzFdLkRPTWVsZW1lbnQpIGNsb3NlQm94KGVudHJ5WzBdLCB0cnVlKTsKICAgICAgfQogICAgfQoKICAgIC8qIHBvcHVwcyAqLwogICAgY3JlYXRlUG9wdXAoYXJncykgewogICAgICB0aGlzLnJlbW92ZVBvcHVwKGFyZ3MpOwogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGdlbkRlZmF1bHRCb3goaWQsIHRydWUpOwogICAgfQoKICAgIGRlbGV0ZVBvcHVwKGFyZ3MpIHsKICAgICAgdGhpcy5yZW1vdmVQb3B1cChhcmdzKTsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBkZWxldGUgc3R5bGVTdG9yYWdlLnBvcHVwc1tpZF07CiAgICAgIGRlbGV0ZSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgfQoKICAgIGFwcGVuZDJQb3B1cChhcmdzKSB7CiAgICAgIGNvbnN0IHBvcHVwID0gZWxlbWVudFN0b3JhZ2UucG9wdXBzW0Nhc3QudG9TdHJpbmcoYXJncy5QT1BfSUQpXTsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0RWxlbWVudFBhdGgoQ2FzdC50b1N0cmluZyhhcmdzLlRZUEUpKTsKICAgICAgY29uc3QgZWxlbWVudElEID0gQ2FzdC50b1N0cmluZyhhcmdzLkVMRU1FTlRfSUQpOwogICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudFN0b3JhZ2VbcGF0aCArICJzIl1bZWxlbWVudElEXTsKICAgICAgaWYgKHBvcHVwID09PSB1bmRlZmluZWQgfHwgZWxlbWVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgICBjb25zdCBlbGVtZW50SW5kZXggPSBwb3B1cC5lbGVtZW50cy5maW5kSW5kZXgoKGkpID0+IHsKICAgICAgICByZXR1cm4gaS50eXBlID09PSBwYXRoICYmIGkuZGF0YS5pZCA9PT0gZWxlbWVudElECiAgICAgIH0pOwogICAgICBpZiAoZWxlbWVudEluZGV4ID09PSAtMSkgcG9wdXAuZWxlbWVudHMucHVzaChlbGVtZW50KTsKICAgIH0KCiAgICByZW1vdmVGcm9tUG9wdXAoYXJncykgewogICAgICBjb25zdCBwb3B1cCA9IGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tDYXN0LnRvU3RyaW5nKGFyZ3MuUE9QX0lEKV07CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldEVsZW1lbnRQYXRoKENhc3QudG9TdHJpbmcoYXJncy5UWVBFKSk7CiAgICAgIGNvbnN0IGVsZW1lbnRJRCA9IENhc3QudG9TdHJpbmcoYXJncy5FTEVNRU5UX0lEKTsKICAgICAgaWYgKHBvcHVwID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICAgIGNvbnN0IGVsZW1lbnRJbmRleCA9IHBvcHVwLmVsZW1lbnRzLmZpbmRJbmRleCgoaSkgPT4gewogICAgICAgIHJldHVybiBpLnR5cGUgPT09IHBhdGggJiYgaS5kYXRhLmlkID09PSBlbGVtZW50SUQKICAgICAgfSk7CiAgICAgIGlmIChlbGVtZW50SW5kZXggPiAtMSkgcG9wdXAuZWxlbWVudHMuc3BsaWNlKGVsZW1lbnRJbmRleCwgMSk7CiAgICB9CgogICAgcmVtb3ZlUG9wdXBDb250ZW50KGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCBwb3B1cCA9IGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tpZF07CiAgICAgIGlmIChwb3B1cCAhPT0gdW5kZWZpbmVkKSBwb3B1cC5lbGVtZW50cyA9IFtdOwogICAgfQoKICAgIHNldFBvcHVwUG9zKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZVN0b3JhZ2UucG9wdXBzW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCAicG9wdXAiKTsKICAgICAgc3R5bGVzLmxlZnQgPSBgY2FsYyg1MCUgKyAke0Nhc3QudG9OdW1iZXIoYXJncy5YKX1weClgOwogICAgICBzdHlsZXMudG9wID0gYGNhbGMoNTAlICsgJHtDYXN0LnRvTnVtYmVyKGFyZ3MuWSkgKiAtMX1weClgOwogICAgICB1cGRhdGVCb3hWaXN1YWxzKGlkLCAicG9wdXBzIik7CiAgICB9CgogICAgZ2V0UG9zKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZVN0b3JhZ2UucG9wdXBzW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCAicG9wdXAiKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gIngiKSByZXR1cm4gcGFyc2VGbG9hdChzdHlsZXMubGVmdC5yZXBsYWNlKCJjYWxjKDUwJSArICIsICIiKSk7CiAgICAgIGVsc2UgcmV0dXJuIHBhcnNlRmxvYXQoc3R5bGVzLnRvcC5yZXBsYWNlKCJjYWxjKDUwJSArICIsICIiKSkgKiAtMTsKICAgIH0KCiAgICAvKiBsYWJlbHMgKi8KICAgIGNyZWF0ZVBvcExhYmVsKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCB0ZXh0ID0gQ2FzdC50b1N0cmluZyhhcmdzLlRFWFQpOwogICAgICBlbGVtZW50U3RvcmFnZS5sYWJlbHNbaWRdID0gY3JlYXRlTGFiZWwoaWQsIHRleHQpOwogICAgfQoKICAgIGRlbGV0ZVBvcExhYmVsKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBkZWxldGUgc3R5bGVTdG9yYWdlLmxhYmVsc1tpZF07CiAgICAgIGRlbGV0ZSBlbGVtZW50U3RvcmFnZS5sYWJlbHNbaWRdOwogICAgfQoKICAgIC8qIGlucHV0cyAqLwogICAgY3JlYXRlUG9wSW5wdXQoYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGxldCB0eXBlID0gQ2FzdC50b1N0cmluZyhhcmdzLlRZUEUpOwoKICAgICAgY29uc3QgaXNWYWxpZElucHV0ID0gdmFsaWRJbnB1dHMuZmluZEluZGV4KChpKSA9PiB7IHJldHVybiBpLnZhbHVlID09PSB0eXBlIH0pOwogICAgICBpZiAoaXNWYWxpZElucHV0ID09PSAtMSkgdHlwZSA9ICJ0ZXh0IjsKICAgICAgZWxlbWVudFN0b3JhZ2UuaW5wdXRzW2lkXSA9IGNyZWF0ZUlucHV0KGlkLCB0eXBlLCB7fSk7CiAgICB9CgogICAgZGVsZXRlUG9wSW5wdXQoYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGRlbGV0ZSBzdHlsZVN0b3JhZ2UuaW5wdXRzW2lkXTsKICAgICAgZGVsZXRlIGVsZW1lbnRTdG9yYWdlLmlucHV0c1tpZF07CiAgICB9CgogICAgc2V0RGVmYXVsdFZhbHVlKGFyZ3MpIHsKICAgICAgY29uc3QgaW5wdXQgPSBlbGVtZW50U3RvcmFnZS5pbnB1dHNbQ2FzdC50b1N0cmluZyhhcmdzLklEKV07CiAgICAgIGlmIChpbnB1dCkgaW5wdXQuZGF0YS5vcHRpb25zLmRlZmF1bHRWYWx1ZSA9IENhc3QudG9TdHJpbmcoYXJncy5WQUxVRSk7CiAgICB9CgogICAgc2V0U2xpZGVyUGFyYW1zKGFyZ3MpIHsKICAgICAgY29uc3QgaW5wdXQgPSBlbGVtZW50U3RvcmFnZS5pbnB1dHNbQ2FzdC50b1N0cmluZyhhcmdzLklEKV07CiAgICAgIGlmIChpbnB1dCkgewogICAgICAgIGlucHV0LmRhdGEub3B0aW9ucy5taW5WID0gQ2FzdC50b051bWJlcihhcmdzLk1JTik7CiAgICAgICAgaW5wdXQuZGF0YS5vcHRpb25zLm1heFYgPSBDYXN0LnRvTnVtYmVyKGFyZ3MuTUFYKTsKICAgICAgfQogICAgfQoKICAgIHNldERyb3BPcHRpb25zKGFyZ3MpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBhcnJheSA9IEpTT04ucGFyc2UoYXJncy5BUlJBWSk7CiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgYXJyYXkucHVzaCgibm8gb3B0aW9ucyBjcmVhdGVkIik7CiAgICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICAgIGNvbnN0IGlucHV0ID0gZWxlbWVudFN0b3JhZ2UuaW5wdXRzW2lkXTsKICAgICAgICBpZiAoaW5wdXQpIGlucHV0LmRhdGEub3B0aW9ucy5zZWxlY3RvcnMgPSBhcnJheTsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgY29uc29sZS53YXJuKCJGYWlsZWQgdG8gc2V0IERyb3Bkb3duIE9wdGlvbnMsIGludmFsaWQgQXJyYXkhIik7CiAgICAgIH0KICAgIH0KCiAgICBpc0Ryb3BPcGVuKGFyZ3MpIHsKICAgICAgY29uc3QgcG9wdXAgPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbQ2FzdC50b1N0cmluZyhhcmdzLlBPUF9JRCldOwogICAgICBjb25zdCBkcm9wSUQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuRFJPUF9JRCk7CiAgICAgIGlmIChwb3B1cCA9PT0gdW5kZWZpbmVkIHx8ICFwb3B1cC53YWl0aW5nKSByZXR1cm4gZmFsc2U7CiAgICAgIGNvbnN0IGRyb3Bkb3duID0gcG9wdXAuZWxlbWVudHMuZmluZCgoZSkgPT4gewogICAgICAgIHJldHVybiBlLnR5cGUgPT09ICJpbnB1dCIgJiYgZS5kYXRhLmlkID09PSBkcm9wSUQKICAgICAgfSk7CiAgICAgIGlmIChkcm9wZG93bikgcmV0dXJuIGRyb3Bkb3duLmRhdGEub3B0aW9ucy5tZW51T3BlbmVkID8/IGZhbHNlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyogYnV0dG9ucyAqLwogICAgY3JlYXRlQnRuUm93KGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBlbGVtZW50U3RvcmFnZS5idXR0b25Sb3dzW2lkXSA9IGNyZWF0ZUJ1dHRvblJvdyhpZCk7CiAgICB9CgogICAgY3JlYXRlUG9wQnRuKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCB0ZXh0ID0gQ2FzdC50b1N0cmluZyhhcmdzLlRFWFQpOwogICAgICBlbGVtZW50U3RvcmFnZS5idXR0b25zW2lkXSA9IGNyZWF0ZUJ1dHRvbihpZCwgdGV4dCk7CiAgICB9CgogICAgZGVsZXRlQnRuUm93KGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBkZWxldGUgZWxlbWVudFN0b3JhZ2UuYnV0dG9uUm93c1tpZF07CiAgICB9CgogICAgZGVsZXRlUG9wQnRuKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBkZWxldGUgc3R5bGVTdG9yYWdlLmJ1dHRvbnNbaWRdOwogICAgICBkZWxldGUgZWxlbWVudFN0b3JhZ2UuYnV0dG9uc1tpZF07CiAgICB9CgogICAgYXBwZW5kMlJvdyhhcmdzKSB7CiAgICAgIGNvbnN0IGJ0biA9IGVsZW1lbnRTdG9yYWdlLmJ1dHRvbnNbQ2FzdC50b1N0cmluZyhhcmdzLkJUTl9JRCldOwogICAgICBjb25zdCByb3cgPSBlbGVtZW50U3RvcmFnZS5idXR0b25Sb3dzW0Nhc3QudG9TdHJpbmcoYXJncy5ST1dfSUQpXTsKICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IGJ0biA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgICBjb25zdCBidG5MaXN0ID0gcm93LmRhdGEuYnV0dG9uczsKICAgICAgY29uc3QgYnRuSW5kZXggPSBidG5MaXN0LmZpbmRJbmRleCgoaSkgPT4geyByZXR1cm4gaS5pZCA9PT0gYnRuLmRhdGEuaWR9KTsKICAgICAgaWYgKGJ0bkluZGV4ID4gLTEpIHJldHVybjsKICAgICAgYnRuTGlzdC5wdXNoKGJ0bi5kYXRhKTsKICAgICAgcm93LkRPTWVsZW1lbnQuYXBwZW5kQ2hpbGQoYnRuLkRPTWVsZW1lbnQpOwogICAgfQoKICAgIHJlbW92ZUZyb21Sb3coYXJncykgewogICAgICBjb25zdCBidG4gPSBlbGVtZW50U3RvcmFnZS5idXR0b25zW0Nhc3QudG9TdHJpbmcoYXJncy5CVE5fSUQpXTsKICAgICAgY29uc3Qgcm93ID0gZWxlbWVudFN0b3JhZ2UuYnV0dG9uUm93c1tDYXN0LnRvU3RyaW5nKGFyZ3MuUk9XX0lEKV07CiAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCB8fCBidG4gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgY29uc3QgYnRuTGlzdCA9IHJvdy5kYXRhLmJ1dHRvbnM7CiAgICAgIGNvbnN0IGJ0bkluZGV4ID0gYnRuTGlzdC5maW5kSW5kZXgoKGkpID0+IHsgcmV0dXJuIGkuaWQgPT09IGJ0bi5kYXRhLmlkfSk7CiAgICAgIGlmIChidG5JbmRleCA9PT0gLTEpIHJldHVybjsKICAgICAgYnRuTGlzdC5zcGxpY2UoYnRuSW5kZXgsIDEpOwogICAgICByb3cuRE9NZWxlbWVudC5jaGlsZHJlbltidG5JbmRleF0ucmVtb3ZlKCk7CiAgICB9CgogICAgcmVtb3ZlUm93Q29udGVudChhcmdzKSB7CiAgICAgIGNvbnN0IHJvdyA9IGVsZW1lbnRTdG9yYWdlLmJ1dHRvblJvd3NbQ2FzdC50b1N0cmluZyhhcmdzLklEKV07CiAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgQXJyYXkuZnJvbShyb3cuRE9NZWxlbWVudC5jaGlsZHJlbikuZm9yRWFjaCgoYnV0dG9uKSA9PiBidXR0b24ucmVtb3ZlKCkpOwogICAgICByb3cuZGF0YS5idXR0b25zID0gW107CiAgICB9CgogICAgLyogb3BlcmF0aW9ucyAqLwogICAgYWxsRWxlbWVudHMoYXJncykgewogICAgICBjb25zdCBuYW1lc3BhY2UgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuVFlQRSkgKyAicyI7CiAgICAgIGNvbnN0IGl0ZW1zID0gZWxlbWVudFN0b3JhZ2VbbmFtZXNwYWNlXTsKICAgICAgaWYgKCFpdGVtcykgcmV0dXJuICJbXSI7CiAgICAgIGVsc2UgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKGl0ZW1zKSk7CiAgICB9CgogICAgcG9wdXBXYWl0aW5nKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBsZXQgcG9wdXAgPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgICBpZiAocG9wdXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gcG9wdXAud2FpdGluZzsKICAgIH0KCiAgICBsYXN0QnV0dG9uUHJlc3MoYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGxldCBwb3B1cCA9IGVsZW1lbnRTdG9yYWdlLnBvcHVwc1tpZF07CiAgICAgIGlmIChwb3B1cCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gIiI7CiAgICAgIHJldHVybiBwb3B1cC5sYXN0QnRuUHJlc3NlZCA/PyAiIjsKICAgIH0KCiAgICBzZXRQb3B1cFRhcmdldChhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgbGV0IHBvcHVwID0gZWxlbWVudFN0b3JhZ2UucG9wdXBzW2lkXTsKICAgICAgaWYgKHBvcHVwID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgcG9wdXAuaXNXaW5kb3dlZCA9IGFyZ3MuVFlQRSA9PT0gIndpbmRvdyI7CiAgICB9CgogICAgdG9nZ2xlT3B0aW9uKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBsZXQgcG9wdXAgPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgICBpZiAocG9wdXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgY29uc3Qgb3B0aW9uID0gQ2FzdC50b1N0cmluZyhhcmdzLk9QVElPTik7CiAgICAgIHBvcHVwWwogICAgICAgIG9wdGlvbiA9PT0gImZvY3VzIiA/ICJmb2N1c2VkIiA6ICJhdXRvQ29udHJvbCIKICAgICAgXSA9IGFyZ3MuVFlQRSA9PT0gIm9uIjsKICAgIH0KCiAgICBzZXRGb3JjZUNsb3NlKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBsZXQgcG9wdXAgPSBlbGVtZW50U3RvcmFnZS5wb3B1cHNbaWRdOwogICAgICBpZiAocG9wdXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgY29uc3Qga2V5ID0gQ2FzdC50b1N0cmluZyhhcmdzLktFWSk7CiAgICAgIHBvcHVwLmZvcmNlS2V5ID0ga2V5ID09PSAibm9uZSIgPyB1bmRlZmluZWQgOiBrZXk7CiAgICB9CgogICAgLyogY3VzdG9taXphdGlvbiAqLwogICAgc2V0UG9wdXBBbGlnbihhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3Qgc3R5bGVzID0gc3R5bGVTdG9yYWdlLnBvcHVwc1tpZF0gPz8gZ2VuRGVmYXVsdFN0eWxlcyhpZCwgInBvcHVwIik7CiAgICAgIHN0eWxlc1siYWxpZ24taXRlbXMiXSA9IGFyZ3MuVFlQRTsKICAgICAgc3R5bGVzWyJqdXN0aWZ5LWNvbnRlbnQiXSA9IGFyZ3MuVFlQRTsKICAgICAgdXBkYXRlQm94VmlzdWFscyhpZCwgInBvcHVwcyIpOwogICAgfQoKICAgIHNldElucHV0QWxpZ24oYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlU3RvcmFnZS5pbnB1dHNbaWRdID8/IGdlbkRlZmF1bHRTdHlsZXMoaWQsICJpbnB1dCIpOwogICAgICBzdHlsZXNbInRleHQtYWxpZ24iXSA9IGFyZ3MuVFlQRSA9PT0gImZsZXgtZW5kIiA/ICJyaWdodCIgOiBhcmdzLlRZUEU7CiAgICAgIHVwZGF0ZUJveFZpc3VhbHMoaWQsICJpbnB1dHMiKTsKICAgIH0KCiAgICBzZXRJbnB1dEZvbnQoYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldEVsZW1lbnRQYXRoKENhc3QudG9TdHJpbmcoYXJncy5FTEVNRU5UKSwgdHJ1ZSkgKyAicyI7CiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlU3RvcmFnZVtwYXRoXVtpZF0gPz8gZ2VuRGVmYXVsdFN0eWxlcyhpZCwgcGF0aCk7CiAgICAgIHN0eWxlc1siZm9udC1mYW1pbHkiXSA9IENhc3QudG9TdHJpbmcoYXJncy5GT05UKTsKICAgICAgdXBkYXRlQm94VmlzdWFscyhpZCwgcGF0aCk7CiAgICB9CgogICAgc2V0SW5wdXRGb250U1ooYXJncykgewogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldEVsZW1lbnRQYXRoKENhc3QudG9TdHJpbmcoYXJncy5FTEVNRU5UKSwgdHJ1ZSkgKyAicyI7CiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlU3RvcmFnZVtwYXRoXVtpZF0gPz8gZ2VuRGVmYXVsdFN0eWxlcyhpZCwgcGF0aCk7CiAgICAgIHN0eWxlc1siZm9udC1zaXplIl0gPSBgJHtDYXN0LnRvTnVtYmVyKGFyZ3MuU0laRSl9cHhgOwogICAgICB1cGRhdGVCb3hWaXN1YWxzKGlkLCBwYXRoKTsKICAgIH0KCiAgICBzZXRFbGVtZW50T3V0bGluZShhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0RWxlbWVudFBhdGgoQ2FzdC50b1N0cmluZyhhcmdzLkVMRU1FTlQpLCB0cnVlKSArICJzIjsKICAgICAgY29uc3Qgc3R5bGVzID0gc3R5bGVTdG9yYWdlW3BhdGhdW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCBwYXRoKTsKICAgICAgc3R5bGVzWyItd2Via2l0LXRleHQtc3Ryb2tlLXdpZHRoIl0gPSBgJHtDYXN0LnRvTnVtYmVyKGFyZ3MuV0VJR0hUKX1weGA7CiAgICAgIHN0eWxlc1siLXdlYmtpdC10ZXh0LXN0cm9rZS1jb2xvciJdID0gYXJncy5DT0xPUjsKICAgICAgdXBkYXRlQm94VmlzdWFscyhpZCwgcGF0aCk7CiAgICB9CgogICAgc2V0RWxlbWVudEF0dChhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3QgcGFyYW0gPSBDYXN0LnRvU3RyaW5nKGFyZ3MuUEFSQU0pOwogICAgICBsZXQgdmFsdWUgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuVkFMVUUpOwogICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRFbGVtZW50UGF0aChDYXN0LnRvU3RyaW5nKGFyZ3MuRUxFTUVOVCksIHRydWUsIHRydWUpICsgInMiOwogICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZVN0b3JhZ2VbcGF0aF1baWRdID8/IGdlbkRlZmF1bHRTdHlsZXMoaWQsIHBhdGgpOwogICAgICBjb25zdCBpc1ZhbGlkU3R5bGUgPSB0aGlzLmdlblN0eWxlTGlzdCgpLmZpbmRJbmRleCgoaSkgPT4geyByZXR1cm4gaS52YWx1ZSA9PT0gcGFyYW0gfSk7CgogICAgICBpZiAoIXBhcmFtLmluY2x1ZGVzKCJjb2xvciIpICYmIHBhcmFtICE9PSAiYmFja2dyb3VuZCIpIHsKICAgICAgICBpZiAocGFyYW0gPT09ICJ3aWR0aCIgfHwgcGFyYW0gPT09ICJoZWlnaHQiKSB7CiAgICAgICAgICAvLyBhbGxvdyB1c2VycyB0byBpbnB1dCB0aGluZ3MgbGlrZSAiYXV0byIgd2hpbGUgc3RpbGwgYWRkaW5nICJweCIgdG8gbnVtYmVycwogICAgICAgICAgdmFsdWUgPSAvXlxkKyQvLnRlc3QodmFsdWUpID8gYCR7dmFsdWV9cHhgIDogdmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGhhbmRsZSBjYXNlcyB3aGVyZSB1c2VycyB0byBpbnB1dCBzcGVjaWZpYyBhdHRyaWJ1dGVzIGxpa2UgIm1hcmdpbi1sZWZ0IgogICAgICAgICAgaWYgKHZhbHVlLmluY2x1ZGVzKCIgIikpIHZhbHVlID0gL15cZCskLy50ZXN0KHZhbHVlLnJlcGxhY2VBbGwoIiAiLCAiIikpID8gdmFsdWUucmVwbGFjZUFsbCgiICIsICJweCAiKSA6IHZhbHVlOwogICAgICAgICAgZWxzZSB2YWx1ZSA9IGAke3ZhbHVlfXB4YDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChpc1ZhbGlkU3R5bGUgPiAtMSkgc3R5bGVzW3BhcmFtXSA9IHZhbHVlOwogICAgICB1cGRhdGVCb3hWaXN1YWxzKGlkLCBwYXRoKTsKICAgIH0KCiAgICBzZXRFbGVtZW50Qm9yZGVyKGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCB3ZWlnaHQgPSBDYXN0LnRvTnVtYmVyKGFyZ3MuV0VJR0hUKTsKICAgICAgY29uc3QgaXNCb3JkZXJWYWxpZCA9IHZhbGlkQm9yZGVycy5maW5kSW5kZXgoKGkpID0+IHsgcmV0dXJuIGkudmFsdWUgPT09IGFyZ3MuVFlQRSB9KTsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0RWxlbWVudFBhdGgoQ2FzdC50b1N0cmluZyhhcmdzLkVMRU1FTlQpLCB0cnVlLCB0cnVlKSArICJzIjsKICAgICAgY29uc3Qgc3R5bGVzID0gc3R5bGVTdG9yYWdlW3BhdGhdW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCBwYXRoKTsKICAgICAgc3R5bGVzW3BhdGggPT09ICJsYWJlbHMiID8gImJvcmRlci1ib3R0b20iIDogImJvcmRlciJdID0gCiAgICAgICAgYCR7aXNCb3JkZXJWYWxpZCA+IC0xID8gYXJncy5UWVBFIDogIm5vbmUifSAke2FyZ3MuQ09MT1J9ICR7d2VpZ2h0fXB4YDsKICAgICAgdXBkYXRlQm94VmlzdWFscyhpZCwgcGF0aCk7CiAgICB9CgogICAgc2V0RWxlbWVudFNoYWRvdyhhcmdzKSB7CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3QgcG9zID0gW0Nhc3QudG9OdW1iZXIoYXJncy5YKSwgQ2FzdC50b051bWJlcihhcmdzLlkpXTsKICAgICAgY29uc3Qgd2VpZ2h0ID0gW0Nhc3QudG9OdW1iZXIoYXJncy5BTVQpLCBDYXN0LnRvTnVtYmVyKGFyZ3MuQkxVUildOwogICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRFbGVtZW50UGF0aChDYXN0LnRvU3RyaW5nKGFyZ3MuRUxFTUVOVCksIHRydWUsIHRydWUpICsgInMiOwogICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZVN0b3JhZ2VbcGF0aF1baWRdID8/IGdlbkRlZmF1bHRTdHlsZXMoaWQsIHBhdGgpOwogICAgICBpZiAocGF0aCA9PT0gImxhYmVscyIpIHN0eWxlc1sidGV4dC1zaGFkb3ciXSA9IGAke2FyZ3MuQ09MT1J9ICR7cG9zWzBdfXB4ICR7cG9zWzFdfXB4ICR7d2VpZ2h0WzBdfXB4YDsKICAgICAgZWxzZSBzdHlsZXNbImJveC1zaGFkb3ciXSA9IGAke2FyZ3MuQ09MT1J9ICR7cG9zWzBdfXB4ICR7cG9zWzFdfXB4ICR7d2VpZ2h0WzBdfXB4ICR7d2VpZ2h0WzFdfXB4YDsKICAgICAgdXBkYXRlQm94VmlzdWFscyhpZCwgcGF0aCk7CiAgICB9CgogICAgcmVzZXRFbGVtZW50RWZmZWN0KGFyZ3MpIHsKICAgICAgY29uc3QgaWQgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuSUQpOwogICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRFbGVtZW50UGF0aChDYXN0LnRvU3RyaW5nKGFyZ3MuRUxFTUVOVCksIHRydWUsIHRydWUpICsgInMiOwogICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZVN0b3JhZ2VbcGF0aF1baWRdID8/IGdlbkRlZmF1bHRTdHlsZXMoaWQsIHBhdGgpOwogICAgICBpZiAocGF0aCA9PT0gInBvcHVwcyIpIHN0eWxlc1sidHJhbnNmb3JtIl0gPSAidHJhbnNsYXRlKC01MCUsIC01MCUpIjsKICAgICAgc3R5bGVzWyJmaWx0ZXIiXSA9ICIiOwogICAgICB1cGRhdGVCb3hWaXN1YWxzKGlkLCBwYXRoKTsKICAgIH0KCiAgICBzZXRFbGVtZW50RWZmZWN0KGFyZ3MpIHsKICAgICAgY29uc3QgZWZmZWN0ID0gQ2FzdC50b1N0cmluZyhhcmdzLkVGRkVDVCk7CiAgICAgIGNvbnN0IGVmZmVjdEluZGV4ID0gdmFsaWRFZmZlY3RzLmZpbmRJbmRleCgoaSkgPT4geyByZXR1cm4gaS52YWx1ZSA9PT0gZWZmZWN0IH0pOwogICAgICBpZiAoZWZmZWN0SW5kZXggPT09IC0xKSByZXR1cm47CiAgICAgIGNvbnN0IGlkID0gQ2FzdC50b1N0cmluZyhhcmdzLklEKTsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0RWxlbWVudFBhdGgoQ2FzdC50b1N0cmluZyhhcmdzLkVMRU1FTlQpLCB0cnVlLCB0cnVlKSArICJzIjsKICAgICAgY29uc3Qgc3R5bGVzID0gc3R5bGVTdG9yYWdlW3BhdGhdW2lkXSA/PyBnZW5EZWZhdWx0U3R5bGVzKGlkLCBwYXRoKTsKCiAgICAgIGxldCB2YWx1ZSA9IENhc3QudG9OdW1iZXIoYXJncy5WQUxVRSk7CiAgICAgIGNvbnN0IGNzc1RhcmdldCA9IGVmZmVjdEluZGV4ID4gNyA/ICJ0cmFuc2Zvcm0iIDogImZpbHRlciI7CiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgJHtlZmZlY3R9XFwoKFteKV0qKVxcKWApOwogICAgICBzdHlsZXNbIlNQc3RvcmFnZSJdW2VmZmVjdF0gPSB2YWx1ZTsKCiAgICAgIHN3aXRjaCAoZWZmZWN0KSB7CiAgICAgICAgY2FzZSAiYmx1ciI6CiAgICAgICAgICB2YWx1ZSArPSAicHgiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiYnJpZ2h0bmVzcyI6CiAgICAgICAgICB2YWx1ZSA9IGAkezEwMCAtICh2YWx1ZSAqIC0xKX0lYDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm9wYWNpdHkiOgogICAgICAgICAgdmFsdWUgPSAxIC0gKHZhbHVlIC8gMTAwKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInNhdHVyYXRlIjoKICAgICAgICBjYXNlICJzZXBpYSI6CiAgICAgICAgY2FzZSAiaW52ZXJ0IjoKICAgICAgICAgIHZhbHVlICs9ICIlIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImh1ZS1yb3RhdGUiOgogICAgICAgICAgdmFsdWUgKz0gImRlZyI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJjb250cmFzdCI6CiAgICAgICAgICB2YWx1ZSA9IGAkezEwMCArIHZhbHVlfSVgOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicm90YXRlIjoKICAgICAgICAgIHZhbHVlID0gYCR7dmFsdWUgLSA5MH1kZWdgOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAic2NhbGVYIjoKICAgICAgICBjYXNlICJzY2FsZVkiOgogICAgICAgICAgdmFsdWUgLz0gMTAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAic2tld1giOgogICAgICAgIGNhc2UgInNrZXdZIjoKICAgICAgICAgIHZhbHVlICs9ICJkZWciOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGNvbnN0IG5ld0NTUyA9IHN0eWxlc1tjc3NUYXJnZXRdLnJlcGxhY2UocmVnZXgsICIiKTsKICAgICAgc3R5bGVzW2Nzc1RhcmdldF0gPSBuZXdDU1MgKyBgJHtlZmZlY3R9KCR7dmFsdWV9KWA7CiAgICAgIHVwZGF0ZUJveFZpc3VhbHMoaWQsIHBhdGgpOwogICAgfQoKICAgIGdldEVsZW1lbnRFZmZlY3QoYXJncykgewogICAgICBjb25zdCBlZmZlY3QgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuRUZGRUNUKTsKICAgICAgY29uc3QgaXNWYWxpZEVmZmVjdCA9IHZhbGlkRWZmZWN0cy5maW5kSW5kZXgoKGkpID0+IHsgcmV0dXJuIGkudmFsdWUgPT09IGVmZmVjdCB9KTsKICAgICAgaWYgKGlzVmFsaWRFZmZlY3QgPT09IC0xKSByZXR1cm4gIiI7CgogICAgICBjb25zdCBpZCA9IENhc3QudG9TdHJpbmcoYXJncy5JRCk7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldEVsZW1lbnRQYXRoKENhc3QudG9TdHJpbmcoYXJncy5FTEVNRU5UKSwgdHJ1ZSwgdHJ1ZSkgKyAicyI7CiAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlU3RvcmFnZVtwYXRoXVtpZF0gPz8gZ2VuRGVmYXVsdFN0eWxlcyhpZCwgcGF0aCk7CiAgICAgIHJldHVybiBzdHlsZXNbIlNQc3RvcmFnZSJdW2VmZmVjdF0gPz8gIiI7CiAgICB9CiAgfQoKICBTY3JhdGNoLmV4dGVuc2lvbnMucmVnaXN0ZXIobmV3IFNQcG9wdXBzKCkpOwp9KShTY3JhdGNoKTsK","text":"https://extensions.turbowarp.org/lab/text.js","lmsLooksPlus":"https://extensions.turbowarp.org/Lily/LooksPlus.js","SPspriteParent":"data:text/javascript;base64,Ly8gTmFtZTogU3ByaXRlIFBhcmVudGluZwovLyBJRDogU1BzcHJpdGVQYXJlbnQKLy8gRGVzY3JpcHRpb246IExpbmsgc3ByaXRlcyB0b2dldGhlciBhbmQgbWFrZSB0aGVtIGZvbGxvdyB0aGUgcGFyZW50LgovLyBCeTogU2hhcmtQb29sCgovLyBWZXJzaW9uIDIuMC4wMQoKKGZ1bmN0aW9uIChTY3JhdGNoKSB7CiAgInVzZSBzdHJpY3QiOwogIGlmICghU2NyYXRjaC5leHRlbnNpb25zLnVuc2FuZGJveGVkKSB0aHJvdyBuZXcgRXJyb3IoIlNwcml0ZSBQYXJlbnRpbmcgbXVzdCBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwoKICBjb25zdCBtZW51SWNvblVSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhkcFpIUm9QU0k1TlM0MUlpQm9aV2xuYUhROUlqazFMalVpSUhacFpYZENiM2c5SWpBc01DdzVOUzQxTERrMUxqVWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHhPVEl1TWpVc0xURXpNaTR5TlNraVBqeG5JR1JoZEdFdGNHRndaWEl0WkdGMFlUMGlleVp4ZFc5ME8ybHpVR0ZwYm5ScGJtZE1ZWGxsY2laeGRXOTBPenAwY25WbGZTSWdjM1J5YjJ0bExXUmhjMmhoY25KaGVUMGlJaUJ6ZEhKdmEyVXRaR0Z6YUc5bVpuTmxkRDBpTUNJZ2MzUjViR1U5SW0xcGVDMWliR1Z1WkMxdGIyUmxPaUJ1YjNKdFlXd2lQanh3WVhSb0lHUTlJazB4T1RJdU1qVXNNVGd3WXpBc0xUSTJMak0zTVRZZ01qRXVNemM0TkN3dE5EY3VOelVnTkRjdU56VXNMVFEzTGpjMVl6STJMak0zTVRZc01DQTBOeTQzTlN3eU1TNHpOemcwSURRM0xqYzFMRFEzTGpjMVl6QXNNall1TXpjeE5pQXRNakV1TXpjNE5DdzBOeTQzTlNBdE5EY3VOelVzTkRjdU56VmpMVEkyTGpNM01UWXNNQ0F0TkRjdU56VXNMVEl4TGpNM09EUWdMVFEzTGpjMUxDMDBOeTQzTlhvaUlHWnBiR3c5SWlNMFlqSXhZMk1pSUdacGJHd3RjblZzWlQwaWJtOXVlbVZ5YnlJZ2MzUnliMnRsUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqQWlJSE4wY205clpTMXNhVzVsWTJGd1BTSmlkWFIwSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW0xcGRHVnlJaUJ6ZEhKdmEyVXRiV2wwWlhKc2FXMXBkRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5Nakl5TGpRM016ZzNMREUxTlM0ME16VTVObU13TGpBeE9ESTJMREF1TURBd01ERWdNQzR3TXpZME9Td3dMakF3TURNeElEQXVNRFUwTnpNc01DNHdNREE1WXpBdU5qZzNNVGNzTUM0d01qVTVNU0F4TGpJNU5EYzBMREF1TkRVek9EVWdNUzQxTlRBMk15d3hMakE1TWpFM2JEQXVOell4T0RZc01TNDRPVGN4TjJNd0xqWTNNems0TEMwd0xqRTJNelEwSURFdU16WTFNRE1zTFRBdU1qUTFPVGtnTWk0d05UZzFOQ3d0TUM0eU5EVTVZelF1T0RJeE5qUXNNQzR3TURBd05DQTRMamN6TURNMUxETXVPVEE1TURZZ09DNDNNekF6T0N3NExqY3pNVEZqTUM0d01EQXdNaXd4TGpVeE1qZ3hJQzB3TGpNNU15d3lMams1T1RZM0lDMHhMakUwTURVMExEUXVNekUwT0RWak15NDNPVGsxTWl3eExqQXpOVEVnTmk0ME16VTRNeXcwTGpRNE5UZzVJRFl1TkRNMU9EUXNPQzQwTWpReE9HTXRNQzR3TURBd01pd3hMall4TnprMUlDMHdMalEwT1RVMkxETXVNakEwTURjZ0xURXVNams0TkRnc05DNDFPREV6T0dNekxqVTVNVGM1TERFdU1UY3lNVE1nTmk0d01qSXhNaXcwTGpVeU1UZzFJRFl1TURJeU1UWXNPQzR6TURBek5HTXRNQzR3TURBeU15d3pMakF5TVRrMklDMHhMalUyTWprM0xEVXVPREk0T1RVZ0xUUXVNVE14TkRNc055NDBNakE0Tm13ekxqZzROek0xTERrdU5qYzROemxqTUM0ek5Ua3hNeXd3TGpnNU1qWTFJQzB3TGpBM016WTJMREV1T1RBM05DQXRNQzQ1TmpZME5Td3lMakkyTmpBeFl5MHdMamc1TWpVM0xEQXVNelU1TVRZZ0xURXVPVEEzTWpRc0xUQXVNRGN6TmpZZ0xUSXVNalkxT0RNc0xUQXVPVFkyTlROc0xUTXVPVEkwTVRRc0xUa3VOemN3TXpOakxUQXVORFF3TURRc01DNHdOamM1TmlBdE1DNDRPRFEyTXl3d0xqRXdNakUzSUMweExqTXlPVGc0TERBdU1UQXlNMk10TkM0NE1qRTJOQ3d0TUM0d01EQXdOQ0F0T0M0M016QXpOQ3d0TXk0NU1Ea3dOaUF0T0M0M016QXpPQ3d0T0M0M016RXhZeTB3TGpBd01ERTFMQzB4TGpZeE9ESTFJREF1TkRRNU5Dd3RNeTR5TURRM01TQXhMakk1T0RRM0xDMDBMalU0TWpJNFl5MHpMalU1TVRRNExDMHhMakUzTWpBeklDMDJMakF5TVRjekxDMDBMalV5TVRJNElDMDJMakF5TWpFMkxDMDRMakk1T1RRMFl6QXVNREF3TXpnc0xURXVOVEV6TWpjZ01DNHpPVFF3TWl3dE15NHdNREEwTnlBeExqRTBNak0wTEMwMExqTXhOVGMwWXkwekxqYzVPVGt4TEMweExqQXpORE16SUMwMkxqUXpOeXd0TkM0ME9EUTRNaUF0Tmk0ME16YzJOQ3d0T0M0ME1qTXlPV013TGpBd01ERTBMQzB5TGpjMU56WTJJREV1TXpBeU9UUXNMVFV1TXpVek1UY2dNeTQxTVRRd05Td3ROeTR3TURBNE5td3RNQzQ0TXpZek5Dd3RNaTR3T0RJNU5HTXRNQzR6TlRnMU5Dd3RNQzQ0T1RJek9TQXdMakEzTkRFMUxDMHhMamt3TmpVZ01DNDVOalkwTlN3dE1pNHlOalV4TW1Nd0xqSXdPVGcwTEMwd0xqQTRORGNnTUM0ME16UXhOeXd0TUM0eE1qYzJPQ0F3TGpZMk1EUTFMQzB3TGpFeU5qVTBlaUlnWkdGMFlTMXdZWEJsY2kxa1lYUmhQU0o3Sm5GMWIzUTdhVzVrWlhnbWNYVnZkRHM2Ym5Wc2JIMGlJR1pwYkd3OUlpTm1abVptWm1ZaUlHWnBiR3d0Y25Wc1pUMGlaWFpsYm05a1pDSWdjM1J5YjJ0bFBTSnViMjVsSWlCemRISnZhMlV0ZDJsa2RHZzlJakl1TVRFMk5qY2lJSE4wY205clpTMXNhVzVsWTJGd1BTSnliM1Z1WkNJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKeWIzVnVaQ0lnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpRaUx6NDhjR0YwYUNCa1BTSk5Nalk0TGpjME9ETXNNVFV3TGpjMU9UYzRZekF1TVRjME5EWXNMVEF1TURJME5qWWdNQzR6TlRJd05Dd3RNQzR3TVRVd055QXdMalV5TWpnekxEQXVNREk0TWpKak1DNDNNall3T1N3d0xqRTRNamt4SURFdU1UWTJORGtzTUM0NU1UazRNU0F3TGprNE16WTJMREV1TmpRMU9UZHNMVEF1TkRJMk16TXNNUzQyT1RRNE4yTXhMamczT1RBekxERXVNRE00T0RJZ015NHhOVFk1TVN3eUxqa3dORE0wSURNdU5EUTJPRElzTlM0d016RTRObU13TGpReE16UXhMRE11TURNNE5Ua2dMVEV1TWpVNE5Ea3NOUzQ1TnpjM09DQXROQzR3T0RFME1TdzNMakUzTlRGak1DNDNNVFUxTlN3d0xqa3pOakE1SURFdU1UYzFOVFVzTWk0d05ESXdPU0F4TGpNek5EZzNMRE11TWpBNU5UUmpNQzR6T1RZM01pd3lMamt4TkRrZ0xURXVNVEkyTWpNc05TNDNOVFF5TXlBdE15NDNOek00T0N3M0xqQXpOVGc1WXpBdU56azVPRE1zTUM0NU56TTFOeUF4TGpNeE16TTRMREl1TVRVd01qY2dNUzQwT0RNek15d3pMak01T0RjM1l6QXVOVEEyTnpNc015NDNNakF5SUMweUxqQTVPREF6TERjdU1UUTJOemtnTFRVdU9ERTNPVElzTnk0Mk5UTTFOR010TUM0ek5ETTFNaXd3TGpBME5qWTVJQzB3TGpZNU1ERXhMREF1TURZM01EUWdMVEV1TURNMk56VXNNQzR3TmpBNE5Xd3RNaTR3TURBMk9DdzNMamsxTURJeFl5MHdMakU0TWpneExEQXVOekkyTlRRZ0xUQXVPVEl3TVRRc01TNHhOamN3T1NBdE1TNDJORFkxTVN3d0xqazRNemM1WXkwd0xqY3lOalEzTEMwd0xqRTRNamcwSUMweExqRTJOekF5TEMwd0xqa3lNREkxSUMwd0xqazRNemMxTEMweExqWTBOalkyYkRFdU9UZ3hPVElzTFRjdU9EYzFOekZqTFRJdU1UUTRPRGNzTFRBdU9UVTRNak1nTFRNdU5qUTVOVEVzTFRJdU9UVTVOVGdnTFRNdU9UWTNNamNzTFRVdU1qa3hZeTB3TGpNNU56QTFMQzB5TGpreE5URWdNUzR4TWpVNUxDMDFMamMxTkRneUlETXVOemN6Tnprc0xUY3VNRE0yTlRsakxUQXVOems1Tmpnc0xUQXVPVGN6TXprZ0xURXVNekV6TVRrc0xUSXVNVFE1T0RNZ0xURXVORGd6TWpNc0xUTXVNems0TURoakxUQXVOREV6T0Rnc0xUTXVNRE00TkNBeExqSTFOek00TEMwMUxqazNOemN6SURRdU1EYzVPVElzTFRjdU1UYzFOakZqTFRBdU56RTBPVFFzTFRBdU9UTTJNU0F0TVM0eE56UTBMQzB5TGpBME1Ua2dMVEV1TXpNek16Z3NMVE11TWpBNU1EUmpMVEF1TlRBMk56TXNMVE11TnpJd01pQXlMakE1T0RBeUxDMDNMakUwTmpjNUlEVXVPREUzT1RFc0xUY3VOalV6TlRWak1DNDFNelV3TXl3dE1DNHdOekk1TmlBeExqQTNOamcxTEMwd0xqQTRNVGc1SURFdU5qRTBNREVzTFRBdU1ESTJOak5zTUM0ek9EZzBMQzB4TGpVME16Y3lZekF1TVRNd016UXNMVEF1TlRFNU16WWdNQzQxTlRReExDMHdMamt4TXpNMklERXVNRGd4TlRNc0xURXVNREExTlRkak1DNHdNVFF3TWl3dE1DNHdNREl6T0NBd0xqQXlPREF6TEMwd0xqQXdORFV4SURBdU1EUXlNVFFzTFRBdU1EQTJORFY2SWlCa1lYUmhMWEJoY0dWeUxXUmhkR0U5SW5zbWNYVnZkRHRwYm1SbGVDWnhkVzkwT3pwdWRXeHNmU0lnWm1sc2JEMGlJMlptWm1abVppSWdabWxzYkMxeWRXeGxQU0psZG1WdWIyUmtJaUJ6ZEhKdmEyVTlJbTV2Ym1VaUlITjBjbTlyWlMxM2FXUjBhRDBpTWk0eE1UWTJOeUlnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lpQnpkSEp2YTJVdGJHbHVaV3B2YVc0OUluSnZkVzVrSWlCemRISnZhMlV0YldsMFpYSnNhVzFwZEQwaU5DSXZQanh3WVhSb0lHUTlJazB5TkRFdU5qTXpMREU1TVM0eE5Ua3hZeTB3TGpRNE16RTJMQzB3TGpNeU5URXhJQzB3TGpZeE9URTBMQzB3TGpjNU9UWWdMVEF1TXpJNE55d3RNUzR5TXpFeU5HTXhMakUzTlRJMkxDMHhMamMwTmpZeUlEUXVNakF4TlRVc0xUWXVNalEwTVRjZ05DNDRNVFUwTkN3dE55NHhOVFkwT1dNd0xqSXhNall6TEMwd0xqTXhOaUF3TGpjMU1UZ3hMQzB3TGpNMk15QXhMakl3TkRBMkxDMHdMakEyT1RZM1l6QXVORFV5TWpVc01DNHlPVE16TXlBd0xqWXdORE14TERBdU9EQTJORGtnTUM0ME1EQXdNaXd4TGpFeE1EQTVZeTB3TGpZd05EZzBMREF1T0RrNE9EZ2dMVE11TmpVek1EZ3NOUzQwTWprd05TQXROQzQ0TXpNME5pdzNMakU0TXpJNFl5MHdMakk1TURRM0xEQXVORE14TmprZ0xUQXVOemMwTVRrc01DNDBPRGt4TXlBdE1TNHlOVGN6TlN3d0xqRTJOREF5ZWlJZ1ptbHNiRDBpSTJabVptWm1aaUlnWm1sc2JDMXlkV3hsUFNKdWIyNTZaWEp2SWlCemRISnZhMlU5SWlObVptWm1abVlpSUhOMGNtOXJaUzEzYVdSMGFEMGlNQzQxSWlCemRISnZhMlV0YkdsdVpXTmhjRDBpWW5WMGRDSWdjM1J5YjJ0bExXeHBibVZxYjJsdVBTSnRhWFJsY2lJZ2MzUnliMnRsTFcxcGRHVnliR2x0YVhROUlqRXdJaTgrUEhCaGRHZ2daRDBpVFRJME55NHlOREF6TXl3eE9EZ3VNamMxTWpsakxURXVPREU1T1RNc01DNHhNRGd5TkNBdE15NDBOalV5TVN3dE1pNDJOakUxTXlBdE15NDJOelE0TkN3dE5pNHhPRFkwTTJNdE1DNHlNRGsyTXl3dE15NDFNalE1SURFdU1EazFOemNzTFRZdU5EY3dNVFVnTWk0NU1UVTJPU3d0Tmk0MU56Z3pPV014TGpneE9Ua3pMQzB3TGpFd09ESTBJRE11TkRZMU1pd3lMalkyTVRVMElETXVOamMwT0RRc05pNHhPRFkwTkdNd0xqSXdPVFl6TERNdU5USTBPU0F0TVM0d09UVTNOaXcyTGpRM01ERTBJQzB5TGpreE5UWTVMRFl1TlRjNE16aDZUVEkwT1M0d01ERXlOeXd4T0RFdU56WTFOVGhqTFRBdU1UTXhNeXd0TWk0eU1EYzNNU0F0TVM0eE5qRTNOeXd0TXk0NU5ESTBOaUF0TWk0ek1ERTJNU3d0TXk0NE56UTJOMk10TVM0eE16azROU3d3TGpBMk56YzVJQzB4TGprMU56UTFMREV1T1RFeU5EVWdMVEV1T0RJMk1UVXNOQzR4TWpBeE5tTXdMakV6TVRNc01pNHlNRGMzTVNBeExqRTJNVGMzTERNdU9UUXlORFVnTWk0ek1ERTJNaXd6TGpnM05EWTJZekV1TVRNNU9EVXNMVEF1TURZM056a2dNUzQ1TlRjME5Td3RNUzQ1TVRJME5DQXhMamd5TmpFMExDMDBMakV5TURFMWVpSWdabWxzYkQwaUkyWm1abVptWmlJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQnpkSEp2YTJVOUlpTm1abVptWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTUM0MUlpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWk4K1BIQmhkR2dnWkQwaVRUSTBOUzQ0T1RJd055d3hOekF1TkRrek16ZGpNQzQxT0RFd05Dd3RNQzR3TXpreE5DQXdMamszT1RJMUxEQXVNalV5TlRJZ01TNHdNVFF5TWl3d0xqYzNNVFpqTUM0eE5ERTFMREl1TVRBd05EVWdNQzQxTURVNE5DdzNMalV3T1RFZ01DNDFOemszTlN3NExqWXdOakkxWXpBdU1ESTFOaXd3TGpNNE1EQXlJQzB3TGpNM01UWTVMREF1TnpRM05UUWdMVEF1T1RBNE9ETXNNQzQzT1RJNE5tTXRNQzQxTXpjeE5Dd3dMakEwTlRNeElDMHdMamszTVRjMkxDMHdMakkyTnpBMElDMHdMams1TmpNMUxDMHdMall6TWpFMFl5MHdMakEzTWpneExDMHhMakE0TURrNElDMHdMalF6T1RneExDMDJMalV5T0RnNElDMHdMalU0TVRreUxDMDRMall6T0RRNFl5MHdMakF6TkRrM0xDMHdMalV4T1RFMUlEQXVNekV5TURrc0xUQXVPRFl3T1RRZ01DNDRPVE14TkN3dE1DNDVNREF3T0hvaUlHWnBiR3c5SWlObVptWm1abVlpSUdacGJHd3RjblZzWlQwaWJtOXVlbVZ5YnlJZ2MzUnliMnRsUFNJalptWm1abVptSWlCemRISnZhMlV0ZDJsa2RHZzlJakF1TlNJZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW1KMWRIUWlJSE4wY205clpTMXNhVzVsYW05cGJqMGliV2wwWlhJaUlITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0l2UGp4d1lYUm9JR1E5SWsweU5ETXVNakEzTURjc01UYzBMak13TlRFNVl5MHhMak00TWl3dE1TNHhPRGt3TnlBdE1DNDJNelV6TXl3dE5DNHpNakk1TkNBeExqWTJOemN6TEMwMkxqazVPVFkxWXpJdU16QXpNRFlzTFRJdU5qYzJOeklnTlM0eU9UQTBMQzB6TGpnNE1qWTRJRFl1TmpjeU5Dd3RNaTQyT1RNMk1XTXhMak00TWl3eExqRTRPVEEzSURBdU5qTTFNekVzTkM0ek1qSTVOQ0F0TVM0Mk5qYzNOQ3cyTGprNU9UWTJZeTB5TGpNd016QTJMREl1TmpjMk56SWdMVFV1TWprd016a3NNeTQ0T0RJMk55QXROaTQyTnpJek9Td3lMalk1TXpaNlRUSTBPUzR3TURJMU9Dd3hOekF1T0RVM01XTXhMalEwTWpRMUxDMHhMalkzTmpRNElERXVPVEV3TVN3dE15NDJNemt5TmlBeExqQTBORFV5TEMwMExqTTROR010TUM0NE5qVTFPQ3d0TUM0M05EUTNOQ0F0TWk0M016WTFPU3d3TGpBeE1EVTRJQzAwTGpFM09UQTFMREV1TmpnM01EVmpMVEV1TkRReU5EVXNNUzQyTnpZME9DQXRNUzQ1TVRBeExETXVOak01TWpVZ0xURXVNRFEwTlRJc05DNHpPRE01T1dNd0xqZzJOVFU0TERBdU56UTBOelFnTWk0M016WTFPU3d0TUM0d01UQTFOeUEwTGpFM09UQTFMQzB4TGpZNE56QTFlaUlnWm1sc2JEMGlJMlptWm1abVppSWdabWxzYkMxeWRXeGxQU0p1YjI1NlpYSnZJaUJ6ZEhKdmEyVTlJaU5tWm1abVptWWlJSE4wY205clpTMTNhV1IwYUQwaU1DNDFJaUJ6ZEhKdmEyVXRiR2x1WldOaGNEMGlZblYwZENJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKdGFYUmxjaUlnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpFd0lpOCtQSEJoZEdnZ1pEMGlUVEkxTnk0Mk1qTXlPQ3d4TmpVdU1qRXlNemRqTUM0eE56azNNeXd3TGpVMU16a3pJQzB3TGpBd05UazBMREV1TURFeE1qY2dMVEF1TlRBd09Dd3hMakUzTVRnell5MHlMakF3TWpRMUxEQXVOalE1TnpJZ0xUY3VNVFU0TnpNc01pNHpNakkzTnlBdE9DNHlNRFEyT0N3eUxqWTJNakUwWXkwd0xqTTJNakk1TERBdU1URTNOVFVnTFRBdU9ERTFOalFzTFRBdU1UYzRNRFlnTFRBdU9Ua3dOalVzTFRBdU5qZzNPVEZqTFRBdU1UYzFMQzB3TGpVd09UZzFJREF1TURJeE9EWXNMVEV1TURBM05UUWdNQzR6TmprNU15d3RNUzR4TWpBME9HTXhMakF6TURVekxDMHdMak16TkRNM0lEWXVNakkwTWpRc0xUSXVNREU1TlRVZ09DNHlNelUwTVN3dE1pNDJOekl4WXpBdU5EazBPVElzTFRBdU1UWXdOVGdnTUM0NU1URXdOeXd3TGpBNU1qVTRJREV1TURrd056a3NNQzQyTkRZMU1Yb2lJR1pwYkd3OUlpTm1abVptWm1ZaUlHWnBiR3d0Y25Wc1pUMGlibTl1ZW1WeWJ5SWdjM1J5YjJ0bFBTSWpabVptWm1abUlpQnpkSEp2YTJVdGQybGtkR2c5SWpBdU5TSWdjM1J5YjJ0bExXeHBibVZqWVhBOUltSjFkSFFpSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpYldsMFpYSWlJSE4wY205clpTMXRhWFJsY214cGJXbDBQU0l4TUNJdlBqeHdZWFJvSUdROUlrMHlOVEl1T1RjeU1EY3NNVFkxTGpnMk5qVTBZeTB3TGpFMk1EQTFMQzB4TGpneE5qRWdNaTQxTmpFM0xDMHpMalV6T1RZMElEWXVNRGM1TVRrc0xUTXVPRFE1TmpSak15NDFNVGMwT1N3dE1DNHpNU0EyTGpRNU9EYzJMREF1T1RFd09UUWdOaTQyTlRnNE1Td3lMamN5TnpBMFl6QXVNVFl3TURVc01TNDRNVFl4SUMweUxqVTJNVGN4TERNdU5UTTVOalVnTFRZdU1EYzVNakVzTXk0NE5EazJOV010TXk0MU1UYzBPU3d3TGpNeElDMDJMalE1T0RjMExDMHdMamt4TURrMElDMDJMalkxT0Rnc0xUSXVOekkzTURWNlRUSTFPUzQxTWprek1pd3hOamN1TkRReE1qWmpNaTR5TURNd055d3RNQzR4T1RReE5pQXpMamt3TnpjMUxDMHhMakkzTXpZeklETXVPREEzTlN3dE1pNDBNVEV3T1dNdE1DNHhNREF5TlN3dE1TNHhNemMwTmlBdE1TNDVOamMwTlN3dE1TNDVNREl4TmlBdE5DNHhOekExTWl3dE1TNDNNRGhqTFRJdU1qQXpNRGNzTUM0eE9UUXhOaUF0TXk0NU1EYzNOU3d4TGpJM016WTBJQzB6TGpnd056VXNNaTQwTVRFeFl6QXVNVEF3TWpVc01TNHhNemMwTmlBeExqazJOelEyTERFdU9UQXlNVFVnTkM0eE56QTFNeXd4TGpjd056azVlaUlnWm1sc2JEMGlJMlptWm1abVppSWdabWxzYkMxeWRXeGxQU0p1YjI1NlpYSnZJaUJ6ZEhKdmEyVTlJaU5tWm1abVptWWlJSE4wY205clpTMTNhV1IwYUQwaU1DNDFJaUJ6ZEhKdmEyVXRiR2x1WldOaGNEMGlZblYwZENJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKdGFYUmxjaUlnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpFd0lpOCtQSEJoZEdnZ1pEMGlUVEl3TVM0M016VTFNU3d4TnpZdU16TXdNelJqTWk0NE56RXNMVEl1TURVMU56Z2dOaTR3TlRnNE55d3RNaTQxTWpBMk9DQTNMakV5TURJM0xDMHhMakF6T0RNMll6RXVNRFl4TkRFc01TNDBPREl6TVNBdE1DNDBNRFUxTnl3MExqTTFNRFVnTFRNdU1qYzJOVGdzTmk0ME1EWXlPR010TWk0NE56RXNNaTR3TlRVM09DQXROaTR3TlRnNE5pd3lMalV5TURZNElDMDNMakV5TURJMkxERXVNRE00TXpaakxURXVNRFl4TkRFc0xURXVORGd5TXpFZ01DNDBNRFUxTml3dE5DNHpOVEExTVNBekxqSTNOalUzTEMwMkxqUXdOakk1ZWsweU1EQXVNelUyT0RJc01UZ3hMakk0TXpJMFl6QXVOalkwTnpjc01DNDVNamcwSURJdU5qWXhNemdzTUM0Mk16Y3lNeUEwTGpRMU9UVTBMQzB3TGpZMU1ETTBZekV1TnprNE1UWXNMVEV1TWpnM05UY2dNaTQzTVRZNU5Td3RNeTR3T0RNNU55QXlMakExTWpFM0xDMDBMakF4TWpNM1l5MHdMalkyTkRjM0xDMHdMamt5T0RRZ0xUSXVOall4TXpnc0xUQXVOak0zTWpNZ0xUUXVORFU1TlRRc01DNDJOVEF6TkdNdE1TNDNPVGd4Tml3eExqSTROelUzSUMweUxqY3hOamswTERNdU1EZ3pPVGNnTFRJdU1EVXlNVGNzTkM0d01USXpOM29pSUdSaGRHRXRjR0Z3WlhJdFpHRjBZVDBpZXlaeGRXOTBPMmx1WkdWNEpuRjFiM1E3T201MWJHeDlJaUJtYVd4c1BTSWpabVptWm1abUlpQm1hV3hzTFhKMWJHVTlJbTV2Ym5wbGNtOGlJSE4wY205clpUMGlJMlptWm1abVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJd0xqVWlJSE4wY205clpTMXNhVzVsWTJGd1BTSmlkWFIwSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW0xcGRHVnlJaUJ6ZEhKdmEyVXRiV2wwWlhKc2FXMXBkRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5NakExTGpRM05UVTVMREUzTmk0M05qUTBPR015TGpBNE1UVXhMREF1TXpjeE16a2dOeTQwTlRZNE55d3hMak16TURRM0lEZ3VOVEl6TkRVc01TNDFNakEzTjJNd0xqTTJNREkwTERBdU1EWTBNamdnTUM0Mk1qTXpNeXd3TGpVek1ETTNJREF1TlRFNU55d3hMakExT1RNMll5MHdMakV3TXpZekxEQXVOVEk0T1RrZ0xUQXVOVEV5TXpFc01DNDRPRE00TXlBdE1DNDRPRGN5Tnl3d0xqZ3hOamt5WXkweExqQTRNalUwTEMwd0xqRTVNekUwSUMwMkxqUXhPVEU0TEMweExqRTBOVE15SUMwNExqUTVNVFkzTEMweExqVXhOVEE0WXkwd0xqVXhNakUzTEMwd0xqQTVNVE00SUMwd0xqYzFPRFl6TEMwd0xqVXhPVEF6SUMwd0xqWTFOak0xTEMweExqQTVNak0wWXpBdU1UQXlNamdzTFRBdU5UY3pNekVnTUM0ME56azVNU3d0TUM0NE9ERXdNU0F3TGprNU1qRTBMQzB3TGpjNE9UWXplaUlnWkdGMFlTMXdZWEJsY2kxa1lYUmhQU0o3Sm5GMWIzUTdhVzVrWlhnbWNYVnZkRHM2Ym5Wc2JIMGlJR1pwYkd3OUlpTm1abVptWm1ZaUlHWnBiR3d0Y25Wc1pUMGlibTl1ZW1WeWJ5SWdjM1J5YjJ0bFBTSWpabVptWm1abUlpQnpkSEp2YTJVdGQybGtkR2c5SWpBdU5TSWdjM1J5YjJ0bExXeHBibVZqWVhBOUltSjFkSFFpSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpYldsMFpYSWlJSE4wY205clpTMXRhWFJsY214cGJXbDBQU0l4TUNJdlBqeHdZWFJvSUdROUlrMHlNVFl1T1RnMk1UUXNNVGM1TGpreU9ETXpZekV1TmprM01Ea3NNeTR3T1RZMU9DQXhMamMzTmpneExEWXVNekUzTVRjZ01DNHhOemd3TXl3M0xqRTVNek01WXkweExqVTVPRGM0TERBdU9EYzJNaklnTFRRdU1qY3dOakVzTFRBdU9USXpOelFnTFRVdU9UWTNOekVzTFRRdU1ESXdNekpqTFRFdU5qazNNRGtzTFRNdU1EazJOVGdnTFRFdU56YzJPQ3d0Tmk0ek1UY3hOaUF0TUM0eE56Z3dNaXd0Tnk0eE9UTXpPR014TGpVNU9EYzRMQzB3TGpnM05qSXlJRFF1TWpjd05qRXNNQzQ1TWpNM05DQTFMamsyTnpjc05DNHdNakF6TVhwTk1qRXlMakl6TkRBMExERTNOeTQ1TmpZek1XTXRNUzR3TURFek5Dd3dMalUwT0RjNUlDMHdMamsxTVRReUxESXVOVFkxT1NBd0xqRXhNVFVzTkM0MU1EVXpOR014TGpBMk1qa3lMREV1T1RNNU5EUWdNaTQzTXpZek15d3pMakEyTmpjNElETXVOek0zTmpjc01pNDFNVGM1T1dNeExqQXdNVE0wTEMwd0xqVTBPRGM1SURBdU9UVXhORElzTFRJdU5UWTFPRGtnTFRBdU1URXhOU3d0TkM0MU1EVXpNMk10TVM0d05qSTVNaXd0TVM0NU16azBOQ0F0TWk0M016WXpNeXd0TXk0d05qWTNPQ0F0TXk0M016YzJOeXd0TWk0MU1UYzVPWG9pSUdSaGRHRXRjR0Z3WlhJdFpHRjBZVDBpZXlaeGRXOTBPMmx1WkdWNEpuRjFiM1E3T201MWJHeDlJaUJtYVd4c1BTSWpabVptWm1abUlpQm1hV3hzTFhKMWJHVTlJbTV2Ym5wbGNtOGlJSE4wY205clpUMGlJMlptWm1abVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJd0xqVWlJSE4wY205clpTMXNhVzVsWTJGd1BTSmlkWFIwSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW0xcGRHVnlJaUJ6ZEhKdmEyVXRiV2wwWlhKc2FXMXBkRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5NakU0TGpBNU9EUTFMREU1TVM0ek9UWTFOR010TVM0d01ERTFPU3d0TVM0NE5qSXhNU0F0TXk0MU9EZ3hNU3d0Tmk0Mk56QTROeUF0TkM0eE1ERXpOQ3d0Tnk0Mk1qVXdNbU10TUM0eE56TXpOU3d0TUM0ek1qSXlOeUF3TGpBeU9EVTVMQzB3TGpneE56a3pJREF1TlRBM05UZ3NMVEV1TURZMU1qSmpNQzQwTnpnNU9Dd3RNQzR5TkRjeU9TQXhMakF4TURnNUxDMHdMakUwTnpNeklERXVNVGt4TXpFc01DNHhPRGd4WXpBdU5USXdPRGtzTUM0NU5qZzBNeUF6TGpBNE9EYzVMRFV1TnpReU5UWWdOQzR3T0RZd015dzNMalU1TmpVNVl6QXVNalEyTkRRc01DNDBOVGd4T0NBd0xqQTJORE0wTERBdU9URTJPVFFnTFRBdU5EUTROVFFzTVM0eE9USTRNV010TUM0MU1USTRPQ3d3TGpJM05UZzNJQzB3TGprNE9EVTNMREF1TVRjd09Ua2dMVEV1TWpNMU1EVXNMVEF1TWpnM01qVjZJaUJrWVhSaExYQmhjR1Z5TFdSaGRHRTlJbnNtY1hWdmREdHBibVJsZUNaeGRXOTBPenB1ZFd4c2ZTSWdabWxzYkQwaUkyWm1abVptWmlJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQnpkSEp2YTJVOUlpTm1abVptWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTUM0MUlpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWk4K1BIQmhkR2dnWkQwaVRUSXlNaTR3TkRJNU9Td3hPRGt1TXpjME16WmpNaTQzTlRBd01Td3lMakl4TlRBeUlEUXVNRFV5TWpZc05TNHhOakUyT0NBeUxqa3dPRFl6TERZdU5UZ3hOVEpqTFRFdU1UUXpOak1zTVM0ME1UazROQ0F0TkM0ek1EQXdOaXd3TGpjM05USXlJQzAzTGpBMU1EQTNMQzB4TGpRek9UZ3hZeTB5TGpjMU1EQXhMQzB5TGpJeE5UQXlJQzAwTGpBMU1qSTFMQzAxTGpFMk1UWTRJQzB5TGprd09EWXlMQzAyTGpVNE1UVXhZekV1TVRRek5qTXNMVEV1TkRFNU9EUWdOQzR6TURBd05Td3RNQzQzTnpVeU1pQTNMakExTURBMkxERXVORE01T0RGNlRUSXhOaTQ1TURFM09Dd3hPRGt1TXpjek5EaGpMVEF1TnpFMk1qZ3NNQzQ0T0RreU55QXdMakE1T1RNekxESXVOek0wT0NBeExqZ3lNVGN4TERRdU1USXlNVEZqTVM0M01qSXpPQ3d4TGpNNE56TXhJRE11TmprNU15d3hMamM1TVRBMUlEUXVOREUxTlRnc01DNDVNREUzT0dNd0xqY3hOakk0TEMwd0xqZzRPVEkzSUMwd0xqQTVPVE0wTEMweUxqY3pORGdnTFRFdU9ESXhOeklzTFRRdU1USXlNVEZqTFRFdU56SXlNemdzTFRFdU16ZzNNekVnTFRNdU5qazVNamtzTFRFdU56a3hNRFFnTFRRdU5ERTFOVGNzTFRBdU9UQXhOemQ2SWlCa1lYUmhMWEJoY0dWeUxXUmhkR0U5SW5zbWNYVnZkRHRwYm1SbGVDWnhkVzkwT3pwdWRXeHNmU0lnWm1sc2JEMGlJMlptWm1abVppSWdabWxzYkMxeWRXeGxQU0p1YjI1NlpYSnZJaUJ6ZEhKdmEyVTlJaU5tWm1abVptWWlJSE4wY205clpTMTNhV1IwYUQwaU1DNDFJaUJ6ZEhKdmEyVXRiR2x1WldOaGNEMGlZblYwZENJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKdGFYUmxjaUlnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpFd0lpOCtQSEJoZEdnZ1pEMGlUVEl5T1M0NE5qSTNMREU1TlM0d09UYzNNMk10TWk0d09UWXhNeXd0TUM0eU56Y3lPQ0F0Tnk0MU1Ea3lNU3d0TUM0NU9UTXpNeUF0T0M0MU9ETXlPQ3d0TVM0eE16VTBNV010TUM0ek5qSTNOeXd0TUM0d05EYzVPU0F0TUM0Mk5EWTFPQ3d0TUM0MU1ERTNOaUF0TUM0MU5qWTROeXd0TVM0d016UTRPV013TGpBM09UY3hMQzB3TGpVek16RXpJREF1TkRjeE9UZ3NMVEF1T1RBMU9Ua2dNQzQ0TkRrMU9Dd3RNQzQ0TlRZd05XTXhMakE1TURFMExEQXVNVFEwTWlBMkxqUTJOREkwTERBdU9EVTFNVEVnT0M0MU5URXlOeXd4TGpFek1URTRZekF1TlRFMU56WXNNQzR3TmpneU15QXdMamM0TVRJMExEQXVORGcwTXpNZ01DNDNNRFE0Tnl3eExqQTJNVFkzWXkwd0xqQTNOak0zTERBdU5UYzNNelFnTFRBdU5ETTVOelVzTUM0NU1ERTNNaUF0TUM0NU5UVTFOeXd3TGpnek16UTVlaUlnWkdGMFlTMXdZWEJsY2kxa1lYUmhQU0o3Sm5GMWIzUTdhVzVrWlhnbWNYVnZkRHM2Ym5Wc2JIMGlJR1pwYkd3OUlpTm1abVptWm1ZaUlHWnBiR3d0Y25Wc1pUMGlibTl1ZW1WeWJ5SWdjM1J5YjJ0bFBTSWpabVptWm1abUlpQnpkSEp2YTJVdGQybGtkR2c5SWpBdU5TSWdjM1J5YjJ0bExXeHBibVZqWVhBOUltSjFkSFFpSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpYldsMFpYSWlJSE4wY205clpTMXRhWFJsY214cGJXbDBQU0l4TUNJdlBqeHdZWFJvSUdROUlrMHlNekl1TVRjNU9EWXNNVGt3TGpVM05USmpNeTQxTVRVME15d3RNQzR6TXpJMU9TQTJMalV3TkRRNExEQXVPRFk1TVRjZ05pNDJOell5TERJdU5qZzBNbU13TGpFM01UY3lMREV1T0RFMU1ETWdMVEl1TlRNNE9URXNNeTQxTlRZd015QXROaTR3TlRRek5Dd3pMamc0T0RZeVl5MHpMalV4TlRRekxEQXVNek15TlRrZ0xUWXVOVEEwTkRjc0xUQXVPRFk1TVRjZ0xUWXVOamMyTVRrc0xUSXVOamcwTWpGakxUQXVNVGN4TnpJc0xURXVPREUxTURNZ01pNDFNemc1TEMwekxqVTFOakF6SURZdU1EVTBNek1zTFRNdU9EZzROako2VFRJeU9DNDBPVFk0T1N3eE9UUXVNVFl5TXpaak1DNHhNRGMxTkN3eExqRXpOamM1SURFdU9UYzVOaklzTVM0NE9EazBOeUEwTGpFNE1UUXhMREV1TmpneE1UZGpNaTR5TURFM09Dd3RNQzR5TURneklETXVPRGs1TkRnc0xURXVNams0TnpJZ015NDNPVEU1TkN3dE1pNDBNelUxTVdNdE1DNHhNRGMxTkN3dE1TNHhNelkzT1NBdE1TNDVOemsyTWl3dE1TNDRPRGswTnlBdE5DNHhPREUwTEMweExqWTRNVEUyWXkweUxqSXdNVGM0TERBdU1qQTRNeUF0TXk0NE9UazBPQ3d4TGpJNU9EY3lJQzB6TGpjNU1UazBMREl1TkRNMU5URjZJaUJrWVhSaExYQmhjR1Z5TFdSaGRHRTlJbnNtY1hWdmREdHBibVJsZUNaeGRXOTBPenB1ZFd4c2ZTSWdabWxzYkQwaUkyWm1abVptWmlJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQnpkSEp2YTJVOUlpTm1abVptWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTUM0MUlpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWk4K1BIQmhkR2dnWkQwaVRUSTNOQzR5T0RNM05pd3hOelV1TlRVd05UWmpMVEF1TkRNeE1qWXNNQzR6T1RFek5pQXRNQzQ1TWpRME9Td3dMalF3T1RnNElDMHhMakkzTkRFeExEQXVNREkwTmpGakxURXVOREUwTnpRc0xURXVOVFU0T1RrZ0xUVXVNRFUzTnl3dE5TNDFOek16TlNBdE5TNDNPVFkyT0N3dE5pNHpPRGMyT0dNdE1DNHlOVFU1TlN3dE1DNHlPREl3TmlBdE1DNHhOekkyTEMwd0xqZ3hOamd5SURBdU1qSXdOREVzTFRFdU1UZzFOelpqTUM0ek9UTXdNU3d0TUM0ek5qZzVOQ0F3TGpreU56WTBMQzB3TGpNNU16Z3lJREV1TVRjek5UWXNMVEF1TVRJeU9ETmpNQzQzTWpnd09Dd3dMamd3TWpNeElEUXVNemszTkRjc05DNDRORFU0TVNBMUxqZ3hPRE00TERZdU5ERXhOVGxqTUM0ek5EazJOeXd3TGpNNE5UTXhJREF1TWpnNU56SXNNQzQ0TmpnM01pQXRNQzR4TkRFMU5Td3hMakkyTURBM2VpSWdabWxzYkQwaUkyWm1abVptWmlJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQnpkSEp2YTJVOUlpTm1abVptWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTUM0MUlpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWk4K1BIQmhkR2dnWkQwaVRUSTNNUzQzTnpjeU1pd3hOekV1TlRjNE1qbGpNUzQxT1RBeE55d3RNQzQ0T1RFM05TQTBMakkzT1RRc01DNDRPREl4TWlBMkxqQXdOalUzTERNdU9UWXlNREpqTVM0M01qY3hOaXd6TGpBM09Ua2dNUzQ0TXpneU15dzJMakk1T1RVMklEQXVNalE0TURZc055NHhPVEV6TVdNdE1TNDFPVEF4Tnl3d0xqZzVNVGMxSUMwMExqSTNPVFF4TEMwd0xqZzRNakV6SUMwMkxqQXdOalUzTEMwekxqazJNakF6WXkweExqY3lOekUyTEMwekxqQTNPVGtnTFRFdU9ETTRNaklzTFRZdU1qazVOVFVnTFRBdU1qUTRNRFlzTFRjdU1Ua3hNM3BOTWpjekxqQXpOREkxTERFM09DNHlNRE0zT1dNeExqQTRNVGMxTERFdU9USTVJREl1TnpZMk1EVXNNeTR3TkNBekxqYzJNaXd5TGpRNE1UUTRZekF1T1RrMU9UVXNMVEF1TlRVNE5USWdNQzQ1TWpZMExDMHlMalUzTlRBMUlDMHdMakUxTlRNMUxDMDBMalV3TkRBMVl5MHhMakE0TVRjMUxDMHhMamt5T1NBdE1pNDNOall3Tml3dE15NHdNems1T1NBdE15NDNOakl3TVN3dE1pNDBPREUwTjJNdE1DNDVPVFU1TlN3d0xqVTFPRFV5SUMwd0xqa3lOak01TERJdU5UYzFNRFFnTUM0eE5UVXpOaXcwTGpVd05EQTBlaUlnWm1sc2JEMGlJMlptWm1abVppSWdabWxzYkMxeWRXeGxQU0p1YjI1NlpYSnZJaUJ6ZEhKdmEyVTlJaU5tWm1abVptWWlJSE4wY205clpTMTNhV1IwYUQwaU1DNDFJaUJ6ZEhKdmEyVXRiR2x1WldOaGNEMGlZblYwZENJZ2MzUnliMnRsTFd4cGJtVnFiMmx1UFNKdGFYUmxjaUlnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpFd0lpOCtQSEJoZEdnZ1pEMGlUVEkzTlM0NE5qVTVNaXd4T0RndU5ERTBPVEZqTFRBdU5UZ3lNallzTFRBdU1ERXdPREVnTFRBdU9UVTBMQzB3TGpNek5UVWdMVEF1T1RRME16VXNMVEF1T0RVMU5qZGpNQzR3TXprd05Dd3RNaTR4TURRNE5TQXdMakV6T1RVMkxDMDNMalV5TkRneklEQXVNVFU1T1RVc0xUZ3VOakkwTWpoak1DNHdNRGN3Tnl3dE1DNHpPREE0TWlBd0xqUXpORFFzTFRBdU56RXlPVFFnTUM0NU56TTBOQ3d0TUM0M01USXdOV013TGpVek9UQTBMREF1TURBd09Ea2dNQzQ1TkRVeU9Td3dMak0wT1RNMElEQXVPVE00TlRFc01DNDNNVFV5TW1NdE1DNHdNakF4TERFdU1EZ3pNalFnTFRBdU1USXhNelFzTmk0MU5ESTFOU0F0TUM0eE5qQTFOaXc0TGpZMU5qVTNZeTB3TGpBd09UWTBMREF1TlRJd01qTWdMVEF1TXpnME56TXNNQzQ0TXpFd01pQXRNQzQ1TmpZNU9Td3dMamd5TURJeGVpSWdabWxzYkQwaUkyWm1abVptWmlJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQnpkSEp2YTJVOUlpTm1abVptWm1ZaUlITjBjbTlyWlMxM2FXUjBhRDBpTUM0MUlpQnpkSEp2YTJVdGJHbHVaV05oY0QwaVluVjBkQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p0YVhSbGNpSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWk4K1BIQmhkR2dnWkQwaVRUSTNOaTQzTmpRNE15d3hPRE11T0RBME56UmpNUzQzTmpnNU55d3dMalEwTVRFeklESXVOVEV3TXpVc015NDFOell5TlNBeExqWTFOVGswTERjdU1EQXlORFZqTFRBdU9EVTBOREVzTXk0ME1qWXlJQzB5TGprNE1UQTRMRFV1T0RRMk1EZ2dMVFF1TnpVd01EVXNOUzQwTURRNU5XTXRNUzQzTmpnNU55d3RNQzQwTkRFeE15QXRNaTQxTVRBek5Td3RNeTQxTnpZeU5pQXRNUzQyTlRVNU5Dd3ROeTR3TURJME5XTXdMamcxTkRReExDMHpMalF5TmpJZ01pNDVPREV3Tnl3dE5TNDRORFl3TnlBMExqYzFNREExTEMwMUxqUXdORGswZWsweU56TXVNVE0zTWl3eE9Ea3VORGc1Tm1NdE1DNDFNelV4TkN3eUxqRTBOVGc1SUMwd0xqQTNNRGM1TERRdU1UQTVORFlnTVM0d016Y3hOU3cwTGpNNE5UYzFZekV1TVRBM09UTXNNQzR5TnpZeU9TQXlMalF6T1Rrc0xURXVNak01TXpJZ01pNDVOelV3TXl3dE15NHpPRFV5TW1Nd0xqVXpOVEUwTEMweUxqRTBOVGc1SURBdU1EY3dOemtzTFRRdU1UQTVORFVnTFRFdU1ETTNNVFVzTFRRdU16ZzFOelJqTFRFdU1UQTNPVE1zTFRBdU1qYzJNamtnTFRJdU5ETTVPU3d4TGpJek9UTXlJQzB5TGprM05UQTBMRE11TXpnMU1qRjZJaUJtYVd4c1BTSWpabVptWm1abUlpQm1hV3hzTFhKMWJHVTlJbTV2Ym5wbGNtOGlJSE4wY205clpUMGlJMlptWm1abVppSWdjM1J5YjJ0bExYZHBaSFJvUFNJd0xqVWlJSE4wY205clpTMXNhVzVsWTJGd1BTSmlkWFIwSWlCemRISnZhMlV0YkdsdVpXcHZhVzQ5SW0xcGRHVnlJaUJ6ZEhKdmEyVXRiV2wwWlhKc2FXMXBkRDBpTVRBaUx6NDhMMmMrUEM5blBqd3ZjM1puUGc9PSI7CgogIC8vdGhhbmsgeW91IERvZ2VJc0N1dCBmb3IgdGhlIGluc3BpcmF0aW9uIGJlaGluZCB0aGUgbWVudSBpY29uIGFuZCB0aGUgcGVybWlzc2lvbiB0byB0YWtlIGhpcyBpZGVhIGFuZCBtYWtlIGl0IGFuIGV4dGVuc2lvbiA6MwogIGNvbnN0IGJsb2NrSWNvblVSSSA9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhkcFpIUm9QU0l4TVRndU56VXpPVElpSUdobGFXZG9kRDBpTVRZMkxqRXpOVFl6SWlCMmFXVjNRbTk0UFNJd0xEQXNNVEU0TGpjMU16a3lMREUyTmk0eE16VTJNeUkrUEdjZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9MVEU0TUM0Mk1qTXdOQ3d0T1RZdU9UTXlNVGtwSWo0OFp5QmtZWFJoTFhCaGNHVnlMV1JoZEdFOUluc21jWFZ2ZER0cGMxQmhhVzUwYVc1blRHRjVaWEltY1hWdmREczZkSEoxWlgwaUlHWnBiR3c5SWlObVptWm1abVlpSUdacGJHd3RjblZzWlQwaWJtOXVlbVZ5YnlJZ2MzUnliMnRsUFNJalptWm1abVptSWlCemRISnZhMlV0ZDJsa2RHZzlJaklpSUhOMGNtOXJaUzFzYVc1bFkyRndQU0ppZFhSMElpQnpkSEp2YTJVdGJHbHVaV3B2YVc0OUltMXBkR1Z5SWlCemRISnZhMlV0YldsMFpYSnNhVzFwZEQwaU1UQWlJSE4wY205clpTMWtZWE5vWVhKeVlYazlJaUlnYzNSeWIydGxMV1JoYzJodlptWnpaWFE5SWpBaUlITjBlV3hsUFNKdGFYZ3RZbXhsYm1RdGJXOWtaVG9nYm05eWJXRnNJajQ4Y0dGMGFDQmtQU0pOTVRrNUxqTXpOalUyTERJMU5TNDBNREUyTTJNdE1URXVOVGszTnpZc0xUY3VOVGt4T1RZZ0xURTNMamd5TVRrNExDMHhPQzQyTURBM01TQXRNVE11T1RBeU1qRXNMVEkwTGpVNE9EWTJZek11T1RFNU56TXNMVFV1T1RnM09UZ2dNVFl1TkRrNU1UZ3NMVFF1TmpnM05qUWdNamd1TURrMk9Ea3NNaTQ1TURRek0yTXhNUzQxT1RjM05pdzNMalU1TVRrMUlERTNMamd5TWpBeUxERTRMall3TURZMklERXpMamt3TWpJMkxESTBMalU0T0RaakxUTXVPVEU1TnpNc05TNDVPRGM1T0NBdE1UWXVORGs1TWpJc05DNDJPRGMyTkNBdE1qZ3VNRGsyT1RNc0xUSXVPVEEwTXpONlRURTVNeTR4TVRZMU5Dd3lNell1TWpBeE9XTXRNaTQwTlRRNU9Dd3pMamMxTURNM0lERXVORFF6TXpNc01UQXVOalExTXpFZ09DNDNNRGN4T0N3eE5TNDBNREF5T1dNM0xqSTJNemczTERRdU56VTBPVGdnTVRVdU1UUXlOVGtzTlM0MU5qa3pPU0F4Tnk0MU9UYzFOeXd4TGpneE9UQXlZekl1TkRVMU1ESXNMVE11TnpVd016WWdMVEV1TkRRek16TXNMVEV3TGpZME5UTXlJQzA0TGpjd056RTVMQzB4TlM0ME1EQXlPV010Tnk0eU5qTTROeXd0TkM0M05UUTVPQ0F0TVRVdU1UUXlOVGtzTFRVdU5UWTVNemdnTFRFM0xqVTVOelUzTEMweExqZ3hPVEF4ZWlJZ1pHRjBZUzF3WVhCbGNpMWtZWFJoUFNKN0puRjFiM1E3YVc1a1pYZ21jWFZ2ZERzNmJuVnNiSDBpTHo0OGNHRjBhQ0JrUFNKTk1qRXpMamN6TmpJeExESTFOQzR4TVRRMU1tTXRNaTR3TXpnek5Dd3dMakV6TURjNElDMHpMak0zTlRneExDMHhMakl6TlRnMklDMHpMalV5TWpJc0xUTXVOVEUzTWpaakxUQXVNVFEyTXprc0xUSXVNamd4TkNBeExqQXdNelFzTFRNdU9EUXdPVGdnTXk0d05ERTFMQzB6TGprM01UYzRZemd1TWpRM01UZ3NMVEF1TlRJNU1qY2dNamt1TkRnek5UZ3NMVEV1T0RreU16VWdNek11TnpreE16a3NMVEl1TVRZNE9HTXhMalE1TWpFc0xUQXVNRGsxT0RFZ01pNDVNams1TXl3eExqUTJPRE0zSURNdU1UQXhNVEVzTXk0MU56YzFZekF1TVRjeE1UY3NNaTR4TURreE1TQXRNUzR3TmpBME1Td3pMamd4TVRNZ0xUSXVORGt6T1RNc015NDVNRE16TkdNdE5DNHlORFF6TERBdU1qY3lORElnTFRJMUxqWXpORGM1TERFdU5qUTFNelVnTFRNekxqa3hOemcyTERJdU1UYzNlaUlnWkdGMFlTMXdZWEJsY2kxa1lYUmhQU0o3Sm5GMWIzUTdhVzVrWlhnbWNYVnZkRHM2Ym5Wc2JIMGlMejQ4Y0dGMGFDQmtQU0pOTWpVNUxqSTVPVE0zTERJMU9DNDBNakEyTW1NdE1UTXVOVFk1TVRnc01pNDRNekkxTXlBdE1qVXVOelUwTnpRc0xUQXVOVFV3TmpNZ0xUSTNMakl4TnpFMUxDMDNMalUxTmpRMVl5MHhMalEyTWpRNExDMDNMakF3TlRneElEZ3VNelV5TURJc0xURTBMams0TVRNMElESXhMamt5TVRFM0xDMHhOeTQ0TVRNNE5HTXhNeTQxTmpreE9Dd3RNaTQ0TXpJMU1pQXlOUzQzTlRRM05Dd3dMalUxTURVNElESTNMakl4TnpFMUxEY3VOVFUyTkdNeExqUTJNalE0TERjdU1EQTFPREVnTFRndU16VXlNRFVzTVRRdU9UZ3hNellnTFRJeExqa3lNVElzTVRjdU9ERXpPRFo2VFRJMU9DNHpOekUwTml3eU5UTXVPVGMxTXpSak9DNDBPVGcxT1N3dE1TNDNOelF3TlNBeE5DNDJORFUxTnl3dE5pNDNOamt5TnlBeE15NDNNamsxT1N3dE1URXVNVFUzTVRKakxUQXVPVEUxT1RVc0xUUXVNemczT0RnZ0xUZ3VOVFEzT1Rjc0xUWXVOVEEyT0NBdE1UY3VNRFEyTlRZc0xUUXVOek15TnpSakxUZ3VORGs0TlRrc01TNDNOelF3TlNBdE1UUXVOalExTlRjc05pNDNOamt5TnlBdE1UTXVOekk1TlRrc01URXVNVFUzTVRKak1DNDVNVFU1Tnl3MExqTTROemcwSURndU5UUTNPVGNzTmk0MU1EWTRJREUzTGpBME5qVTJMRFF1TnpNeU56UjZJaUJrWVhSaExYQmhjR1Z5TFdSaGRHRTlJbnNtY1hWdmREdHBibVJsZUNaeGRXOTBPenB1ZFd4c2ZTSXZQanh3WVhSb0lHUTlJazB5TmpRdU5qTXlOalFzTWpRMkxqRXdPVEV4WXkweExqTTBPRGcxTERFdU5UTXpPREVnTFRNdU1qWXdPVFlzTVM0MU1UTXhPQ0F0TkM0NU56YzJOaXd3TGpBd016VmpMVEV1TnpFMk55d3RNUzQxTURrMk55QXRNaTR3TURZME5pd3RNeTQwTWpVME9DQXRNQzQyTlRjNExDMDBMamsxT1RFell6VXVORFUzTXpnc0xUWXVNakExT0RrZ01Ua3VOVEE1T1RVc0xUSXlMakU0TmpFeklESXlMak0yTURVMUxDMHlOUzQwTWpjM1l6QXVPVGczTXpNc0xURXVNVEl5T0RJZ015NHhNVEF3T0N3dE1TNHdNek0wTnlBMExqY3lNalE1TERBdU16TTJPRFpqTVM0Mk1USTBNU3d4TGpNM01ETXlJREV1T1RRMU1Ua3NNeTQwTkRRNE5DQXdMams1TmpZc05DNDFNak0xTm1NdE1pNDRNRGcxTlN3ekxqRTVNemdnTFRFMkxqazJNekV4TERFNUxqSTRPVGszSUMweU1pNDBORFF4T1N3eU5TNDFNakk1TW5vaUlHUmhkR0V0Y0dGd1pYSXRaR0YwWVQwaWV5WnhkVzkwTzJsdVpHVjRKbkYxYjNRN09tNTFiR3g5SWk4K1BIQmhkR2dnWkQwaVRUSTVNeTR4TVRJME15d3lNRFV1T1RBeE5ETmpOaTQyT1RrM05Td3hNaTR4TXpVd05DQTNMakExTVRnMkxESTBMamMzTmpZeElEQXVOemcyTkRnc01qZ3VNak0xTjJNdE5pNHlOalV6TlN3ekxqUTFPVEV6SUMweE5pNDNOelUyTkN3dE15NDFOelF4TlNBdE1qTXVORGMxTXpVc0xURTFMamN3T1RFNFl5MDJMalk1T1RjMUxDMHhNaTR4TXpVd015QXROeTR3TlRFNU1Td3RNalF1TnpjMk5Ua2dMVEF1TnpnMk5UTXNMVEk0TGpJek5UWTNZell1TWpZMU16VXNMVE11TkRVNU1UUWdNVFl1TnpjMU5qY3NNeTQxTnpReE55QXlNeTQwTnpVek9Dd3hOUzQzTURreWVrMHlPRGt1TVRNMk9UY3NNakE0TGpBNU5qSTFZeTAwTGpFNU5qRTFMQzAzTGpZd01ETTRJQzB4TUM0M056ZzVOQ3d0TVRJdU1EQTFORE1nTFRFMExqY3dNekF4TEMwNUxqZ3pPRGt5WXkwekxqa3lOREV5TERJdU1UWTJORGtnTFRNdU56QXpOVGdzTVRBdU1EZzBNVElnTUM0ME9USTFPQ3d4Tnk0Mk9EUTFZelF1TVRrMk1UVXNOeTQyTURBek9DQXhNQzQzTnpnNU5Dd3hNaTR3TURVME15QXhOQzQzTURNd01pdzVMamd6T0RreFl6TXVPVEkwTURnc0xUSXVNVFkyTlRJZ015NDNNRE0xTnl3dE1UQXVNRGcwTVRJZ0xUQXVORGt5TlRnc0xURTNMalk0TkRWNklpQmtZWFJoTFhCaGNHVnlMV1JoZEdFOUluc21jWFZ2ZER0cGJtUmxlQ1p4ZFc5ME96cHVkV3hzZlNJdlBqeHdZWFJvSUdROUlrMHlOemd1T0RJMU1EUXNNakF3TGpVME1UWTNZekV1T0RZeU56a3NNQzQ0TXpjNE15QXlMalF3TlRjc01pNDJOekV6TXlBeExqUTJOems0TERRdU56VTJNalpqTFRBdU9UTTNOeklzTWk0d09EUTVNeUF0TWk0Mk9ETTBOaXd5TGpreU5UVTJJQzAwTGpVME5qQTFMREl1TURnM09EZGpMVGN1TlRNMk9UUXNMVE11TXpnNU56WWdMVEkyTGprME5EWXNMVEV5TGpFeE9ERTRJQzB6TUM0NE9ERTBOQ3d0TVRNdU9EZzROemxqTFRFdU16WXpOaklzTFRBdU5qRXpNalFnTFRFdU9UQXlPRE1zTFRJdU5qWTRNeUF0TVM0d05qYzJNU3d0TkM0Mk1USTFOR013TGpnek5USTBMQzB4TGprME5ESTBJREl1TnpFNU9UZ3NMVEl1T0RjeU5qZ2dOQzR3TXpBd055d3RNaTR5T0RNMVl6TXVPRGM0T0RFc01TNDNORFEwTnlBeU15NDBNamN5Tml3eE1DNDFNell5TmlBek1DNDVPVGN3Tml3eE15NDVOREEzTVhvaUlHUmhkR0V0Y0dGd1pYSXRaR0YwWVQwaWV5WnhkVzkwTzJsdVpHVjRKbkYxYjNRN09tNTFiR3g5SWk4K1BIQmhkR2dnWkQwaVRUSTBNQzR6TmpjNU1Td3lNREl1TlRFME56RmpMVEV6TGpnMU1EZ3lMREF1TlRRM05EY2dMVEkxTGpNd09ETTJMQzAwTGpnd05UazFJQzB5TlM0MU9UQTVPQ3d0TVRFdU9UVTNNakZqTFRBdU1qZ3lOamNzTFRjdU1UVXhNalFnTVRBdU56RTJOVE1zTFRFekxqTTVNakkySURJMExqVTJOek01TEMweE15NDVNemszWXpFekxqZzFNRGd4TEMwd0xqVTBOelEzSURJMUxqTXdPRE15TERRdU9EQTFPVFFnTWpVdU5Ua3dPVFFzTVRFdU9UVTNNVGxqTUM0eU9ESTJOeXczTGpFMU1USTBJQzB4TUM0M01UWTFNaXd4TXk0ek9USXpJQzB5TkM0MU5qY3pPQ3d4TXk0NU16azNOSHBOTWpVMUxqVTNOVFE0TERFNE9TNHlORFkwT1dNdE1DNHhOemNzTFRRdU5EYzRPVFFnTFRjdU16VXpNRElzTFRjdU9ETXhPRGdnTFRFMkxqQXlPREEwTEMwM0xqUTRPV010T0M0Mk56VXdNU3d3TGpNME1qZzVJQzB4TlM0MU5qUXNOQzR5TlRFM05TQXRNVFV1TXpnMk9UY3NPQzQzTXpBM01XTXdMakUzTnl3MExqUTNPRGswSURjdU16VXpNRElzTnk0NE16RTRPQ0F4Tmk0d01qZ3dOQ3czTGpRNE9XTTRMalkzTlRBeExDMHdMak0wTWpnNElERTFMalUyTXprM0xDMDBMakkxTVRjM0lERTFMak00TmprM0xDMDRMamN6TURjeGVpSWdaR0YwWVMxd1lYQmxjaTFrWVhSaFBTSjdKbkYxYjNRN2FXNWtaWGdtY1hWdmREczZiblZzYkgwaUx6NDhjR0YwYUNCa1BTSk5Nak0zTGpBek16azVMREU1TUM0Mk5qRTFOR010TVM0eU9UZzNNU3d4TGpnNE1UTTRJQzB6TGpFME9EVTBMREl1TXpZMU56SWdMVFF1T0RJNU5Ea3NNUzR5TURVek9XTXROaTQ0TXpBMk5Dd3ROQzQzTVRVek15QXRNalF1TkRjd016SXNMVEUyTGpnNU1qTXpJQzB5Tnk0NU56QXpPU3d0TVRrdU16QTRORGxqTFRFdU1UZ3lNVFVzTFRBdU9ERTJNRGtnTFRFdU16WXpNVEVzTFRJdU9UQTVNeUF0TUM0eE16RTNOU3d0TkM0Mk16QXhOMk14TGpJek1UTTJMQzB4TGpjeU1EZzNJRE11TWpZNE9EZ3NMVEl1TXpJek1EUWdOQzQwT1Rrek15d3RNUzQwTnpNMll6TXVOVFV5TkRZc01pNDBOVEl5T0NBeU1TNHdOalV3Tnl3eE5DNDFOREUySURJM0xqZzJOakUwTERFNUxqSXpOalF6WXpFdU5qZ3dOek1zTVM0eE5qQXlNaUF4TGpnMk5EZzRMRE11TURnNU1EVWdNQzQxTmpZeE55dzBMamszTURRemVpSWdaR0YwWVMxd1lYQmxjaTFrWVhSaFBTSjdKbkYxYjNRN2FXNWtaWGdtY1hWdmREczZiblZzYkgwaUx6NDhjR0YwYUNCa1BTSk5NVGt3TGpFNU1UZzRMREUyT0M0d05EQTFObU10T0M0Mk56STFOU3d0TVRBdU9ERXpOVEVnTFRFeExqRTNOekV4TEMweU15NHlNRGsxTkNBdE5TNDFPVFFzTFRJM0xqWTROekU0WXpVdU5UZ3pNRFlzTFRRdU5EYzNOamNnTVRjdU1UTTVOVEVzTUM0Mk5UZzFPQ0F5TlM0NE1USXdOaXd4TVM0ME56SXhOR000TGpZM01qVTFMREV3TGpneE16VXhJREV4TGpFM056RXNNak11TWpBNU5URWdOUzQxT1RNNU9Td3lOeTQyT0RjeE5XTXROUzQxT0RNd05pdzBMalEzTnpZM0lDMHhOeTR4TXprMU5Dd3RNQzQyTlRnMU5pQXRNalV1T0RFeU1EZ3NMVEV4TGpRM01qRXhlazB4T1RNdU56TTBNelFzTVRZMUxqRTVPVFF4WXpVdU5ETXhOellzTmk0M056STNJREV5TGpZMk9UYzNMRGt1T1RnNU5UZ2dNVFl1TVRZMk5UWXNOeTR4T0RVeE4yTXpMalE1TmpjNUxDMHlMamd3TkRReElERXVPVEk0TVRVc0xURXdMalUyT0RJeUlDMHpMalV3TXpZeExDMHhOeTR6TkRBNU1tTXROUzQwTXpFM05pd3ROaTQzTnpJM0lDMHhNaTQyTmprM055d3RPUzQ1T0RrMk1pQXRNVFl1TVRZMk5UUXNMVGN1TVRnMU1UZGpMVE11TkRrMk56Z3NNaTQ0TURRME1TQXRNUzQ1TWpneE5Td3hNQzQxTmpneU1pQXpMalV3TXpZc01UY3VNelF3T1RONklpQmtZWFJoTFhCaGNHVnlMV1JoZEdFOUluc21jWFZ2ZER0cGJtUmxlQ1p4ZFc5ME96cHVkV3hzZlNJdlBqeHdZWFJvSUdROUlrMHhPVFF1T1RnMk1qY3NNVFUyTGpRMU5EY3hZeTB5TGpFMU56SXlMQzB3TGpjMU5qY3pJQzB6TGpFeE1qRXpMQzB5TGpReE16UXpJQzB5TGpRek5qQTBMQzAwTGpNME1EZ3lZekl1TnpRM05qRXNMVGN1T0RNeU1UWWdPUzQ0TkRNd05pd3RNamd1TURVNE1UZ2dNVEV1TWpVd09UVXNMVE15TGpBM01UUXpZekF1TkRjMU5UTXNMVEV1TXpVMU5EY2dNaTQwTkRZNU55d3RNaTR3T0RFNU1pQTBMalF6TVRZc0xURXVNelEzT0RKak1TNDVPRFEyTkN3d0xqY3pOREVnTXk0eE1ESTJPU3d5TGpVME1EYzFJREl1TmpBM056RXNNeTQ1TlRFMk1tTXRNUzQwTWpnNU1pdzBMakEzTXpNeElDMDRMalEzTXpNeExESTBMakUxTXpZMElDMHhNUzR5TURnNU5Dd3pNUzQ1TlRFNE5tTXRNQzQyTnpZd05Td3hMamt5TnpFMklDMHlMalE0T0RBNExESXVOakV6TXpJZ0xUUXVOalExTXl3eExqZzFOalo2SWlCa1lYUmhMWEJoY0dWeUxXUmhkR0U5SW5zbWNYVnZkRHRwYm1SbGVDWnhkVzkwT3pwdWRXeHNmU0l2UGp4d1lYUm9JR1E5SWsweU1EY3VPVGM1TkRZc01UQTJMamd5TWpBM1l6RXdMalkzTkRjekxDMDRMamcwTWpneElESXpMakF5T1RVeExDMHhNUzQxTkRNME9TQXlOeTQxT1RVd055d3ROaTR3TXpJd00yTTBMalUyTlRVNExEVXVOVEV4TkRFZ0xUQXVNemcyT1RFc01UY3VNVFEzT0NBdE1URXVNRFl4Tmpnc01qVXVPVGt3TmpGakxURXdMalkzTkRjeExEZ3VPRFF5T0NBdE1qTXVNREk1TkRjc01URXVOVFF6TkRnZ0xUSTNMalU1TlRBeUxEWXVNRE15TURKakxUUXVOVFkxTlRrc0xUVXVOVEV4TkNBd0xqTTROamczTEMweE55NHhORGM0TXlBeE1TNHdOakUyTkN3dE1qVXVPVGt3TmpSNlRUSXdNeTQ1TkRnekxERXlOaTQxT1RjME5tTXlMamcxT1RRMkxETXVORFV4T1NBeE1DNDFPVGMwTml3eExqYzJNRFExSURFM0xqSTRNekl6TEMwekxqYzNOemsxWXpZdU5qZzFOemdzTFRVdU5UTTRNemtnT1M0M09EYzFPU3d0TVRJdU9ESTJORGNnTmk0NU1qZ3dPU3d0TVRZdU1qYzRNemhqTFRJdU9EVTVORFlzTFRNdU5EVXhPU0F0TVRBdU5UazNORFlzTFRFdU56WXdORFVnTFRFM0xqSTRNekl6TERNdU56YzNPVFJqTFRZdU5qZzFOemdzTlM0MU16Z3pPU0F0T1M0M09EYzFOU3d4TWk0NE1qWTBPQ0F0Tmk0NU1qZ3dPU3d4Tmk0eU56Z3pPSG9pSUdSaGRHRXRjR0Z3WlhJdFpHRjBZVDBpZXlaeGRXOTBPMmx1WkdWNEpuRjFiM1E3T201MWJHeDlJaTgrUEhCaGRHZ2daRDBpVFRJeU1DNHhOVEEyT0N3eE1URXVNelV6TkRSak1DNHdNVFExT0N3dE1pNHlPRFl3TlNBeExqSTNNVEF4TEMwekxqY3lOelV6SURNdU16RXpOVEVzTFRNdU56RTBOVE5qT0M0eU9UazVOU3d3TGpBMU16QTRJREk1TGpjek5Dd3dMakU1TURFeElETXpMams0TmprMkxEQXVNakUzTXpGak1TNDBNelkwTlN3d0xqQXdPVElnTWk0M05qUXhOU3d4TGpZek56VTBJREl1TnpFME9Ea3NNeTQzTlRNd01tTXRNQzR3TkRreU5pd3lMakV4TlRRNElDMHhMak01TkRRNUxETXVOelU1T1RnZ0xUSXVPRGc1TmpRc015NDNOVEF6T1dNdE5DNHpNVFkxT0N3dE1DNHdNamMxTnlBdE1qVXVOVGsyTWpVc0xUQXVNVFl6TmpVZ0xUTXpMamcyTURJeUxDMHdMakl4TmpRell5MHlMakEwTWpJM0xDMHdMakF4TXpBMUlDMHpMakk0TURBNExDMHhMalV3TXpjeUlDMHpMakkyTlRVc0xUTXVOemc1TnpkNklpQmtZWFJoTFhCaGNHVnlMV1JoZEdFOUluc21jWFZ2ZER0cGJtUmxlQ1p4ZFc5ME96cHVkV3hzZlNJdlBqeHdZWFJvSUdROUlrMHlOekV1TXpFeE9ERXNNVEEzTGpVeE1URTVZekV4TGpnek1UazNMRGN1TWpJeE5EVWdNVGd1TkRBeE1qTXNNVGd1TURJM09Ea2dNVFF1TmpjeU56SXNNalF1TVRNMk56aGpMVE11TnpJNE5EVXNOaTR4TURnNU1TQXRNVFl1TXpReU56RXNOUzR5TURZNU5pQXRNamd1TVRjME55d3RNaTR3TVRRMU1tTXRNVEV1T0RNeE9UZ3NMVGN1TWpJeE5EUWdMVEU0TGpRd01USXlMQzB4T0M0d01qYzROaUF0TVRRdU5qY3lOekVzTFRJMExqRXpOamMwWXpNdU56STRORFlzTFRZdU1UQTRPVEVnTVRZdU16UXlOek1zTFRVdU1qQTNJREk0TGpFM05EY3lMREl1TURFME5EaDZUVEkxTVM0eU9UazNPU3d4TVRBdU1USTFOalpqTFRJdU16TTFNak1zTXk0NE1qWXdPQ0F4TGpjM09URTVMREV3TGpVNU5ETXpJRGt1TVRnNU56WXNNVFV1TVRFM01qVmpOeTQwTVRBMU55dzBMalV5TWpreklERTFMak14TVRBNUxEVXVNRGczT0RFZ01UY3VOalEyTXpFc01TNHlOakUyT1dNeUxqTXpOVEl6TEMwekxqZ3lOakE0SUMweExqYzNPVEU1TEMweE1DNDFPVFF6TXlBdE9TNHhPRGszTml3dE1UVXVNVEUzTWpWakxUY3VOREV3TlRjc0xUUXVOVEl5T1RNZ0xURTFMak14TVRBNExDMDFMakE0TnpjM0lDMHhOeTQyTkRZek1Td3RNUzR5TmpFMk9Yb2lJR1JoZEdFdGNHRndaWEl0WkdGMFlUMGlleVp4ZFc5ME8ybHVaR1Y0Sm5GMWIzUTdPbTUxYkd4OUlpOCtQQzluUGp3dlp6NDhMM04yWno0PSI7CgogIGNsYXNzIFNQc3ByaXRlUGFyZW50IHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmxpbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0KCiAgICBnZXRJbmZvKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiU1BzcHJpdGVQYXJlbnQiLAogICAgICAgIG5hbWU6ICJTcHJpdGUgUGFyZW50aW5nIiwKICAgICAgICBjb2xvcjE6ICIjNEIyMUNDIiwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBibG9ja0ljb25VUkksCiAgICAgICAgYmxvY2tzOiBbCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJMaW5raW5nIiB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtYWtlTGluayIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogIm1ha2UgbmV3IHNwcml0ZSBmYW1pbHkgbmFtZWQgW05BTUVdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkZWxldGVMaW5rIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAiZGVsZXRlIHNwcml0ZSBmYW1pbHkgbmFtZWQgW05BTUVdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkZWxldGVBbGwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJkZWxldGUgYWxsIHNwcml0ZSBmYW1pbGllcyIsCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImFkZFNwcml0ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogImFkb3B0IFtOQU1FXSB0byBmYW1pbHkgbmFtZWQgW0xJTktdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTElOSzogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIlRBUkdFVFMiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmVtb3ZlU3ByaXRlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAiZGlzb3duIFtOQU1FXSBmcm9tIGZhbWlseSBuYW1lZCBbTElOS10iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBMSU5LOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICJMaW5rIDEiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiVEFSR0VUUyIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImxpbmtFeGlzdHMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJmYW1pbHkgbmFtZWQgW05BTUVdIGV4aXN0cz8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICJMaW5rIDEiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiY29udGVudHNMaW5rIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogImNoaWxkcmVuIG9mIGZhbWlseSBuYW1lZCBbTkFNRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICJMaW5rIDEiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogIlBhcmVudCBTcHJpdGVzIiB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJsaW5rTWFzdGVyIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAibWFrZSBbTkFNRV0gdGhlIHBhcmVudCBvZiBmYW1pbHkgbmFtZWQgW0xJTktdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIlRBUkdFVFMiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBMSU5LOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICJMaW5rIDEiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAid2hvTWFzdGVyIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogInBhcmVudCBvZiBmYW1pbHkgbmFtZWQgW0xJTktdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTElOSzogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJQYXJlbnQgRnVuY3Rpb25zIiB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVMaW5rIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiAic3RlcCBbVFlQRV0gb2Ygc3ByaXRlcyBpbiBmYW1pbHkgbmFtZWQgW0xJTktdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTElOSzogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgVFlQRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkNPTlRST0xUWVBFIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInVwZGF0ZUFsbCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInN0ZXAgW1RZUEVdIG9mIGFsbCBzcHJpdGUgZmFtaWxpZXMiLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiQ09OVFJPTFRZUEUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyZWZyZXNoTGluayIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInJlZnJlc2ggc3ByaXRlcyBpbiBmYW1pbHkgbmFtZWQgW0xJTktdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTElOSzogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiTGluayAxIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlZnJlc2hBbGwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJyZWZyZXNoIGFsbCBzcHJpdGUgZmFtaWxpZXMiCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBtZW51czogewogICAgICAgICAgVEFSR0VUUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiAiX2dldFRhcmdldHMiLAogICAgICAgICAgfSwKICAgICAgICAgIENPTlRST0xUWVBFOiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwKICAgICAgICAgICAgaXRlbXM6IFsKICAgICAgICAgICAgICAiZXZlcnl0aGluZyIsICJ4IGFuZCB5IiwgImRpcmVjdGlvbiIsCiAgICAgICAgICAgICAgInNpemUiLCAiZWZmZWN0cyIsICJ2aXNpYmlsaXR5IgogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9OwogICAgfQoKICAgIG1ha2VMaW5rKGFyZ3MpIHsgdGhpcy5saW5rc1thcmdzLk5BTUVdID0ge30gfQoKICAgIGRlbGV0ZUxpbmsoYXJncykgeyBkZWxldGUgdGhpcy5saW5rc1thcmdzLk5BTUVdIH0KCiAgICBkZWxldGVBbGwoYXJncykgeyB0aGlzLmxpbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKSB9CgogICAgYWRkU3ByaXRlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbGluayA9IHRoaXMubGlua3NbYXJncy5MSU5LXTsKICAgICAgaWYgKCFsaW5rKSB0aGlzLmxpbmtzW2FyZ3MuTElOS10gPSB7fTsKICAgICAgY29uc3QgdGFyZ2V0ID0gYXJncy5OQU1FID09PSAiX215c2VsZl8iID8gdXRpbC50YXJnZXQgOiBydW50aW1lLmdldFNwcml0ZVRhcmdldEJ5TmFtZShhcmdzLk5BTUUpOwogICAgICBpZiAodGFyZ2V0KSB0aGlzLmxpbmtzW2FyZ3MuTElOS11bdGFyZ2V0LmlkXSA9IFt0YXJnZXQsIHRhcmdldC54LCB0YXJnZXQueV07CiAgICB9CgogICAgcmVtb3ZlU3ByaXRlKGFyZ3MsIHV0aWwpIHsKICAgICAgY29uc3QgbGluayA9IHRoaXMubGlua3NbYXJncy5MSU5LXTsKICAgICAgaWYgKGxpbmspIHsKICAgICAgICBjb25zdCB0YXJnZXQgPSBhcmdzLk5BTUUgPT09ICJfbXlzZWxmXyIgPyB1dGlsLnRhcmdldCA6IHJ1bnRpbWUuZ2V0U3ByaXRlVGFyZ2V0QnlOYW1lKGFyZ3MuTkFNRSk7CiAgICAgICAgaWYgKHRhcmdldCkgZGVsZXRlIHRoaXMubGlua3NbYXJncy5MSU5LXVt0YXJnZXQuaWRdOwogICAgICB9CiAgICB9CgogICAgbGlua0V4aXN0cyhhcmdzKSB7IHJldHVybiBTY3JhdGNoLkNhc3QudG9Cb29sZWFuKHRoaXMubGlua3NbYXJncy5OQU1FXSkgfQoKICAgIGNvbnRlbnRzTGluayhhcmdzKSB7CiAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLmxpbmtzW2FyZ3MuTkFNRV07CiAgICAgIGlmIChsaW5rICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zdCBzcHJpdGVOYW1lcyA9IE9iamVjdC5rZXlzKGxpbmspLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAiU1BsaW5rTWFzdGVyIikKICAgICAgICAgIC5tYXAoa2V5ID0+IHsKICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gbGlua1trZXldWzBdOwogICAgICAgICAgICBjb25zdCBuYW1lID0gc3ByaXRlLmdldE5hbWUoKTsKICAgICAgICAgICAgaWYgKCFzcHJpdGUuaXNPcmlnaW5hbCkgcmV0dXJuIG5hbWUgKyAiIChDbG9uZSkiOwogICAgICAgICAgICBlbHNlIHJldHVybiBuYW1lOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzcHJpdGVOYW1lcyk7CiAgICAgIH0gZWxzZSB7IHJldHVybiAiVGhpcyBGYW1pbHkgRG9lc24ndCBFeGlzdCIgfQogICAgfQoKICAgIGxpbmtNYXN0ZXIoYXJncywgdXRpbCkgewogICAgICBjb25zdCBsaW5rID0gdGhpcy5saW5rc1thcmdzLkxJTktdOwogICAgICBpZiAoIWxpbmspIHRoaXMubGlua3NbYXJncy5MSU5LXSA9IHt9OwogICAgICBjb25zdCB0YXJnZXQgPSBhcmdzLk5BTUUgPT09ICJfbXlzZWxmXyIgPyB1dGlsLnRhcmdldCA6IHJ1bnRpbWUuZ2V0U3ByaXRlVGFyZ2V0QnlOYW1lKGFyZ3MuTkFNRSk7CiAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICB0aGlzLmxpbmtzW2FyZ3MuTElOS10uU1BsaW5rTWFzdGVyID0gewogICAgICAgICAgc3ByaXRlOiB0YXJnZXQuZ2V0TmFtZSgpLAogICAgICAgICAgaWQ6IHRhcmdldC5pZCwKICAgICAgICAgIGRpcmVjdGlvbjogdGFyZ2V0LmRpcmVjdGlvbiwKICAgICAgICAgIHNpemU6IHRhcmdldC5zaXplLAogICAgICAgICAgc2hvdzogdGFyZ2V0LnZpc2libGUsCiAgICAgICAgICBlZmZlY3RzOiB0YXJnZXQuZWZmZWN0cwogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICB1cGRhdGVNYXN0ZXIoKSB7CiAgICAgIGZvciAoY29uc3QgbGluayBpbiB0aGlzLmxpbmtzKSB7CiAgICAgICAgY29uc3QgbmV3TGluayA9IHRoaXMubGlua3NbbGlua107CiAgICAgICAgaWYgKG5ld0xpbmsuU1BsaW5rTWFzdGVyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHJ1bnRpbWUuZ2V0VGFyZ2V0QnlJZChuZXdMaW5rLlNQbGlua01hc3Rlci5pZCk7CiAgICAgICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgICAgIG5ld0xpbmsuU1BsaW5rTWFzdGVyID0gewogICAgICAgICAgICAgIHNwcml0ZTogdGFyZ2V0LmdldE5hbWUoKSwKICAgICAgICAgICAgICBpZDogdGFyZ2V0LmlkLAogICAgICAgICAgICAgIGRpcmVjdGlvbjogdGFyZ2V0LmRpcmVjdGlvbiwKICAgICAgICAgICAgICBzaXplOiB0YXJnZXQuc2l6ZSwKICAgICAgICAgICAgICBzaG93OiB0YXJnZXQudmlzaWJsZSwKICAgICAgICAgICAgICBlZmZlY3RzOiB0YXJnZXQuZWZmZWN0cwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3TGluay5TUGxpbmtNYXN0ZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgd2hvTWFzdGVyKGFyZ3MpIHsKICAgICAgaWYgKHRoaXMubGlua3NbYXJncy5MSU5LXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3QgbWFzdGVyID0gdGhpcy5saW5rc1thcmdzLkxJTktdLlNQbGlua01hc3RlcjsKICAgICAgICBpZiAobWFzdGVyICE9PSB1bmRlZmluZWQpIHJldHVybiBtYXN0ZXIuc3ByaXRlOwogICAgICB9CiAgICAgIHJldHVybiAiVGhpcyBGYW1pbHkgZG9lc250IGhhdmUgYSBQYXJlbnQiOwogICAgfQoKICAgIHJlZnJlc2goTElOSykgewogICAgICB0aGlzLnVwZGF0ZU1hc3RlcigpOwogICAgICBpZiAodGhpcy5saW5rc1tMSU5LXSkgewogICAgICAgIGxldCBsaW5rID0gdGhpcy5saW5rc1tMSU5LXTsKICAgICAgICBPYmplY3Qua2V5cyhsaW5rKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gIlNQbGlua01hc3RlciIpCiAgICAgICAgICAubWFwKGtleSA9PiB7CiAgICAgICAgICAgIC8vIGdldCBuZXcgdmFsdWVzIGZvciB0YXJnZXQKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gcnVudGltZS5nZXRUYXJnZXRCeUlkKGtleSk7CiAgICAgICAgICAgIGlmICh0YXJnZXQpIGxpbmtba2V5XSA9IFt0YXJnZXQsIHRhcmdldC54LCB0YXJnZXQueV07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICByZWZyZXNoTGluayhhcmdzKSB7IHRoaXMucmVmcmVzaChhcmdzLkxJTkspIH0KCiAgICByZWZyZXNoQWxsKCkgewogICAgICBjb25zdCBsaW5rS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMubGlua3MpOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtLZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5yZWZyZXNoKGxpbmtLZXlzW2ldKTsKICAgICAgfQogICAgfQoKICAgIHVwZGF0ZUxpbmsoYXJncykgeyB0aGlzLnVwZGF0ZShhcmdzLkxJTkssIGFyZ3MuVFlQRSkgfQoKICAgIHVwZGF0ZUFsbChhcmdzKSB7CiAgICAgIGNvbnN0IGxpbmtLZXlzID0gT2JqZWN0LmtleXModGhpcy5saW5rcyk7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua0tleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnVwZGF0ZShsaW5rS2V5c1tpXSwgYXJncy5UWVBFKTsKICAgICAgfQogICAgfQoKICAgIHVwZGF0ZShsaW5rLCBUWVBFKSB7CiAgICAgIHRoaXMudXBkYXRlTWFzdGVyKCk7CiAgICAgIGxpbmsgPSB0aGlzLmxpbmtzW2xpbmtdOwogICAgICBpZiAobGluaykgewogICAgICAgIGNvbnN0IG1hc3RlciA9IGxpbmsuU1BsaW5rTWFzdGVyOwogICAgICAgIGNvbnN0IHNwcml0ZXMgPSBPYmplY3Qua2V5cyhsaW5rKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gIlNQbGlua01hc3RlciIpOwogICAgICAgIGlmICghbWFzdGVyKSByZXR1cm4gY29uc29sZS53YXJuKCJObyBwYXJlbnQgd2FzIGFzc2lnbmVkIHRvIHRoaXMgZmFtaWx5Iik7CiAgICAgICAgY29uc3QgbWFzVGFyZ2V0ID0gcnVudGltZS5nZXRUYXJnZXRCeUlkKG1hc3Rlci5pZCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaW5rW3Nwcml0ZXNbaV1dWzBdOwogICAgICAgICAgaWYgKHRhcmdldCkgewogICAgICAgICAgICBpZiAoVFlQRSA9PT0gImV2ZXJ5dGhpbmciIHx8IFRZUEUgPT09ICJkaXJlY3Rpb24iKSB0YXJnZXQuc2V0RGlyZWN0aW9uKG1hc3Rlci5kaXJlY3Rpb24pOwogICAgICAgICAgICBpZiAoVFlQRSA9PT0gImV2ZXJ5dGhpbmciIHx8IFRZUEUgPT09ICJzaXplIikgdGFyZ2V0LnNldFNpemUobWFzdGVyLnNpemUpOwogICAgICAgICAgICBpZiAoVFlQRSA9PT0gImV2ZXJ5dGhpbmciIHx8IFRZUEUgPT09ICJ2aXNpYmlsaXR5IikgdGFyZ2V0LnNldFZpc2libGUobWFzdGVyLnNob3cpOwogICAgICAgICAgICBpZiAoVFlQRSA9PT0gImV2ZXJ5dGhpbmciIHx8IFRZUEUgPT09ICJlZmZlY3RzIikgewogICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG1hc3Rlci5lZmZlY3RzOwogICAgICAgICAgICAgIGZvciAoY29uc3QgZWZmZWN0IGluIHZhbHVlKSB0YXJnZXQuc2V0RWZmZWN0KGVmZmVjdCwgdmFsdWVbZWZmZWN0XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKFRZUEUgPT09ICJldmVyeXRoaW5nIiB8fCBUWVBFID09PSAieCBhbmQgeSIpIHRhcmdldC5zZXRYWShsaW5rW3Nwcml0ZXNbaV1dWzFdICsgbWFzVGFyZ2V0LngsIGxpbmtbc3ByaXRlc1tpXV1bMl0gKyBtYXNUYXJnZXQueSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy9UaGFuayB5b3UgTGlseU1ha2VzVGhpbmdzIGZvciB0aGlzIGJpdCBvZiBnb2xkIDozCiAgICBfZ2V0VGFyZ2V0cygpIHsKICAgICAgY29uc3Qgc3ByaXRlTmFtZXMgPSBbXTsKICAgICAgc3ByaXRlTmFtZXMucHVzaCh7IHRleHQgOiAibXlzZWxmIiwgdmFsdWU6ICJfbXlzZWxmXyIgfSk7CiAgICAgIGNvbnN0IHRhcmdldHMgPSBydW50aW1lLnRhcmdldHM7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldHNbaV07CiAgICAgICAgaWYgKHRhcmdldC5pc09yaWdpbmFsKSBzcHJpdGVOYW1lcy5wdXNoKHsgdGV4dDogdGFyZ2V0LmdldE5hbWUoKSwgdmFsdWU6IHRhcmdldC5nZXROYW1lKCkgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHNwcml0ZU5hbWVzLmxlbmd0aCA+IDAgPyBzcHJpdGVOYW1lcyA6IFsiIl07CiAgICB9CiAgfQoKICBTY3JhdGNoLmV4dGVuc2lvbnMucmVnaXN0ZXIobmV3IFNQc3ByaXRlUGFyZW50KCkpOwp9KShTY3JhdGNoKTsK","clipboard":"https://extensions.turbowarp.org/clipboard.js","Encoding":"https://extensions.turbowarp.org/encoding.js","localstorage":"https://extensions.turbowarp.org/local-storage.js","xmerclosecontrol":"https://extensions.turbowarp.org/XmerOriginals/closecontrol.js","SPmoreOPs":"data:text/javascript;base64,Ly8gTmFtZTogTW9yZSBPcGVyYXRvcnMKLy8gSUQ6IFNQbW9yZU9QcwovLyBEZXNjcmlwdGlvbjogTW9yZSBQb3dlcmZ1bCBPcGVyYXRvciBCbG9ja3MKLy8gQnk6IFNoYXJrUG9vbAoKLy8gVmVyc2lvbiBWLjEuMi4yCgooZnVuY3Rpb24gKFNjcmF0Y2gpIHsKICAidXNlIHN0cmljdCI7CiAgaWYgKCFTY3JhdGNoLmV4dGVuc2lvbnMudW5zYW5kYm94ZWQpIHRocm93IG5ldyBFcnJvcigiTW9yZSBPcGVyYXRvcnMgbXVzdCBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0kzTnk0eU1qSWlJR2hsYVdkb2REMGlOemN1TWpJeUlpQjJhV1YzUW05NFBTSXdJREFnTnpjdU1qSXlJRGMzTGpJeU1pSStQR2NnYzNSeWIydGxMVzFwZEdWeWJHbHRhWFE5SWpFd0lqNDhjR0YwYUNCa1BTSk5NaUF6T0M0Mk1URkRNaUF4T0M0ek9URWdNVGd1TXpreElESWdNemd1TmpFeElESnpNell1TmpFeElERTJMak01TVNBek5pNDJNVEVnTXpZdU5qRXhMVEUyTGpNNU1TQXpOaTQyTVRFdE16WXVOakV4SURNMkxqWXhNVk15SURVNExqZ3pNU0F5SURNNExqWXhNWG9pSUdacGJHdzlJaU0xT1dNd05Ua2lJSE4wY205clpUMGlJelEzT1dFME55SWdjM1J5YjJ0bExYZHBaSFJvUFNJMElpOCtQSEJoZEdnZ1pEMGlUVEVnTVdnM05DNHlNakoyTnpRdU1qSXlTREY2SWlCbWFXeHNQU0p1YjI1bElpOCtQSEJoZEdnZ1pEMGlUVFEwTGpNMU5pQXhOUzQwTkRWakxUTXVNamt4TFM0eU9Ua3ROaTR4T1RRZ01pNHhNalV0Tmk0ME9UTWdOUzQwTkRac0xTNDNORGdnT0M0Mk5EaG9PQzQwTXpoMk5TNDVPRFJvTFRndU9UYzNiQzB4TGpNeE5pQXhOUzR4TjJFeE1TNDVNamNnTVRFdU9USTNJREFnTUNBeExURXlMamsxTnlBeE1DNDROak1nTVRFdU9Ua2dNVEV1T1RrZ01DQXdJREV0T1M0eE5UWXROUzQxT1Rac05DNDBPRGd0TkM0ME9EaGpMamN4T0NBeUxqSXhOQ0F5TGpZNU15QXpMamt5SURVdU1UYzNJRFF1TVRJNUlETXVNamt4TGpNZ05pNHhPVFF0TWk0eE1qUWdOaTQwT1RNdE5TNDBORFpzTVM0eU9EY3RNVFF1TmpNeWFDMDRMamszTjNZdE5TNDVPRFJJTXpFdU1Xd3VPREE0TFRrdU1UZzNZeTQxTmprdE5pNDFPRElnTmk0ek56UXRNVEV1TkRZZ01USXVPVFUzTFRFd0xqZzJNU0F6TGpreUxqTXlPU0EzTGpJeE1TQXlMalV4TXlBNUxqRTFOaUExTGpVNU5Xd3ROQzQwT0RnZ05DNDBPRGxqTFM0M01Ua3RNaTR5TVRVdE1pNDJPVE10TXk0NU1pMDFMakUzTnkwMExqRXpiVGd1TURnNUlEUTFMamcyTVdFeUxqWTBJREl1TmpRZ01DQXdJREV0TWk0Mk5DMHlMalkwZGkwMUxqTTJNbWd0TlM0ek5qSmhNaTQyTkNBeUxqWTBJREFnTUNBeExUSXVOak01TFRJdU5qTTVkaTB5TGpReU4yRXlMalkwSURJdU5qUWdNQ0F3SURFZ01pNDJOQzB5TGpZMGFEVXVNell5ZGkwMUxqTTJNV0V5TGpZMElESXVOalFnTUNBd0lERWdNaTQyTXprdE1pNDJOR2d5TGpReU4yRXlMalkwSURJdU5qUWdNQ0F3SURFZ01pNDJNemtnTWk0Mk5IWTFMak0yTW1nMUxqTTJNbUV5TGpZMElESXVOalFnTUNBd0lERWdNaTQyTkNBeUxqWTBkakl1TkRJMllUSXVOalFnTWk0Mk5DQXdJREFnTVMweUxqWTBJREl1TmpSb0xUVXVNell5ZGpVdU16WXlZVEl1TmpRZ01pNDJOQ0F3SURBZ01TMHlMalkwSURJdU5qTTVlaUlnWm1sc2JEMGlJMlptWmlJdlBqd3ZaejQ4TDNOMlp6ND0iOwoKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgQ2FzdCA9IFNjcmF0Y2guQ2FzdDsKICBjb25zdCByZWdlblJlcG9ydGVycyA9IFsiU1Btb3JlT1BzX2dldExldHRlciIsICJTUG1vcmVPUHNfZ2V0SW5kZXgiXTsKICBpZiAoU2NyYXRjaC5ndWkpIFNjcmF0Y2guZ3VpLmdldEJsb2NrbHkoKS50aGVuKFNCID0+IHsKICAgIGNvbnN0IG9yaWdpbmFsQ2hlY2sgPSBTQi5zY3JhdGNoQmxvY2tzVXRpbHMuaXNTaGFkb3dBcmd1bWVudFJlcG9ydGVyOwogICAgU0Iuc2NyYXRjaEJsb2Nrc1V0aWxzLmlzU2hhZG93QXJndW1lbnRSZXBvcnRlciA9IGZ1bmN0aW9uIChibG9jaykgewogICAgICBjb25zdCByZXN1bHQgPSBvcmlnaW5hbENoZWNrKGJsb2NrKTsKICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBibG9jay5pc1NoYWRvdygpICYmIHJlZ2VuUmVwb3J0ZXJzLmluY2x1ZGVzKGJsb2NrLnR5cGUpOwogICAgfTsKICB9KTsKCiAgdm0ucnVudGltZS5vbigiUFJPSkVDVF9MT0FERUQiLCAoKSA9PiB7CiAgICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy5pc1Blbmd1aW5Nb2QpIHsKICAgICAgY29uc3Qgc3RvcmFnZSA9IHZtLnJ1bnRpbWUuZXh0ZW5zaW9uU3RvcmFnZVsiU1Btb3JlT1BzIl07CiAgICAgIGlmIChzdG9yYWdlID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmxpYnJhcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBzY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgc2NyaXB0RWxlbWVudC50ZXh0Q29udGVudCA9IHN0b3JhZ2UubGlicmFyeVtpXTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdEVsZW1lbnQpOwogICAgICB9CiAgICAgIGlzU29sdmVyQWRkZWQgPSB0cnVlOwogICAgICBsb2FkZWRMaWJyYXJ5ID0gc3RvcmFnZS5saWJyYXJ5OwogICAgICB2bS5leHRlbnNpb25NYW5hZ2VyLnJlZnJlc2hCbG9ja3MoKTsKICAgIH0KICB9KTsKCiAgLy8gQmxvY2sgcmVxdWlyZXMgYSBMaWJyYXJ5LCBMaWJyYXJ5IGlzIGZldGNoZWQgb25jZSBhbmQgc2F2ZWQgdG8gdGhlIHByb2plY3QKICBsZXQgaXNTb2x2ZXJBZGRlZCA9IGZhbHNlOwogIGxldCBsb2FkZWRMaWJyYXJ5ID0gW107CgogIGxldCB0eHRSZXBsYWNlcnMgPSB7fTsKCiAgY2xhc3MgU1Btb3JlT1BzIHsKICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJTUG1vcmVPUHMiLAogICAgICAgIG5hbWU6ICJNb3JlIE9wZXJhdG9ycyIsCiAgICAgICAgY29sb3IxOiAiIzU5QzA1OSIsCiAgICAgICAgY29sb3IyOiAiIzUwYWQ1MCIsCiAgICAgICAgY29sb3IzOiAiIzQ3OWE0NyIsCiAgICAgICAgbWVudUljb25VUkksCiAgICAgICAgYmxvY2tzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImJpdExvZ2ljIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJbQ09OMV0gW1RZUEVdIFtDT04yXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIENPTjE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuQk9PTEVBTiB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiTE9HSUMiIH0sCiAgICAgICAgICAgICAgQ09OMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5CT09MRUFOIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAid2l0aCIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiAiW1NUUklORzFdIFtUWVBFXSB3aXRoIFtTVFJJTkcyXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJhcHBsZSBiYW5hbmEiIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJXSVRIUyIgfSwKICAgICAgICAgICAgICBTVFJJTkcyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYXBwbGUiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibm9Db250YWluIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJbU1RSSU5HMV0gbm90IGNvbnRhaW5zIFtTVFJJTkcyXT8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTVFJJTkcxOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYXBwbGUiIH0sCiAgICAgICAgICAgICAgU1RSSU5HMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImJhbmFuYSIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJldmVuT2RkIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJpcyBbTlVNXSBbVFlQRV0/IiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTlVNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAyIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJFVkVOX09ERCIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJpc1ByaW1lIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICAgIHRleHQ6ICJpcyBbTlVNXSBwcmltZT8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOVU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInRpbWVQYXNzZWQiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogImhhcyBbTlVNXSBzZWNvbmRzIHBhc3NlZD8iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOVU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInR5cGVTdHJpbmciLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJbU1RSSU5HMV0gW1RZUEVdIFtTVFJJTkcyXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICIiIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJTVFJJTkciIH0sCiAgICAgICAgICAgICAgU1RSSU5HMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogInZhbHVlIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJNYXRoIiB9LAogICAgICAgICAgewogICAgICAgICAgICBmdW5jOiAidHJ5QWRkU29sdmUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBpc1NvbHZlckFkZGVkLAogICAgICAgICAgICB0ZXh0OiAiSW1wb3J0IFNwZWNpYWwgTWF0aCBCbG9ja3MiCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJldmFsTnVtIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6ICFpc1NvbHZlckFkZGVkLAogICAgICAgICAgICB0ZXh0OiAiZXZhbCBbU1RSSU5HXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZSA6ICIxICsgMSIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzb2x2ZUZvciIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiAhaXNTb2x2ZXJBZGRlZCwKICAgICAgICAgICAgdGV4dDogInNvbHZlIGZvciBbVkFSXSBpbiBbU1RSSU5HXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFZBUjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIlZBUklBQkxFUyIsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICJ4IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgU1RSSU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlIDogInggKyAxID0gMiIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkZXJpdmF0aXZlT2YiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogIWlzU29sdmVyQWRkZWQsCiAgICAgICAgICAgIHRleHQ6ICJkZXJpdmF0aXZlIG9mIFtTVFJJTkddIHdpdGggcmVzcGVjdCB0byBbVkFSXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAieF4yICsgMyp4IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgVkFSOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiVkFSSUFCTEVTIiwKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogIngiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJvb3QiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJbTl0g4oiaIFtOVU1dIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZSA6IDIgfSwKICAgICAgICAgICAgICBOVU06IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWUgOiAyNSB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImV4cG9uZW50IiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiW05VTV0gXiBbTl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlIDogMiB9LAogICAgICAgICAgICAgIE5VTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZSA6IDUgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJwZXJjZW50IiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiW05VTTFdICUgb2YgW05VTTJdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTlVNMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZSA6IDUwIH0sCiAgICAgICAgICAgICAgTlVNMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZSA6IDUwIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJsY20iLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJsY20gb2YgW05VTTFdIGFuZCBbTlVNMl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOVU0xOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiA1IH0sCiAgICAgICAgICAgICAgTlVNMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMTUgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJnY2QiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJnY2Qgb2YgW05VTTFdIGFuZCBbTlVNMl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOVU0xOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiA1IH0sCiAgICAgICAgICAgICAgTlVNMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMTUgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJuZWdhQWJzIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAibmVnYS1hYnMgb2YgW05VTUJFUl0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOVU1CRVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDUgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2ltcGxpZnlGcmFjIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAic2ltcGxpZnkgZnJhY3Rpb24gW05VTV0gLyBbREVOT01dIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTlVNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiA0IH0sCiAgICAgICAgICAgICAgREVOT006IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDggfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJyb3VuZE5lYXIiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJyb3VuZCBbTlVNQkVSXSB0byBuZWFyZXN0IFtST1VORF9UWVBFXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE5VTUJFUjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMy4xNDE1IH0sCiAgICAgICAgICAgICAgUk9VTkRfVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMyB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidHJpcGxlT3BlcmF0b3IiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJbTlVNMV0gW09QRVJBVE9SMV0gW05VTTJdIFtPUEVSQVRPUjJdIFtOVU0zXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE5VTTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgICAgICAgICBPUEVSQVRPUjE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiT1BFUkFUT1JfTUVOVSIgfSwKICAgICAgICAgICAgICBOVU0yOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgICAgICAgICAgT1BFUkFUT1IyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIk9QRVJBVE9SX01FTlUiIH0sCiAgICAgICAgICAgICAgTlVNMzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJxdWFkcnVwbGVPcGVyYXRvciIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogIltOVU0xXSBbT1BFUkFUT1IxXSBbTlVNMl0gW09QRVJBVE9SMl0gW05VTTNdIFtPUEVSQVRPUjNdIFtOVU00XSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE5VTTE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDAgfSwKICAgICAgICAgICAgICBPUEVSQVRPUjE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiT1BFUkFUT1JfTUVOVSIgfSwKICAgICAgICAgICAgICBOVU0yOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAwIH0sCiAgICAgICAgICAgICAgT1BFUkFUT1IyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIk9QRVJBVE9SX01FTlUiIH0sCiAgICAgICAgICAgICAgTlVNMzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMCB9LAogICAgICAgICAgICAgIE9QRVJBVE9SMzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJPUEVSQVRPUl9NRU5VIiB9LAogICAgICAgICAgICAgIE5VTTQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLCB0ZXh0OiAiU3RyaW5ncyIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidHJpbSIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogInRyaW0gW1NUUklOR10gYXQgW1RZUEVdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1RSSU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYXBwbGUgICAgIiB9LAogICAgICAgICAgICAgIFRZUEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBtZW51OiAiUEFEUyIsIGRlZmF1bHRWYWx1ZTogImJvdGgiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiaW5zZXJ0U3RyaW5nIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiaW5zZXJ0IFtTVFJJTkcyXSBhZnRlciBsZXR0ZXIgW05VTV0gaW4gW1NUUklORzFdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1RSSU5HMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImJhbmEiIH0sCiAgICAgICAgICAgICAgTlVNOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwgZGVmYXVsdFZhbHVlOiAzIH0sCiAgICAgICAgICAgICAgU1RSSU5HMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImFuIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInBhZGRpbmciLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJwYWQgW1NUUklORzFdIGF0IFtUWVBFXSB3aXRoIFtTVFJJTkcyXSBhdCBsZW5ndGggW05VTV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTVFJJTkcxOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYW5hbmEiIH0sCiAgICAgICAgICAgICAgVFlQRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIG1lbnU6ICJQQURTIiB9LAogICAgICAgICAgICAgIFNUUklORzI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiIiB9LAogICAgICAgICAgICAgIE5VTTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogMTAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJhbmRvbUxldHRlciIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogInJhbmRvbSBbTEVUVEVSX1RZUEVdIGxldHRlciIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIExFVFRFUl9UWVBFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgbWVudTogIkxFVFRFUl9UWVBFX01FTlUiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmFuZG9tQ2hhclJhbmdlIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAicmFuZG9tIGNoYXJhY3RlciBbT05FXSB0byBbVFdPXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE9ORTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImEiIH0sCiAgICAgICAgICAgICAgVFdPOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYyIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJybmRTdHJpbmciLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIGFsbG93RHJvcEFueXdoZXJlOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAicmFuZG9tIFtTVFJJTkcxXSBvciBbU1RSSU5HMl0gd2l0aCBbQ0hBTkNFXSUgY2hhbmNlIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1RSSU5HMTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogImZvbyIgfSwKICAgICAgICAgICAgICBTVFJJTkcyOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYmFyIiB9LAogICAgICAgICAgICAgIENIQU5DRTogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsIGRlZmF1bHRWYWx1ZTogNTAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogIndvcmRJbmRleCIsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsiY29sb3Vyc19vcGVyYXRvcnMiXSwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogImluZGV4ICNbT1JERVJdIG9mIFtTRUFSQ0hdIGluIFtTVFJJTkddIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1JERVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDIgfSwKICAgICAgICAgICAgICBTRUFSQ0g6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiYW5hbmEiIH0sCiAgICAgICAgICAgICAgU1RSSU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYXBwbGUgYmFuYW5hIGJhbmFuYSIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIi0tLSIsCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlcGxhY2VLZXkiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJyZXBsYWNlIFtLRVldICNbT1JERVJdIG9mIFtTVFJJTkddIHdpdGggW1JFUExBQ0VdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgU1RSSU5HOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAiYXBwbGUgYmFuYW5hIGJhbmFuYSIgfSwKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiYW5hbmEiIH0sCiAgICAgICAgICAgICAgT1JERVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDIgfSwKICAgICAgICAgICAgICBSRVBMQUNFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAib3JhbmdlIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlcGxhY2VLZXlzIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAicmVwbGFjZSBbS0VZXSAjW09SREVSXSB0byAjW09SREVSMl0gb2YgW1NUUklOR10gd2l0aCBbUkVQTEFDRV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTVFJJTkc6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiYW5hbmEgYmFuYW5hIG9yYW5nZSIgfSwKICAgICAgICAgICAgICBLRVk6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiYW5hbmEiIH0sCiAgICAgICAgICAgICAgT1JERVI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDEgfSwKICAgICAgICAgICAgICBPUkRFUjI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDIgfSwKICAgICAgICAgICAgICBSRVBMQUNFOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiAib3JhbmdlIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0UmVwbGFjZXIiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNldCB0ZXh0IHJlcGxhY2VyIFtURVhUXSB0byBbVkFMVUVdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVEVYVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIiR7dGV4dH0iIH0sCiAgICAgICAgICAgICAgVkFMVUU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJ3b3JsZCEiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAicmVzZXRSZXBsYWNlcnMiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInJlc2V0IHRleHQgcmVwbGFjZXJzIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYXBwbHlSZXBsYWNlcnMiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJhcHBseSB0ZXh0IHJlcGxhY2UgdG8gW1RFWFRdIiwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVEVYVDogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsIGRlZmF1bHRWYWx1ZTogIkhlbGxvICR7dGV4dH0iIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ0cmlwbGVKb2luIiwKICAgICAgICAgICAgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiam9pbiBbU1RSSU5HMV0gW1NUUklORzJdIFtTVFJJTkczXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgU1RSSU5HMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgICBTVFJJTkczOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInF1YWRydXBsZUpvaW4iLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJqb2luIFtTVFJJTkcxXSBbU1RSSU5HMl0gW1NUUklORzNdIFtTVFJJTkc0XSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFNUUklORzE6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgU1RSSU5HMjogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgICBTVFJJTkczOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9LAogICAgICAgICAgICAgIFNUUklORzQ6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZml2ZUpvaW4iLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6ICJqb2luIFtTVFJJTkcxXSBbU1RSSU5HMl0gW1NUUklORzNdIFtTVFJJTkc0XSBbU1RSSU5HNV0iLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBTVFJJTkcxOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9LAogICAgICAgICAgICAgIFNUUklORzI6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgU1RSSU5HMzogeyB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgICBTVFJJTkc0OiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORyB9LAogICAgICAgICAgICAgIFNUUklORzU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlhNTCwKICAgICAgICAgICAgeG1sOiBgCiAgICAgICAgICAgIDxibG9jayB0eXBlPSJTUG1vcmVPUHNfZm9yTGV0dGVyIj4KICAgICAgICAgICAgICA8dmFsdWUgbmFtZT0iTEVUVEVSIj48c2hhZG93IHR5cGU9IlNQbW9yZU9Qc19nZXRMZXR0ZXIiPjwvc2hhZG93PjwvdmFsdWU+CiAgICAgICAgICAgICAgPHZhbHVlIG5hbWUgPSAiSU5ERVgiPjxzaGFkb3cgdHlwZT0iU1Btb3JlT1BzX2dldEluZGV4Ij48L3NoYWRvdz48L3ZhbHVlPgogICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPSJTVFJJTkciPjxzaGFkb3cgdHlwZT0idGV4dCI+PGZpZWxkIG5hbWU9IlRFWFQiPmJhbmFuYTwvZmllbGQ+PC9zaGFkb3c+PC92YWx1ZT4KICAgICAgICAgICAgPC9ibG9jaz5gCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmb3JMZXR0ZXIiLAogICAgICAgICAgICBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTE9PUCwKICAgICAgICAgICAgdGV4dDogImZvciBlYWNoIFtMRVRURVJdIFtJTkRFWF0gaW4gW1NUUklOR10iLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsCiAgICAgICAgICAgIGFyZ3VtZW50czogeyBMRVRURVI6IHt9LCBTVFJJTkc6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLCBkZWZhdWx0VmFsdWU6ICJiYW5hbmEifSB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJnZXRMZXR0ZXIiLCBleHRlbnNpb25zOiBbImNvbG91cnNfb3BlcmF0b3JzIl0sCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsIGhpZGVGcm9tUGFsZXR0ZTogdHJ1ZSwgdGV4dDogImxldHRlciIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImdldEluZGV4IiwgZXh0ZW5zaW9uczogWyJjb2xvdXJzX29wZXJhdG9ycyJdLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLCBoaWRlRnJvbVBhbGV0dGU6IHRydWUsIHRleHQ6ICJpbmRleCIKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBtZW51czogewogICAgICAgICAgTE9HSUM6IFsiYW5kIiwgIm5hbmQiLCAib3IiLCAibm9yIiwgInhvciJdLAogICAgICAgICAgV0lUSFM6IFsic3RhcnRzIiwgImVuZHMiLCAiZW5jbG9zZXMiXSwKICAgICAgICAgIEVWRU5fT0REOiBbImV2ZW4iLCAib2RkIl0sCiAgICAgICAgICBQQURTOiBbInN0YXJ0IiwgImVuZCIsICJib3RoIl0sCiAgICAgICAgICBMRVRURVJfVFlQRV9NRU5VOiB7IGFjY2VwdFJlcG9ydGVyczogdHJ1ZSwgaXRlbXM6IFsibG93ZXJjYXNlIiwgInVwcGVyY2FzZSJdIH0sCiAgICAgICAgICBPUEVSQVRPUl9NRU5VOiBbIisiLCAiLSIsICIqIiwgIi8iXSwKICAgICAgICAgIFNUUklORzogeyBhY2NlcHRSZXBvcnRlcnM6IHRydWUsIGl0ZW1zOiBbInx8IiwgIj8/Il0gfSwKICAgICAgICAgIFZBUklBQkxFUzogWwogICAgICAgICAgICAiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJpIiwiaiIsImsiLCJsIiwibSIsIm4iLCJvIiwicCIsInEiLCJyIiwicyIsInQiLCJ1IiwidiIsInciLCJ4IiwieSIsInoiLAogICAgICAgICAgICAiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiRyIsIkgiLCJJIiwiSiIsIksiLCJMIiwiTSIsIk4iLCJPIiwiUCIsIlEiLCJSIiwiUyIsIlQiLCJVIiwiViIsIlciLCJYIiwiWSIsIloiCiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgfTsKICAgIH0KCiAgICBhc3luYyB0cnlBZGRTb2x2ZSgpIHsKICAgICAgaWYgKG5hdmlnYXRvci5vbkxpbmUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgd2luZG93LmFsZXJ0KCJUaGVzZSBCbG9ja3MgcmVxdWlyZSBhIE1hdGggTGlicmFyeSB0byB3b3JrLiBEb250IHdvcnJ5LCB0aGlzIExpYnJhcnkgaXMgbG9hZGVkIE9uY2UgKGVkaXRvcikgYW5kIGlzIFNhdmVkIHRvIHRoZSBQcm9qZWN0Iik7CiAgICAgICAgICBjb25zdCBiYXNlVVJMID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9TaGFya1Bvb2wtU1AvU2hhcmtQb29scy1FeHRlbnNpb25zL3JlZnMvaGVhZHMvbWFpbi9leHRlbnNpb24tdXRpbHMvTU8vbWF0aC0iOwogICAgICAgICAgY29uc3QgbGlua3MgPSBbImNvcmUuanMiLCAiYWxnZWJyYS5qcyIsICJjYWxjdWx1cy5qcyIsICJzb2x2ZS5qcyJdOwogICAgICAgICAgY29uc3QgdGV4dHMgPSBbXTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBTY3JhdGNoLmZldGNoKGJhc2VVUkwgKyBsaW5rc1tpXSk7CiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcigiRmV0Y2ggZmFpbGVkIik7CiAgICAgICAgICAgIGNvbnN0IHR4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTsKICAgICAgICAgICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICAgICAgICBzY3JpcHRFbGVtZW50LnRleHRDb250ZW50ID0gdHh0OwogICAgICAgICAgICB0ZXh0cy5wdXNoKHR4dCk7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0RWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgICBpc1NvbHZlckFkZGVkID0gdHJ1ZTsKICAgICAgICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIucmVmcmVzaEJsb2NrcygpOwogICAgICAgICAgbG9hZGVkTGlicmFyeSA9IHRleHRzOwogICAgICAgICAgaWYgKCFTY3JhdGNoLmV4dGVuc2lvbnMuaXNQZW5ndWluTW9kKSB2bS5ydW50aW1lLmV4dGVuc2lvblN0b3JhZ2VbIlNQbW9yZU9QcyJdID0geyBsb2FkZWQgOiB0cnVlLCBsaWJyYXJ5IDogdGV4dHMgfTsKICAgICAgICB9IGNhdGNoIHsgYWxlcnQoIkZldGNoIEZhaWxlZCwgVW5hYmxlIHRvIEltcG9ydCB0aGlzIEJsb2NrIikgfQogICAgICB9IGVsc2UgeyBhbGVydCgiWW91IE11c3QgYmUgT25saW5lIHRvIEltcG9ydCB0aGlzIEJsb2NrIikgfQogICAgfQoKICAgIGJpdExvZ2ljKGFyZ3MpIHsKICAgICAgY29uc3QgY29uMSA9IENhc3QudG9Cb29sZWFuKGFyZ3MuQ09OMSk7CiAgICAgIGNvbnN0IGNvbjIgPSBDYXN0LnRvQm9vbGVhbihhcmdzLkNPTjIpOwogICAgICBzd2l0Y2ggKGFyZ3MuVFlQRSkgewogICAgICAgIGNhc2UgImFuZCIgOiByZXR1cm4gY29uMSAmJiBjb24yOwogICAgICAgIGNhc2UgIm5hbmQiOiByZXR1cm4gIShjb24xICYmIGNvbjIpOwogICAgICAgIGNhc2UgIm9yIiA6IHJldHVybiBjb24xIHx8IGNvbjI7CiAgICAgICAgY2FzZSAibm9yIjogcmV0dXJuICEoY29uMSB8fCBjb24yKTsKICAgICAgICBjYXNlICJ4b3IiOiByZXR1cm4gY29uMSAhPT0gY29uMjsKICAgICAgfQogICAgfQoKICAgIHdpdGgoYXJncykgewogICAgICBjb25zdCBzdHJpbmcgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuU1RSSU5HMSkKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gInN0YXJ0cyIpIHJldHVybiBzdHJpbmcuc3RhcnRzV2l0aChhcmdzLlNUUklORzIpOwogICAgICBpZiAoYXJncy5UWVBFID09PSAiZW5kcyIpIHJldHVybiBzdHJpbmcuZW5kc1dpdGgoYXJncy5TVFJJTkcyKTsKICAgICAgcmV0dXJuIHN0cmluZy5zdGFydHNXaXRoKGFyZ3MuU1RSSU5HMikgJiYgc3RyaW5nLmVuZHNXaXRoKGFyZ3MuU1RSSU5HMik7CiAgICB9CgogICAgbm9Db250YWluKGFyZ3MpIHsgcmV0dXJuICF2bS5ydW50aW1lLmV4dF9zY3JhdGNoM19vcGVyYXRvcnMuY29udGFpbnMoYXJncykgfQoKICAgIHRpbWVQYXNzZWQoYXJncywgdXRpbCkgewogICAgICBjb25zdCBpZCA9IHV0aWwudGhyZWFkLmJsb2NrQ29udGFpbmVyLmdldEJsb2NrKHV0aWwudGhyZWFkLmlzQ29tcGlsZWQgPyB1dGlsLnRocmVhZC5wZWVrU3RhY2soKSA6IHV0aWwudGhyZWFkLnBlZWtTdGFja0ZyYW1lKCkub3AuaWQpPy5pZDsKICAgICAgaWYgKHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdW2lkICsgInN0YXJ0VGltZSJdICE9PSB1bmRlZmluZWQpIHJldHVybiBEYXRlLm5vdygpID4gdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF1baWQgKyAic3RhcnRUaW1lIl07CiAgICAgIGVsc2UgewogICAgICAgIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdW2lkICsgInN0YXJ0VGltZSJdID0gRGF0ZS5ub3coKSArIChDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNKSAqIDEwMDApOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHR5cGVTdHJpbmcoYXJncykgewogICAgICBpZiAoYXJncy5UWVBFID09PSAifHwiKSByZXR1cm4gYXJncy5TVFJJTkcxIHx8IGFyZ3MuU1RSSU5HMjsKICAgICAgZWxzZSByZXR1cm4gYXJncy5TVFJJTkcxID09PSAidW5kZWZpbmVkIiB8fCBhcmdzLlNUUklORzEgPT09ICJudWxsIiA/IGFyZ3MuU1RSSU5HMiA6IGFyZ3MuU1RSSU5HMTsKICAgIH0KCiAgICBldmVuT2RkKGFyZ3MpIHsKICAgICAgY29uc3QgbiA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0pOwogICAgICBpZiAoYXJncy5UWVBFID09PSAiZXZlbiIpIHJldHVybiBuICUgMiA9PT0gMAogICAgICBlbHNlIHJldHVybiBuICUgMiAhPT0gMAogICAgfQoKICAgIGlzUHJpbWUoYXJncykgewogICAgICBjb25zdCBuID0gTWF0aC5hYnMoQ2FzdC50b051bWJlcihhcmdzLk5VTSkpOwogICAgICBpZiAobiA8PSAxKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChuIDw9IDMpIHJldHVybiB0cnVlOwogICAgICBpZiAobiAlIDIgPT09IDAgfHwgbiAlIDMgPT09IDApIHJldHVybiBmYWxzZTsKICAgICAgZm9yIChsZXQgaSA9IDU7IGkgKiBpIDw9IG47IGkgKz0gNikgewogICAgICAgIGlmIChuICUgaSA9PT0gMCB8fCBuICUgKGkgKyAyKSA9PT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8vIHJlcXVpcmVzIGxvYWRpbmcgbGlicmFyeSBmaXJzdAogICAgZXZhbE51bShhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgc29sdXRpb24gPSBuZXJkYW1lcihhcmdzLlNUUklORy5yZXBsYWNlKC9ccysvZywgIiIpKS5ldmFsdWF0ZSgpLnRleHQoKTsKICAgICAgICByZXR1cm4gc29sdXRpb24gPyBgWyIke3NvbHV0aW9uLnRvU3RyaW5nKCl9Il1gIDogIk5vIHNvbHV0aW9uIGZvdW5kIjsgLy8gQ3JlYXRlIGFuIEFycmF5IGZvciBDb21wYXRpYmlsaXR5CiAgICAgIH0gY2F0Y2ggeyByZXR1cm4gInVuZGVmaW5lZCIgfQogICAgfQogICAgc29sdmVGb3IoYXJncykgewogICAgICBjb25zdCBleHByID0gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORyk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgc29sdXRpb24gPSBuZXJkYW1lci5zb2x2ZUVxdWF0aW9ucyhleHByLnJlcGxhY2UoL1xzKy9nLCAiIiksIGFyZ3MuVkFSKTsKICAgICAgICBjb25zdCBkZWNpbWFsU29scyA9IHNvbHV0aW9uLm1hcChzb2wgPT4gbmVyZGFtZXIoc29sKS5ldmFsdWF0ZSgpLnRleHQoKSk7CiAgICAgICAgcmV0dXJuIGRlY2ltYWxTb2xzLmxlbmd0aCA+IDAgPyBKU09OLnN0cmluZ2lmeShkZWNpbWFsU29scykgOiAiTm8gc29sdXRpb24gZm91bmQiOwogICAgICB9IGNhdGNoIHsgcmV0dXJuICJ1bmRlZmluZWQiIH0KICAgIH0KICAgIGRlcml2YXRpdmVPZihhcmdzKSB7CiAgICAgIGNvbnN0IGV4cHIgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuU1RSSU5HKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBzb2x1dGlvbiA9IG5lcmRhbWVyKGV4cHIucmVwbGFjZSgvXHMrL2csICIiKSkuZXZhbHVhdGUoKS50ZXh0KCk7CiAgICAgICAgcmV0dXJuIHNvbHV0aW9uID8gYFsiJHtzb2x1dGlvbi50b1N0cmluZygpfSJdYCA6ICJObyBzb2x1dGlvbiBmb3VuZCI7IC8vIENyZWF0ZSBhbiBBcnJheSBmb3IgQ29tcGF0aWJpbGl0eQogICAgICB9IGNhdGNoIHsgcmV0dXJuICJ1bmRlZmluZWQiIH0KICAgIH0KICAgIGRlcml2YXRpdmVPZihhcmdzKSB7CiAgICAgIGNvbnN0IGV4cHIgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuU1RSSU5HKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXJkYW1lcihgZGlmZigke2V4cHJ9LCAke2FyZ3MuVkFSfSlgKS50b1N0cmluZygpOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0gY2F0Y2ggeyByZXR1cm4gInVuZGVmaW5lZCIgfQogICAgfQoKICAgIHJvb3QoYXJncykgeyByZXR1cm4gTWF0aC5wb3coQ2FzdC50b051bWJlcihhcmdzLk5VTSksIDEgLyBDYXN0LnRvTnVtYmVyKGFyZ3MuTikpIH0KCiAgICBleHBvbmVudChhcmdzKSB7IHJldHVybiBNYXRoLnBvdyhDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNKSwgQ2FzdC50b051bWJlcihhcmdzLk4pKSB9CgogICAgcGVyY2VudChhcmdzKSB7IHJldHVybiBDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNMikgKiAoQ2FzdC50b051bWJlcihhcmdzLk5VTTEpICogMC4wMSkgfQoKICAgIHNpbXBsaWZ5RnJhYyhhcmdzKSB7CiAgICAgIGNvbnN0IG51bWVyYXRvciA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0pOwogICAgICBjb25zdCBkZW5vbWluYXRvciA9IENhc3QudG9OdW1iZXIoYXJncy5ERU5PTSk7CiAgICAgIGNvbnN0IGdjZCA9IChhLCBiKSA9PiAoYiA/IGdjZChiLCBhICUgYikgOiBhKTsKICAgICAgY29uc3QgZ2NkVmFsdWUgPSBnY2QobnVtZXJhdG9yLCBkZW5vbWluYXRvcik7CiAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KFtudW1lcmF0b3IgLyBnY2RWYWx1ZSwgZGVub21pbmF0b3IgLyBnY2RWYWx1ZV0pOwogICAgICByZXR1cm4gcmVzdWx0LmluY2x1ZGVzKCJudWxsIikgPyAiW3VuZGVmaW5lZF0iIDogcmVzdWx0OwogICAgfQoKICAgIGdjZChhcmdzKSB7CiAgICAgIGxldCBudW0xID0gQ2FzdC50b051bWJlcihhcmdzLk5VTTEpOwogICAgICBsZXQgbnVtMiA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0yKTsKICAgICAgd2hpbGUgKG51bTIgIT09IDApIHsKICAgICAgICBsZXQgdCA9IG51bTI7CiAgICAgICAgbnVtMiA9IG51bTEgJSBudW0yOwogICAgICAgIG51bTEgPSB0OwogICAgIH0KICAgICAgcmV0dXJuIG51bTE7CiAgICB9CgogICAgbGNtKGFyZ3MpIHsKICAgICAgY29uc3QgbnVtMSA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0xKTsKICAgICAgY29uc3QgbnVtMiA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0yKTsKICAgICAgcmV0dXJuIE1hdGguYWJzKG51bTEgKiBudW0yKSAvIHRoaXMuZ2NkKHsgTlVNMSA6IG51bTEsIE5VTTIgOiBudW0yIH0pOwogICAgfQoKICAgIG5lZ2FBYnMoeyBOVU1CRVIgfSkgeyByZXR1cm4gLU1hdGguYWJzKENhc3QudG9OdW1iZXIoTlVNQkVSKSkgfQoKICAgIHJvdW5kTmVhcihhcmdzKSB7CiAgICAgIGNvbnN0IHByZWNpc2lvbiA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoQ2FzdC50b051bWJlcihhcmdzLlJPVU5EX1RZUEUpKSk7CiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoYXJncy5OVU1CRVIgKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7CiAgICB9CgogICAgdHJpcGxlT3BlcmF0b3IoYXJncykgewogICAgICBjb25zdCBudW1zID0gW0Nhc3QudG9OdW1iZXIoYXJncy5OVU0xKSwgQ2FzdC50b051bWJlcihhcmdzLk5VTTIpLCBDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNMyldOwogICAgICByZXR1cm4gZXZhbChgJHtudW1zWzBdfSAke2FyZ3MuT1BFUkFUT1IxfSAke251bXNbMV19ICR7YXJncy5PUEVSQVRPUjJ9ICR7bnVtc1syXX1gKTsKICAgIH0KCiAgICBxdWFkcnVwbGVPcGVyYXRvcihhcmdzKSB7CiAgICAgIGNvbnN0IG51bXMgPSBbQ2FzdC50b051bWJlcihhcmdzLk5VTTEpLCBDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNMiksCiAgICAgICAgQ2FzdC50b051bWJlcihhcmdzLk5VTTMpLCBDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNNCldOwogICAgICByZXR1cm4gZXZhbChgJHtudW1zWzBdfSAke2FyZ3MuT1BFUkFUT1IxfSAke251bXNbMV19ICR7YXJncy5PUEVSQVRPUjJ9ICR7bnVtc1syXX0gJHthcmdzLk9QRVJBVE9SM30gJHtudW1zWzNdfWApOwogICAgfQoKICAgIHRyaW0oYXJncykgewogICAgICByZXR1cm4gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORylbYXJncy5UWVBFID09PSAic3RhcnQiID8gInRyaW1TdGFydCIgOiBhcmdzLlRZUEUgPT09ICJlbmQiID8gInRyaW1FbmQiIDogInRyaW0iXSgpOwogICAgfQoKICAgIHBhZGRpbmcoYXJncykgewogICAgICBjb25zdCBsZW5ndGggPSBDYXN0LnRvTnVtYmVyKGFyZ3MuTlVNKSwgc3RyaW5nID0gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORzEpOwogICAgICBpZiAoYXJncy5UWVBFID09PSAic3RhcnQiKSByZXR1cm4gc3RyaW5nLnBhZFN0YXJ0KGxlbmd0aCwgYXJncy5TVFJJTkcyKTsKICAgICAgaWYgKGFyZ3MuVFlQRSA9PT0gImVuZCIpIHJldHVybiBzdHJpbmcucGFkRW5kKGxlbmd0aCwgYXJncy5TVFJJTkcyKTsKICAgICAgcmV0dXJuIHN0cmluZy5wYWRTdGFydChzdHJpbmcubGVuZ3RoICsgKChsZW5ndGggLSBzdHJpbmcubGVuZ3RoKSAvIDIpLCBhcmdzLlNUUklORzIpLnBhZEVuZChsZW5ndGgsIGFyZ3MuU1RSSU5HMik7CiAgICB9CgogICAgaW5zZXJ0U3RyaW5nKGFyZ3MpIHsKICAgICAgY29uc3Qgc3RyaW5nMSA9IENhc3QudG9TdHJpbmcoYXJncy5TVFJJTkcxKTsKICAgICAgY29uc3Qgc3RyaW5nMiA9IENhc3QudG9TdHJpbmcoYXJncy5TVFJJTkcyKTsKICAgICAgY29uc3QgbiA9IENhc3QudG9OdW1iZXIoYXJncy5OVU0pOwogICAgICBjb25zdCBzdHJpbmcxQXJyYXkgPSBzdHJpbmcxLnNwbGl0KCIiKTsKICAgICAgc3RyaW5nMUFycmF5LnNwbGljZShuLCAwLCAuLi5zdHJpbmcyLnNwbGl0KCIiKSk7CiAgICAgIHJldHVybiBzdHJpbmcxQXJyYXkuam9pbigiIik7CiAgICB9CgogICAgcmFuZG9tTGV0dGVyKGFyZ3MpIHsKICAgICAgbGV0IGxldHRlcnMgPSAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiOwogICAgICBpZiAoYXJncy5MRVRURVJfVFlQRSA9PT0gInVwcGVyY2FzZSIpIGxldHRlcnMgPSBsZXR0ZXJzLnRvVXBwZXJDYXNlKCk7CiAgICAgIHJldHVybiBsZXR0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNikpOwogICAgfQoKICAgIHdvcmRJbmRleChhcmdzKSB7CiAgICAgIGNvbnN0IG9yZGVyID0gQ2FzdC50b051bWJlcihhcmdzLk9SREVSKTsKICAgICAgY29uc3Qgc2VhcmNoID0gQ2FzdC50b1N0cmluZyhhcmdzLlNFQVJDSCk7CiAgICAgIGNvbnN0IG9yaWdpbmFsID0gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORyk7CiAgICAgIGxldCBpbmRleCA9IC0xLCBmcm9tSW5kZXggPSAwOwoKICAgICAgaWYgKG9yZGVyIDwgMSB8fCAhc2VhcmNoKSByZXR1cm4gMDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmRlcjsgaSsrKSB7CiAgICAgICAgaW5kZXggPSBvcmlnaW5hbC5pbmRleE9mKHNlYXJjaCwgZnJvbUluZGV4KTsKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gMDsKICAgICAgICBmcm9tSW5kZXggPSBpbmRleCArIHNlYXJjaC5sZW5ndGg7CiAgICAgIH0KICAgICAgcmV0dXJuIGluZGV4ICsgMTsKICAgIH0KCiAgICByZXBsYWNlS2V5KGFyZ3MpIHsKICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGFyZ3MuS0VZLCAiZyIpOwogICAgICBsZXQgaW5kZXggPSAwOwogICAgICByZXR1cm4gQ2FzdC50b1N0cmluZyhhcmdzLlNUUklORykucmVwbGFjZShyZWdleCwgKG1hdGNoKSA9PiB7CiAgICAgICAgaW5kZXgrKzsKICAgICAgICByZXR1cm4gaW5kZXggPT09IENhc3QudG9OdW1iZXIoYXJncy5PUkRFUikgPyBhcmdzLlJFUExBQ0UgOiBtYXRjaDsKICAgICAgfSk7CiAgICB9CgogICAgcmVwbGFjZUtleXMoYXJncykgewogICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYXJncy5LRVksICJnIik7CiAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgIGNvbnN0IG9yZDEgPSBDYXN0LnRvTnVtYmVyKGFyZ3MuT1JERVIpOwogICAgICBjb25zdCBvcmQyID0gQ2FzdC50b051bWJlcihhcmdzLk9SREVSMik7CiAgICAgIGNvbnN0IG9yZGVyMiA9IG9yZDEgPiBvcmQyID8gb3JkMSA6IG9yZDI7CiAgICAgIHJldHVybiBDYXN0LnRvU3RyaW5nKGFyZ3MuU1RSSU5HKS5yZXBsYWNlKHJlZ2V4LCAobWF0Y2gpID0+IHsKICAgICAgICBpbmRleCsrOwogICAgICAgIHJldHVybiBpbmRleCA+PSBvcmQxICYmIGluZGV4IDw9IG9yZGVyMiA/IGFyZ3MuUkVQTEFDRSA6IG1hdGNoOwogICAgICB9KTsKICAgIH0KCiAgICBzZXRSZXBsYWNlcihhcmdzKSB7IHR4dFJlcGxhY2Vyc1tDYXN0LnRvU3RyaW5nKGFyZ3MuVEVYVCldID0gQ2FzdC50b1N0cmluZyhhcmdzLlZBTFVFKSB9CgogICAgcmVzZXRSZXBsYWNlcnMoKSB7IHR4dFJlcGxhY2VycyA9IHt9IH0KCiAgICBhcHBseVJlcGxhY2VycyhhcmdzKSB7CiAgICAgIGxldCB0ZXh0ID0gQ2FzdC50b1N0cmluZyhhcmdzLlRFWFQpOwogICAgICBmb3IgKGNvbnN0IHJlcGxhY2VyIGluIHR4dFJlcGxhY2VycykgewogICAgICAgIGNvbnN0IHJlcGxhY2VyVmFsID0gdHh0UmVwbGFjZXJzW3JlcGxhY2VyXTsKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKHJlcGxhY2VyLCByZXBsYWNlclZhbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRleHQ7CiAgICB9CgogICAgcmFuZG9tQ2hhclJhbmdlKGFyZ3MpIHsgCiAgICAgIGxldCBPTkUgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuT05FKS5jaGFyQ29kZUF0KDApOwogICAgICBsZXQgVFdPID0gQ2FzdC50b1N0cmluZyhhcmdzLlRXTykuY2hhckNvZGVBdCgwKTsKICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKFRXTyAtIE9ORSArIDEpICsgT05FKSk7CiAgICB9CgogICAgcm5kU3RyaW5nKGFyZ3MpIHsgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiBhcmdzLkNIQU5DRSAvIDEwMCA/IGFyZ3MuU1RSSU5HMiA6IGFyZ3MuU1RSSU5HMSB9CgogICAgdHJpcGxlSm9pbih7IFNUUklORzEsIFNUUklORzIsIFNUUklORzMgfSkgeyByZXR1cm4gYCR7U1RSSU5HMX0ke1NUUklORzJ9JHtTVFJJTkczfWAgfQogICAgcXVhZHJ1cGxlSm9pbih7IFNUUklORzEsIFNUUklORzIsIFNUUklORzMsIFNUUklORzQgfSkgeyByZXR1cm4gYCR7U1RSSU5HMX0ke1NUUklORzJ9JHtTVFJJTkczfSR7U1RSSU5HNH1gIH0KICAgIGZpdmVKb2luKHsgU1RSSU5HMSwgU1RSSU5HMiwgU1RSSU5HMywgU1RSSU5HNCwgU1RSSU5HNSB9KSB7IHJldHVybiBgJHtTVFJJTkcxfSR7U1RSSU5HMn0ke1NUUklORzN9JHtTVFJJTkc0fSR7U1RSSU5HNX1gIH0KCiAgICBmb3JMZXR0ZXIoYXJncywgdXRpbCkgewogICAgICBjb25zdCBzdHJpbmcgPSBDYXN0LnRvU3RyaW5nKGFyZ3MuU1RSSU5HKTsKICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5pbmRleCA9PT0gdW5kZWZpbmVkKSB1dGlsLnN0YWNrRnJhbWUuaW5kZXggPSAwOwogICAgICBpZiAodXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1BsZXR0ZXIgPT09IHVuZGVmaW5lZCkgdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1BsZXR0ZXIgPSAiIjsKICAgICAgaWYgKHV0aWwuc3RhY2tGcmFtZS5pbmRleCA8IHN0cmluZy5sZW5ndGgpIHsKICAgICAgICB1dGlsLnRocmVhZC5zdGFja0ZyYW1lc1swXS5TUGxldHRlciA9IHN0cmluZ1t1dGlsLnN0YWNrRnJhbWUuaW5kZXhdOwogICAgICAgIHV0aWwuc3RhY2tGcmFtZS5pbmRleCsrOwogICAgICAgIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQaW5kZXggPSB1dGlsLnN0YWNrRnJhbWUuaW5kZXg7CiAgICAgICAgdXRpbC5zdGFydEJyYW5jaCgxLCB0cnVlKTsKICAgICAgfQogICAgfQogICAgZ2V0TGV0dGVyKGFyZ3MsIHV0aWwpIHsKICAgICAgcmV0dXJuIHV0aWwudGhyZWFkLnN0YWNrRnJhbWVzWzBdLlNQbGV0dGVyID8/ICIiOwogICAgfQogICAgZ2V0SW5kZXgoYXJncywgdXRpbCkgewogICAgICByZXR1cm4gdXRpbC50aHJlYWQuc3RhY2tGcmFtZXNbMF0uU1BpbmRleCA/PyAwCiAgICB9CgogICAgLy8gSGVscGVyIEZ1bmN0aW9ucwogICAgZ2V0VW51c2VkVmFyKGV4cHJlc3Npb24pIHsKICAgICAgY29uc3QgYXZvaWRMaXN0ID0gWwogICAgICAgICJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsImkiLCJqIiwiayIsImwiLCJtIiwibiIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiIsCiAgICAgICAgIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIgogICAgICBdOwogICAgICBjb25zdCB1c2VkVmFyaWFibGVzID0gZXhwcmVzc2lvbi5zcGxpdCgiIikuZmlsdGVyKGNoYXIgPT4gL1thLXpBLVpdLy50ZXN0KGNoYXIpKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdm9pZExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIXVzZWRWYXJpYWJsZXMuaW5jbHVkZXMoYXZvaWRMaXN0W2ldKSkgcmV0dXJuIGF2b2lkTGlzdFtpXTsKICAgICAgfQogICAgICAvLyBJZiBhbGwgYXZvaWQgbGlzdCB2YXJpYWJsZXMgYXJlIHVzZWQsIGRlZmF1bHQgdG8gdW5zb2x2YWJsZSAob3ZlcmZsb3cpCiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gUGVuZ3Vpbk1vZCBTdG9yYWdlCiAgICBzZXJpYWxpemUoKSB7CiAgICAgIHJldHVybiB7IFNQbW9yZU9QcyA6IHsgbG9hZGVkIDogaXNTb2x2ZXJBZGRlZCwgbGlicmFyeSA6IGxvYWRlZExpYnJhcnkgfSB9CiAgICB9CiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7CiAgICAgIGlmIChkYXRhLlNQbW9yZU9QcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaXNTb2x2ZXJBZGRlZCA9IGRhdGEuU1Btb3JlT1BzLmxvYWRlZDsKICAgICAgICBsb2FkZWRMaWJyYXJ5ID0gZGF0YS5TUG1vcmVPUHMubGlicmFyeTsKICAgICAgICBpZiAobG9hZGVkTGlicmFyeS5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvYWRlZExpYnJhcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgIHNjcmlwdEVsZW1lbnQudGV4dENvbnRlbnQgPSBsb2FkZWRMaWJyYXJ5W2ldOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHRFbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIFNjcmF0Y2guZXh0ZW5zaW9ucy5yZWdpc3RlcihuZXcgU1Btb3JlT1BzKCkpOwp9KShTY3JhdGNoKTsK","runtimeoptions":"https://extensions.turbowarp.org/runtime-options.js","shovelcss":"https://extensions.turbowarp.org/TheShovel/CustomStyles.js","skyhigh173JSON":"https://extensions.turbowarp.org/Skyhigh173/json.js"},"customFonts":[{"system":false,"family":"VCR_OSD_MONO_1","fallback":"Sans Serif","md5ext":"5fcd6c657ffa8a6791632c705f0944ea.ttf"}],"meta":{"semver":"3.0.0","platform":{"name":"TurboWarp","url":"https://turbowarp.org/"}}}
